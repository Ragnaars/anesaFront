"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6805],{6805:(I,m,i)=>{i.r(m),i.d(m,{AUTH_ROUTES:()=>J});var v=i(467),l=i(9417),F=i(177),e=i(4438);const y=["inputPass"],x=["*"];let S=(()=>{var o;class a{constructor(){this.showPassword=!1}ngOnInit(){}toggleShow(){this.showPassword=!this.showPassword,console.log("inputPass:",this.inputPass),this.inputPass.nativeElement.type=this.showPassword?"text":"password"}}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275cmp=e.VBU({type:o,selectors:[["show-hide-password"]],contentQueries:function(r,t,s){if(1&r&&e.wni(s,y,5),2&r){let n;e.mGM(n=e.lsd())&&(t.inputPass=n.first)}},standalone:!0,features:[e.aNF],ngContentSelectors:x,decls:4,vars:2,consts:[[1,"type-toggle",3,"click"],["src","assets/img/show.svg",1,"show-option",2,"position","absolute","right","25px","margin-top","-25px",3,"hidden"],["src","assets/img/hide.svg",1,"show-option",2,"position","absolute","right","25px","margin-top","-25px",3,"hidden"]],template:function(r,t){1&r&&(e.NAR(),e.SdG(0),e.j41(1,"a",0),e.bIt("click",function(){return t.toggleShow()}),e.nrm(2,"img",1)(3,"img",2),e.k0s()),2&r&&(e.R7$(2),e.Y8G("hidden",t.showPassword),e.R7$(),e.Y8G("hidden",!t.showPassword))}}),a})();var c=i(3165),E=i(8032),b=i.n(E),C=i(600),w=i(369),R=i(6241),U=i(1530),A=i(4596),h=i(5312),j=i(1626);let L=(()=>{var o;class a{constructor(r,t){this.httpClient=r,this.http=t}validacionCedula(r){const t=JSON.stringify(r);return this.http.post(`${h.c.apiLogin}/validacion/cedula`,t,{headers:{"Content-Type":"application/json"}})}validacionBoarding(r){const t=JSON.stringify(r);return this.http.post(`${h.c.apiLogin}/validacion/boarding-pass`,t,{headers:{"Content-Type":"application/json"}})}consultarParametro(r){const t=JSON.stringify(r);return this.http.post(`${h.c.apiLogin}/app/name`,t,{headers:{"Content-Type":"application/json"}})}}return(o=a).\u0275fac=function(r){return new(r||o)(e.KVO(j.Qq),e.KVO(j.Qq))},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();const T=(o,a)=>({"p-2":o,"p-3":a});let $=(()=>{var o;class a{constructor(r,t,s,n,u,p,f,g){this.fb=r,this.navCtrl=t,this.storage=s,this.router=n,this.ngxLoaderSrv=u,this.authSrv=p,this.apiSrv=f,this.menuCtrl=g,this.user="avsec1",this.pass="Dgac.2024",this.titulo="",this.userForm=this.fb.group({usuario:["",l.k0.required],password:["",l.k0.required]})}ngOnInit(){var r=this;return(0,v.A)(function*(){r.menuCtrl.enable(!1),yield r.storage.create(),r.parametro()})()}parametro(){this.ngxLoaderSrv.start(),this.apiSrv.consultarParametro({}).subscribe({next:r=>{this.ngxLoaderSrv.stop(),console.log("parametro:",r),this.titulo=r.valor},error:r=>{console.log("error ticket:",r),this.ngxLoaderSrv.stop()}})}login(){const r=this.userForm.controls.usuario.value,t=this.userForm.controls.password.value;this.ngxLoaderSrv.start(),this.authSrv.logIn2(r,t).subscribe({next:s=>{console.log("Lo tengo",s.data.funcionario);const n=s.data.funcionario;this.storage.clear();var u="",p="",f="",g="",k="",P=[];null!=n.email&&(p=n.email),null!=n.nombres&&(u=n.nombres),null!=n.apellidoMaterno&&(f=n.apellidoMaterno),null!=n.apellidoPaterno&&(g=n.apellidoPaterno),null!=n.rut&&(k=n.rut+"-"+n.digitoVerificador),null!=n.nombreUnidad&&(P=n.nombreUnidad),this.storage.set("perfil",{email:p,nombres:u,apellidoMaterno:f,apellidoPaterno:g,rut:k,perfil:P,zona:"6",unidad:"4",agrupacion:"1",fechaVencimiento:"2029-01-01",nroTica:"123456",areaAcceso:"OPL",empresa:"DGAC",color:"rojo"}).then(D=>{this.ngxLoaderSrv.stop(),this.menuCtrl.enable(!0),this.router.navigate(["/home"],{replaceUrl:!0}),b().fire({title:"Inicio de sesion correcto",position:"center",timer:1e3,showConfirmButton:!1,text:`Bienvenido ${u}`,icon:"success",heightAuto:!1})})},error:s=>{console.log("error ticket:",s),b().fire({icon:"error",title:"Oops...",text:"Algo ha salido mal!",heightAuto:!1}),this.ngxLoaderSrv.stop()}})}get detectScreen(){return screen.width>=768}}return(o=a).\u0275fac=function(r){return new(r||o)(e.rXU(l.ok),e.rXU(C.q9),e.rXU(w.w),e.rXU(R.Ix),e.rXU(U.eD),e.rXU(A.u),e.rXU(L),e.rXU(c._t))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-login"]],standalone:!0,features:[e.aNF],decls:39,vars:5,consts:[["inputPass",""],[1,"border-pantone-130c","bg-pantone-286c","dark:bg-gray-800","dark:border-gray-700"],[1,"max-w-screen-xl","flex","items-center","justify-between","mx-auto",3,"ngClass"],[1,"font-semibold","text-slate-200","text-xl","text-center"],["href","https://www.dgac.gob.cl/",1,"flex","items-center","space-x-3","rtl:space-x-reverse"],["src","assets/icon/USER.png","alt","Flowbite Logo",1,"h-10"],[1,"self-center","text-2xl","font-semibold","whitespace-nowrap","dark:text-white"],["scrollY","false",1,"background"],[1,"h-full","flex","justify-center","items-center"],[1,"h-full","w-full"],[1,"justify-center","items-center"],[1,"img","flex","justify-center","items-center","mb-4"],["src","../../../assets/icon/USER.png","alt","",1,"h-36","w-24"],[1,"justify-center","items-center","w-full"],["size","12","size-md","8","size-lg","6"],[1,"card","w-full","border","rounded-2xl","shadow-sm","p-4"],[1,"col-12","text-center","p-4"],[1,"text-pantone-312c","text-3xl"],[3,"ngSubmit","formGroup"],[1,"text-left","form-group","mt-2"],[1,"text-gray-500","font-sans","font-semibold","text-lg"],["type","text","formControlName","usuario","placeholder","nombre@dgac.gob.cl",1,"form-control","mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","h-16","focus:ring-blue-500","focus:border-blue-500"],[1,"text-left","form-group","mt-4"],["type","password","formControlName","password","placeholder","******",1,"form-control","mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","h-16","focus:ring-blue-500","focus:border-blue-500"],[1,"flex","justify-center","align-middle","text-center","content-center"],[1,"w-full","mt-4"],["type","submit",1,"bg-pantone-286c","h-14","rounded-2xl","text-2xl","font-sans","font-semibold","text-slate-50",2,"width","calc(100% - 30px)"],[1,"mt-3","h-full","flex","text-center","text-wrap","items-center","justify-center"]],template:function(r,t){if(1&r){const s=e.RV6();e.j41(0,"nav",1)(1,"div",2)(2,"h1",3),e.EFF(3,"Login"),e.k0s(),e.j41(4,"a",4),e.nrm(5,"img",5)(6,"span",6),e.k0s()()(),e.j41(7,"ion-content",7)(8,"div",8)(9,"ion-grid")(10,"div",9)(11,"ion-row",10)(12,"div",11),e.nrm(13,"img",12),e.k0s()(),e.j41(14,"ion-row",13)(15,"ion-col",14)(16,"div",15)(17,"div",16)(18,"h2",17)(19,"strong"),e.EFF(20,"Ingresa a la aplicaci\xf3n"),e.k0s()()(),e.j41(21,"form",18),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(t.login())}),e.j41(22,"div",19)(23,"label",20),e.EFF(24,"Usuario DGAC"),e.k0s(),e.nrm(25,"input",21),e.k0s(),e.j41(26,"div",22)(27,"label",20),e.EFF(28,"Clave"),e.k0s(),e.j41(29,"show-hide-password"),e.nrm(30,"input",23,0),e.k0s(),e.j41(32,"div",24)(33,"div",25)(34,"button",26),e.EFF(35,"Ingresar"),e.k0s()()(),e.j41(36,"div",27)(37,"p"),e.EFF(38,"Usa tu nombre de usuario DGAC y clave para entrar."),e.k0s()()()()()()()()()()()}2&r&&(e.R7$(),e.Y8G("ngClass",e.l_i(2,T,!t.detectScreen,t.detectScreen)),e.R7$(20),e.Y8G("formGroup",t.userForm))},dependencies:[c.hU,c.ln,c.lO,c.W9,S,l.YN,l.qT,l.me,l.BC,l.cb,F.YU,l.X1,l.j4,l.JD],styles:["ion-content.background[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;--background: none;background:url(/assets/img/backgroundImage.webp) no-repeat center center fixed;background-size:cover}.card[_ngcontent-%COMP%]{background:#fffc}"]}),a})();var O=i(1485);const J=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:$},{path:"profile",component:(()=>{var o;class a{constructor(r){this.storage=r,this.title="Perfil"}ngOnInit(){var r=this;return(0,v.A)(function*(){r.storage.create(),yield r.storage.get("perfil").then(t=>{r.perfil=t,console.log(r.perfil)})})()}}return(o=a).\u0275fac=function(r){return new(r||o)(e.rXU(w.w))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-profile"]],standalone:!0,features:[e.aNF],decls:78,vars:12,consts:[[3,"title"],[1,"flex","justify-center","items-center","h-full"],[1,"w-full","max-w-4xl","mx-auto","bg-background","shadow-lg","overflow-hidden","rounded-2xl"],[1,"bg-pantone-312c","h-32","relative"],[1,"absolute","bottom-0","left-0","transform","translate-y-1/2","ml-6"],[1,"relative","flex","shrink-0","overflow-hidden","rounded-full","w-24","h-24","border-4","border-background"],["src","assets/icon/USER.png",1,"aspect-square","h-full","w-full"],[1,"px-6","pt-16","pb-6","grid","gap-6"],[1,"grid","gap-1"],[1,"text-2xl","font-bold"],[1,"text-muted-foreground"],[1,"font-medium"],[1,"w-full","mt-1","mb-1",2,"height","1px","background-color","rgb(221, 214, 214)"],[1,"grid","gap-4"],[1,"text-lg","font-semibold"],[1,"grid","gap-2"],[1,"flex","items-center","gap-2"],[1,"text-sm","text-muted-foreground"]],template:function(r,t){1&r&&(e.nrm(0,"app-navbar",0),e.j41(1,"ion-content")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"span",5),e.nrm(7,"img",6),e.k0s()()(),e.j41(8,"div",7)(9,"div",8)(10,"h2",9),e.EFF(11),e.k0s(),e.j41(12,"div",10)(13,"span",11),e.EFF(14),e.k0s(),e.EFF(15," - "),e.j41(16,"span"),e.EFF(17,"Avsec"),e.k0s()(),e.j41(18,"div",10)(19,"span"),e.EFF(20),e.k0s()()(),e.nrm(21,"div",12),e.j41(22,"div",13)(23,"div",8)(24,"h3",14),e.EFF(25,"Informaci\xf3n Personal"),e.k0s(),e.j41(26,"div",15)(27,"div",16)(28,"div",16)(29,"div",11),e.EFF(30,"RUT"),e.k0s(),e.j41(31,"div",17),e.EFF(32),e.k0s()()(),e.j41(33,"div",16)(34,"div",11),e.EFF(35,"Fecha Vencimiento"),e.k0s(),e.j41(36,"div",17),e.EFF(37),e.k0s()()()(),e.nrm(38,"div",12),e.j41(39,"div",8)(40,"h3",14),e.EFF(41,"Accesos y Seguridad"),e.k0s(),e.j41(42,"div",15)(43,"div",16)(44,"div",11),e.EFF(45,"N\xfamero TICA"),e.k0s(),e.j41(46,"div",17),e.EFF(47),e.k0s()(),e.j41(48,"div",16)(49,"div",11),e.EFF(50,"\xc1rea de Acceso"),e.k0s(),e.j41(51,"div",17),e.EFF(52),e.k0s()(),e.j41(53,"div",16)(54,"div",11),e.EFF(55,"Zona"),e.k0s(),e.j41(56,"div",17),e.EFF(57),e.k0s()()()(),e.nrm(58,"div",12),e.j41(59,"div",8)(60,"h3",14),e.EFF(61,"Organizaci\xf3n"),e.k0s(),e.j41(62,"div",15)(63,"div",16)(64,"div",11),e.EFF(65,"Empresa"),e.k0s(),e.j41(66,"div",17),e.EFF(67),e.k0s()(),e.j41(68,"div",16)(69,"div",11),e.EFF(70,"Unidad"),e.k0s(),e.j41(71,"div",17),e.EFF(72),e.k0s()(),e.j41(73,"div",16)(74,"div",11),e.EFF(75,"Agrupaci\xf3n"),e.k0s(),e.j41(76,"div",17),e.EFF(77),e.k0s()()()()()()()()()),2&r&&(e.Y8G("title",t.title),e.R7$(11),e.JRh((null==t.perfil?null:t.perfil.nombres)+" "+(null==t.perfil?null:t.perfil.apellidoPaterno)),e.R7$(3),e.JRh(null==t.perfil?null:t.perfil.perfil),e.R7$(6),e.JRh(null==t.perfil?null:t.perfil.email),e.R7$(12),e.JRh(null==t.perfil?null:t.perfil.rut),e.R7$(5),e.JRh(null==t.perfil?null:t.perfil.fechaVencimiento),e.R7$(10),e.JRh(null==t.perfil?null:t.perfil.nroTica),e.R7$(5),e.JRh(null==t.perfil?null:t.perfil.areaAcceso),e.R7$(5),e.JRh(null==t.perfil?null:t.perfil.zona),e.R7$(10),e.JRh(null==t.perfil?null:t.perfil.empresa),e.R7$(5),e.JRh(null==t.perfil?null:t.perfil.unidad),e.R7$(5),e.JRh(null==t.perfil?null:t.perfil.agrupacion))},dependencies:[c.W9,F.MD,l.YN,O.a],styles:["ion-content.background[_ngcontent-%COMP%]{--background: #f1f5f9}"]}),a})()}]}}]);