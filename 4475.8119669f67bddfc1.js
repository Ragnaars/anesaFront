"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4475],{4475:(Ai,ko,b)=>{b.r(ko),b.d(ko,{OBJETOS_RETENIDOS_ROUTES:()=>Vi});var _=b(467),C=b(177),s=b(9417),c=b(3165),x=b(6241),F=b(5079),u=b(5873),A=b(1485),o=b(4438),g=b(3380);const zo=["popover"];function Lo(r,n){1&r&&(o.j41(0,"ion-content",2)(1,"div",3)(2,"div",4),o.nrm(3,"ion-icon",5),o.j41(4,"p",6)(5,"strong"),o.EFF(6,"Retiro:"),o.k0s(),o.EFF(7," Indica que objetos est\xe1n pendientes de retiro en oficina. "),o.k0s()(),o.j41(8,"div",4),o.nrm(9,"ion-icon",7),o.j41(10,"p",6)(11,"strong"),o.EFF(12,"Entrega:"),o.k0s(),o.EFF(13," Indica que objetos est\xe1n pendientes de entrega en aeronave."),o.k0s()(),o.j41(14,"div",4),o.nrm(15,"ion-icon",8),o.j41(16,"p",6)(17,"strong"),o.EFF(18,"Completado:"),o.k0s(),o.EFF(19," Permite ver el formulario completado "),o.k0s()()()())}let Fo=(()=>{var r;class n{constructor(){this.isOpen=!1}ngOnInit(){this.startAllIcons()}presentPopover(e){this.isOpen=!0,this.popover.event=e}closePopover(){this.isOpen=!1}startAllIcons(){(0,F.a)({arrowUndoCircleOutline:u.k48,arrowRedoCircleOutline:u.E7K,eyeOutline:u.ov$})}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-popover"]],viewQuery:function(e,t){if(1&e&&o.GBs(zo,7),2&e){let i;o.mGM(i=o.lsd())&&(t.popover=i.first)}},standalone:!0,features:[o.aNF],decls:3,vars:1,consts:[["popover",""],[3,"didDismiss","isOpen"],[1,"ion-padding"],[1,"icon-description-container"],[1,"icon-description"],["name","arrow-redo-outline",1,"icon-redo"],[1,"description-text"],["name","arrow-undo-outline",1,"icon-undo"],["name","eye-outline",1,"icon-eye"]],template:function(e,t){if(1&e){const i=o.RV6();o.j41(0,"ion-popover",1,0),o.bIt("didDismiss",function(){return o.eBV(i),o.Njj(t.isOpen=!1)}),o.DNE(2,Lo,20,0,"ng-template"),o.k0s()}2&e&&o.Y8G("isOpen",t.isOpen)},dependencies:[c.W9,c.CF,c.iq],styles:['@charset "UTF-8";.icon-description-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;padding:10px}.icon-description[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-redo[_ngcontent-%COMP%]{font-size:4rem;color:var(--color-pantone-130c);margin-right:10px}.icon-undo[_ngcontent-%COMP%]{font-size:4rem;color:var(--color-pantone-286c);margin-right:10px}.icon-eye[_ngcontent-%COMP%]{font-size:3rem;color:var(--color-pantone-success);margin-right:10px}.description-text[_ngcontent-%COMP%]{font-size:16px;color:#333;margin:0}.description-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.ion-content[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0}']}),n})(),Eo=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-refresher-icon"]],standalone:!0,features:[o.aNF],decls:6,vars:0,consts:[["type","button",1,"button"],[1,"text-gray-700","p-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-repeat"],["d","M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"],["fill-rule","evenodd","d","M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"]],template:function(e,t){1&e&&(o.j41(0,"button",0)(1,"p",1),o.EFF(2,"Refrescar"),o.k0s(),o.qSk(),o.j41(3,"svg",2),o.nrm(4,"path",3)(5,"path",4),o.k0s()())},styles:[".button[_ngcontent-%COMP%]{color:#fff;background-color:transparent;font-weight:500;border-radius:.5rem;font-size:1rem;line-height:2rem;padding:.7rem 2rem;cursor:pointer;text-align:center;margin-right:.5rem;display:inline-flex;align-items:center;border:none}.button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:inline;width:1.3rem;height:1.3rem;margin-right:.75rem;color:gray}.button[_ngcontent-%COMP%]:focus   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin_357 .5s linear}@keyframes _ngcontent-%COMP%_spin_357{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();var P=b(4975);function Jo(r,n){1&r&&(o.j41(0,"span",20),o.EFF(1," Estado "),o.k0s())}function Qo(r,n){1&r&&o.EFF(0," PENDIENTE ")}function Wo(r,n){if(1&r&&(o.EFF(0),o.nI1(1,"uppercase")),2&r){const a=o.XpG().row;o.SpI(" ",o.bMT(1,1,null==a.traslado?null:a.traslado.estadoTraslado.nombre)," ")}}function Ko(r,n){if(1&r&&(o.j41(0,"span",20),o.DNE(1,Qo,1,0)(2,Wo,2,3),o.k0s()),2&r){const a=n.row;o.R7$(),o.vxM(1,null==a.traslado?1:2)}}function oe(r,n){1&r&&(o.j41(0,"span",20),o.EFF(1," Vuelo "),o.k0s())}function ee(r,n){1&r&&(o.j41(0,"span",20),o.EFF(1," Compa\xf1ia "),o.k0s())}function te(r,n){1&r&&(o.j41(0,"span",20),o.EFF(1," Pax "),o.k0s())}function re(r,n){1&r&&(o.j41(0,"span",20),o.EFF(1," Ticket "),o.k0s())}function ae(r,n){1&r&&(o.j41(0,"span",20),o.EFF(1," Funcionario a cargo "),o.k0s())}function ie(r,n){1&r&&(o.j41(0,"span",20),o.EFF(1," Fecha de registro "),o.k0s())}function ne(r,n){if(1&r&&(o.j41(0,"div",21),o.EFF(1),o.nI1(2,"date"),o.k0s()),2&r){const a=n.row;o.R7$(),o.SpI(" ",o.i5U(2,1,a.fechaHoraRegistro,"yyyy/MM/dd")," ")}}function se(r,n){1&r&&(o.j41(0,"span",20),o.EFF(1," Acciones "),o.k0s())}function le(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",21)(1,"ion-button",24),o.bIt("click",function(){o.eBV(a);const t=o.XpG(2).row,i=o.XpG();return o.Njj(i.goToTraslados(t.companiaVuelo.companiaAereaData.id,t.companiaVuelo.numeroVuelo,t.requiereEscolta,t.companiaVuelo.companiaAereaData.nombre,t.origen,t.destino,t.fechaHoraVuelo,t.puenteEmbarque.id))}),o.nrm(2,"ion-icon",25),o.k0s()()}}function ce(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",21)(1,"ion-button",26),o.bIt("click",function(){o.eBV(a);const t=o.XpG(2).row,i=o.XpG();return o.Njj(i.goToTrasladoEnTraslado(null==t.traslado?null:t.traslado.id))}),o.nrm(2,"ion-icon",27),o.k0s()()}}function de(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",21)(1,"ion-button",26),o.bIt("click",function(){o.eBV(a);const t=o.XpG(2).row,i=o.XpG();return o.Njj(i.goToTrasladoEntregado(null==t.traslado?null:t.traslado.id))}),o.nrm(2,"ion-icon",28),o.k0s()()}}function ue(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",21)(1,"ion-button",26),o.bIt("click",function(){o.eBV(a);const t=o.XpG(2).row,i=o.XpG();return o.Njj(i.goToTrasladoEntregadoZZ(null==t.traslado?null:t.traslado.id))}),o.nrm(2,"ion-icon",28),o.k0s()()}}function me(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",21)(1,"ion-button",22),o.bIt("click",function(){o.eBV(a);const t=o.XpG().row,i=o.XpG();return o.Njj(i.goToWithdraw(t.id))}),o.nrm(2,"ion-icon",23),o.k0s()(),o.DNE(3,le,3,0,"div",21)(4,ce,3,0,"div",21)(5,de,3,0,"div",21)(6,ue,3,0,"div",21)}if(2&r){const a=o.XpG().row;o.R7$(3),o.vxM(3,null==a.traslado?3:-1),o.R7$(),o.vxM(4,2==(null==a.traslado||null==a.traslado.estadoTraslado?null:a.traslado.estadoTraslado.id)?4:-1),o.R7$(),o.vxM(5,3==(null==a.traslado||null==a.traslado.estadoTraslado?null:a.traslado.estadoTraslado.id)?5:-1),o.R7$(),o.vxM(6,4==(null==a.traslado||null==a.traslado.estadoTraslado?null:a.traslado.estadoTraslado.id)?6:-1)}}function pe(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",21)(1,"ion-button",29),o.bIt("click",function(){o.eBV(a);const t=o.XpG().row,i=o.XpG();return o.Njj(i.goToDelivery(t.id))}),o.nrm(2,"ion-icon",30),o.k0s()()}}function fe(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",21)(1,"ion-button",31),o.bIt("click",function(){o.eBV(a);const t=o.XpG().row,i=o.XpG();return o.Njj(i.goToDetail(t.id))}),o.nrm(2,"ion-icon",23),o.k0s()()}}function ge(r,n){}function be(r,n){if(1&r&&o.DNE(0,me,7,4)(1,pe,3,0)(2,fe,3,0)(3,ge,0,0),2&r){const a=n.row;o.vxM(0,1==a.estado.id?0:3==a.estado?1:4==a.estado?2:3)}}let he=(()=>{var r;class n{constructor(e,t){this.service=e,this.router=t,this.cantidadMensajes=new o.bkB,this.ColumnMode=g.oZ,this.loadingIndicator=!1,this.rows=[],this.temp=[],this.filteredRows=[],this.sorts=[{prop:"estado",dir:"asc"},{prop:"fechaReg",dir:"desc"}],this.getRowClass=i=>{var l,d,m;return{"row-color":2===(null===(l=i.traslado)||void 0===l||null===(l=l.estadoTraslado)||void 0===l?void 0:l.id),"row-color-2":3===(null===(d=i.traslado)||void 0===d||null===(d=d.estadoTraslado)||void 0===d?void 0:d.id),"row-color-3":4===(null===(m=i.traslado)||void 0===m||null===(m=m.estadoTraslado)||void 0===m?void 0:m.id),"row-color-pendiente":null===i.traslado}},this.getCellClass=i=>{var l,d,m;return{"cell-color":2===(null===(l=i.row.traslado)||void 0===l||null===(l=l.estadoTraslado)||void 0===l?void 0:l.id),"cell-color-2":3===(null===(d=i.row.traslado)||void 0===d||null===(d=d.estadoTraslado)||void 0===d?void 0:d.id),"cell-color-3":4===(null===(m=i.row.traslado)||void 0===m||null===(m=m.estadoTraslado)||void 0===m?void 0:m.id),"cell-color-pendiente":null===i.row.traslado}},(0,F.a)({filterOutline:u.PyO,helpCircleOutline:u.W2C,eyeOutline:u.ov$,airplaneOutline:u.jSi,arrowRedoOutline:u.Kgq,checkmarkDoneOutline:u.u8Q,arrowUndoOutline:u.K7C})}ngOnInit(){this.getDataForTable(),this.startAllIcons()}ngOnChanges(e){e.filtro&&e.filtro.currentValue&&(console.log("Cambio en filtro",this.filtro),0===Object.keys(this.filtro).length?(console.log("Filtro vac\xedo"),this.getDataForTable()):this.aplicarFiltro(this.filtro))}aplicarFiltro(e){this.loadingIndicator=!0,this.service.filtrarData(e).subscribe({next:t=>{console.log("Datos filtrados obtenidos:",t),this.rows=[...t],this.temp=[...t],this.emitirCantidadMensajes(this.rows.length),this.table&&(this.table.offset=0),this.loadingIndicator=!1},error:t=>{console.error("Error al obtener datos filtrados:",t),this.loadingIndicator=!1}})}getDataForTable(){this.loadingIndicator=!0,this.service.getData().subscribe({next:e=>{console.log(e),this.emitirCantidadMensajes(e.length),this.rows=[...e],this.rows=e.sort((i,l)=>null===i.traslado&&null!==l.traslado?-1:null!==i.traslado&&null===l.traslado?1:null===i.traslado&&null===l.traslado?i.companiaVuelo.companiaAereaData.nombre<l.companiaVuelo.companiaAereaData.nombre?-1:i.companiaVuelo.companiaAereaData.nombre>l.companiaVuelo.companiaAereaData.nombre?1:i.companiaVuelo.numeroVuelo-l.companiaVuelo.numeroVuelo:i.traslado.estadoTraslado.id!==l.traslado.estadoTraslado.id?(i.traslado.estadoTraslado.id||0)-(l.traslado.estadoTraslado.id||0):i.companiaVuelo.companiaAereaData.nombre<l.companiaVuelo.companiaAereaData.nombre?-1:i.companiaVuelo.companiaAereaData.nombre>l.companiaVuelo.companiaAereaData.nombre?1:i.companiaVuelo.numeroVuelo-l.companiaVuelo.numeroVuelo),this.temp=[...e],this.filteredRows=[...e],this.loadingIndicator=!1},error:e=>{console.log(e),this.loadingIndicator=!1}})}goToWithdraw(e){this.router.navigate(["/formularios/objetosRetenidos/form-retiro-retenidos",e]),this.getDataForTable()}goToDelivery(e){this.router.navigate(["/formularios/objetosRetenidos/form-entrega-retenidos",e]),this.getDataForTable()}goToDetail(e){this.router.navigate(["/formularios/objetosRetenidos/detalle-retenido",e]),this.getDataForTable()}goToTraslados(e,t,i,l,d,m,p,f){this.router.navigate(1==i?["/formularios/objetosRetenidos/traslados-escolta-retenidos",e,t,f,i,l,d,m,p]:["/formularios/objetosRetenidos/traslados-retenidos",e,t,f,i,l,d,m,p])}goToTrasladoEnTraslado(e){this.router.navigate(["/formularios/objetosRetenidos/traslados-escolta-retenidos-en-traslado",e])}goToTrasladoEntregado(e){this.router.navigate(["/formularios/objetosRetenidos/traslados-retenidos-entregados",e])}goToTrasladoEntregadoZZ(e){this.router.navigate(["/formularios/objetosRetenidos/traslado-escolta-retenido-entregado",e])}openPopover(e){this.popoverComponent.presentPopover(e)}emitirCantidadMensajes(e){this.cantidadMensajes.emit(e)}startAllIcons(){(0,F.a)({filterOutline:u.PyO,eyeOutline:u.ov$,trashOutline:u.P1A,arrowRedoOutline:u.Kgq,arrowUndoOutline:u.K7C,mailUnreadOutline:u.HfN,checkmarkDoneOutline:u.u8Q,airplaneOutline:u.jSi})}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(P.K),o.rXU(x.Ix))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-data-table-entrada-retenidos"]],viewQuery:function(e,t){if(1&e&&(o.GBs(g.ge,5),o.GBs(Fo,7)),2&e){let i;o.mGM(i=o.lsd())&&(t.table=i.first),o.mGM(i=o.lsd())&&(t.popoverComponent=i.first)}},inputs:{filtro:"filtro"},outputs:{cantidadMensajes:"cantidadMensajes"},standalone:!0,features:[o.OA$,o.aNF],decls:32,vars:16,consts:[["table",""],[1,"relative","-mt-2"],["size","12"],["align","right",1,"searchTable"],[1,"grid","grid-cols-1","md:grid-cols-3"],[1,"flex","items-center"],["name","filter-outline",1,"h-6","w-6","ml-4"],[1,"pl-20"],[3,"click"],[1,"material",3,"columnMode","headerHeight","footerHeight","rowHeight","loadingIndicator","scrollbarH","limit","rows","sorts","rowClass"],["prop","traslado.estaadoTraslado.nombre",3,"width"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["prop","companiaVuelo.numeroVuelo",3,"width"],["prop","companiaVuelo.companiaAereaData.nombre"],["prop","paxNombre"],["prop","ticket",3,"width"],["prop","userAvsec.nombre"],["name","Fecha de registro","prop","fechaHoraRegistro"],[3,"frozenRight","width","cellClass"],[1,"tableHeader"],[1,"flex","justify-center","items-center"],["size","small",2,"--background","var(--color-pantone-130c)",3,"click"],["name","eye-outline"],["size","small",2,"--background","red",3,"click"],["name","airplane-outline"],["size","small",2,"--background","green",3,"click"],["name","arrow-redo-outline"],["name","checkmark-done-outline"],["size","small",2,"--background","var(--color-pantone-312c)",3,"click"],["name","arrow-undo-outline"],["size","small",2,"--background","var(--color-pantone-success)",3,"click"]],template:function(e,t){if(1&e){const i=o.RV6();o.j41(0,"ion-grid",1)(1,"ion-row")(2,"ion-col",2)(3,"ion-card")(4,"div",3)(5,"div",4)(6,"div",5),o.nrm(7,"ion-icon",6),o.k0s(),o.nrm(8,"div"),o.j41(9,"div",7)(10,"app-refresher-icon",8),o.bIt("click",function(){return o.eBV(i),o.Njj(t.getDataForTable())}),o.k0s()()()(),o.j41(11,"ngx-datatable",9,0)(13,"ngx-datatable-column",10),o.DNE(14,Jo,2,0,"ng-template",11)(15,Ko,3,1,"ng-template",12),o.k0s(),o.j41(16,"ngx-datatable-column",13),o.DNE(17,oe,2,0,"ng-template",11),o.k0s(),o.j41(18,"ngx-datatable-column",14),o.DNE(19,ee,2,0,"ng-template",11),o.k0s(),o.j41(20,"ngx-datatable-column",15),o.DNE(21,te,2,0,"ng-template",11),o.k0s(),o.j41(22,"ngx-datatable-column",16),o.DNE(23,re,2,0,"ng-template",11),o.k0s(),o.j41(24,"ngx-datatable-column",17),o.DNE(25,ae,2,0,"ng-template",11),o.k0s(),o.j41(26,"ngx-datatable-column",18),o.DNE(27,ie,2,0,"ng-template",11)(28,ne,3,4,"ng-template",12),o.k0s(),o.j41(29,"ngx-datatable-column",19),o.DNE(30,se,2,0,"ng-template",11)(31,be,4,1,"ng-template",12),o.k0s()()()()()()}2&e&&(o.R7$(11),o.Y8G("columnMode",t.ColumnMode.force)("headerHeight",50)("footerHeight",50)("rowHeight","auto")("loadingIndicator",t.loadingIndicator)("scrollbarH",!0)("limit",7)("rows",t.rows)("sorts",t.sorts)("rowClass",t.getRowClass),o.R7$(2),o.Y8G("width",170),o.R7$(3),o.Y8G("width",75),o.R7$(6),o.Y8G("width",100),o.R7$(7),o.Y8G("frozenRight",!0)("width",75)("cellClass",t.getCellClass))},dependencies:[c.iq,c.Jm,g.Kj,g.ge,g.ed,g.V,g.QI,c.lO,c.ln,c.hU,c.b_,C.vh,C.Pc,Eo],styles:['@charset "UTF-8";.tableHeader[_ngcontent-%COMP%]{color:#000;font-weight:500;letter-spacing:.5px}.ngx-datatable.fixed-header[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-inner[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]{background:#4b6ef7;color:#fff;opacity:.9;text-wrap:wrap!important;word-wrap:break-word!important;font-weight:500!important;letter-spacing:.5px!important}.ngx-datatable.material[_ngcontent-%COMP%]:not(.cell-selection)   .datatable-body-row[_ngcontent-%COMP%]:hover   .datatable-row-group[_ngcontent-%COMP%]{background-color:#f5f6ff!important}.datatable-body[_ngcontent-%COMP%]{word-wrap:break-word!important}.ngx-datatable[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   -datatable-body-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{align-items:center}.searchTable[_ngcontent-%COMP%]{margin-right:1.2vh}.searchTable[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--background: #fff;--border-radius: 5px;padding:8px;margin:.2vh .5vh auto;width:40%;border:1px solid #ccc;box-shadow:0 2px 4px #0000001a}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.animated-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1s infinite;animation-delay:5s}.animated-icon[_ngcontent-%COMP%]:hover{animation:none}  .row-color{background-color:#f3ff96;border-top:#969494 1px solid;border-bottom:#969494 1px solid}  .row-color-2{background-color:#d0f2e9;border-top:#969494 1px solid;border-bottom:#969494 1px solid}  .row-color-3{background-color:#aeecdb;border-top:#969494 1px solid;border-bottom:#969494 1px solid}  .row-color-pendiente{background-color:#f3d4a3;border-top:#969494 1px solid;border-bottom:#969494 1px solid}  .cell-color{background-color:#f3ff96;border-top:#969494 1px solid;border-bottom:#969494 1px solid}  .cell-color-2{background-color:#d0f2e9;border-top:#969494 1px solid;border-bottom:#969494 1px solid}  .cell-color-3{background-color:#aeecdb;border-top:#969494 1px solid;border-bottom:#969494 1px solid}  .cell-color-pendiente{background-color:#f3d4a3;border-top:#969494 1px solid;border-bottom:#969494 1px solid}']}),n})();var D=b(2917),I=b(1626),q=b(7669);let X=(()=>{var r;class n{constructor(e){this.http=e,this.url=`${q.c.apiBack}companiaAerea/`}findByNombre(e){const t=`${this.url}findName`,i=(new I.Nl).set("nombre",e);return console.log(this.http.get(t,{params:i})),this.http.get(t,{params:i})}getCompanias(){return this.http.get(this.url)}}return(r=n).\u0275fac=function(e){return new(e||r)(o.KVO(I.Qq))},r.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();const ve=(r,n)=>n.id,_e=()=>["/formularios/objetosRetenidos/form-retenidos"];function Ce(r,n){if(1&r&&(o.j41(0,"option",21),o.EFF(1),o.k0s()),2&r){const a=n.$implicit;o.FS9("value",a.id),o.R7$(),o.JRh(a.nombre)}}let xo=(()=>{var r;class n{constructor(e,t,i){this.fb=e,this.router=t,this.companiaAereaService=i,this.title="Bandeja de Entrada de Objetos Retenidos",this.formulario=this.fb.group({companiaAerea:[null],numeroVuelo:[null],fechaVuelo:[null],origen:[""],destino:[""],estadoTraslado:[null],trasladoNull:[null]}),(0,F.a)({filterOutline:u.PyO,swapHorizontalOutline:u.Ilt,airplaneOutline:u.jSi,mailUnreadOutline:u.HfN})}ngOnInit(){var e=this;return(0,_.A)(function*(){yield e.getCompanias(),e.startAllIcons()})()}startAllIcons(){(0,F.a)({camera:u.UIk,create:u.vtF,qrCode:u.JBo,swapHorizontalOutline:u.Ilt,filterOutline:u.PyO,helpCircleOutline:u.W2C,addCircleOutline:u.CDT,arrowBackOutline:u.hGB,addCircle:u.YH_})}resetFiltro(){this.formulario.reset(),this.filtro={}}onSubmit(){var e,t;"true"===this.formulario.value.estadoTraslado&&(null===(e=this.formulario.get("estadoTraslado"))||void 0===e||e.setValue(null),null===(t=this.formulario.get("trasladoNull"))||void 0===t||t.setValue(!0)),this.formulario.valid?(console.log("formulario valido",this.formulario.value),this.filtro=this.formulario.value):console.log("formulario invalido",this.formulario.value)}recibirCantidadMensajes(e){console.log("Cantidad de mensajes",e),this.cantidadAsignados=e}goToTraslados(){this.router.navigate(["/formularios/objetosRetenidos/bandeja-entrada-traslados"])}getCompanias(){return new Promise((e,t)=>{this.companiaAereaService.getCompanias().subscribe({next:i=>{console.log("Companias",i),this.companias=i,e(i)},error:i=>{console.log("Error",i),t(i)}})})}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(s.ok),o.rXU(x.Ix),o.rXU(X))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-bandeja-entrada-retenidos"]],standalone:!0,features:[o.aNF],decls:76,vars:5,consts:[[3,"title"],[1,"background"],[1,"container","mx-auto","rounded-lg"],[1,"grid","grid-cols-2","items-center","py-2","ion-padding-start"],[1,"flex","items-center"],["slot","start","name","filter-outline",1,"h-6","w-6","mr-4","text-pantone-130c"],[1,"text-xl","font-semibold","text-pantone-pro-black-c"],[1,"flex","justify-end","items-center","ion-padding-end"],[1,"grid","grid-cols-2","gap-4"],[1,"flex","justify-end","items-center","space-x-4"],[1,"text-nowrap",2,"--background","var(--color-pantone-130c)",3,"click"],["slot","end","name","airplane-outline"],[1,"text-nowrap",2,"--background","var(--color-pantone-312c)",3,"routerLink"],["slot","end","name","swap-horizontal-outline"],[2,"--background-color","aquamarine"],[1,"ion-padding"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"mb-4"],["for","compania",1,"block","text-sm","font-medium","text-gray-700"],["id","compania","name","compania","formControlName","companiaAerea","placeholder","Compania",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[3,"value"],["for","vuelo",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","vuelo","name","vuelo","formControlName","numeroVuelo","placeholder","Vuelo",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date","name","fechaVuelo","formControlName","fechaVuelo",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","origen",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","origen","name","origen","formControlName","origen","placeholder","Origen",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","destino",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","destino","name","destino","formControlName","destino","placeholder","Destino",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","estado",1,"block","text-sm","font-medium","text-gray-700"],["id","estado","name","estado","formControlName","estadoTraslado",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["value","true"],["value","2"],["value","3"],["value","4"],["value","5"],["type","button",1,"text-nowrap",2,"--background","var(--color-pantone-286c)",3,"click"],["type","submit",1,"text-nowrap",2,"--background","var(--color-pantone-286c)"],[1,"mb-0","py-2"],[1,"grid","grid-cols-2","md:grid-cols-3","items-center"],[1,"flex","items-center","ml-4"],["name","mail-unread-outline",1,"h-8","w-8","text-pantone-130c","animated-icon"],[1,"text-xl","font-semibold","text-gray-900","ml-2","text-nowrap"],[1,"hidden","md:block"],[3,"cantidadMensajes","filtro"]],template:function(e,t){1&e&&(o.nrm(0,"app-navbar",0),o.j41(1,"ion-content",1)(2,"div",2)(3,"ion-card")(4,"div",3)(5,"div",4),o.nrm(6,"ion-icon",5),o.j41(7,"h1",6),o.EFF(8,"Datos del vuelo"),o.k0s()(),o.j41(9,"div",7)(10,"div",8),o.nrm(11,"div"),o.j41(12,"div",9)(13,"ion-button",10),o.bIt("click",function(){return t.goToTraslados()}),o.EFF(14," Ir a traslados "),o.nrm(15,"ion-icon",11),o.k0s(),o.j41(16,"ion-button",12),o.EFF(17," Nuevo registro "),o.nrm(18,"ion-icon",13),o.k0s()()()()()(),o.j41(19,"ion-card",14)(20,"div",15)(21,"form",16),o.bIt("ngSubmit",function(){return t.onSubmit()}),o.j41(22,"div",17)(23,"div",18)(24,"label",19),o.EFF(25,"Compa\xf1ia"),o.k0s(),o.j41(26,"select",20),o.Z7z(27,Ce,2,2,"option",21,ve),o.k0s()(),o.j41(29,"div",18)(30,"label",22),o.EFF(31,"Vuelo"),o.k0s(),o.nrm(32,"input",23),o.k0s(),o.j41(33,"div",18)(34,"label",24),o.EFF(35,"Fecha de Vuelo"),o.k0s(),o.nrm(36,"input",25),o.k0s()(),o.j41(37,"div",17)(38,"div",18)(39,"label",26),o.EFF(40,"Origen"),o.k0s(),o.nrm(41,"input",27),o.k0s(),o.j41(42,"div",18)(43,"label",28),o.EFF(44,"Destino"),o.k0s(),o.nrm(45,"input",29),o.k0s(),o.j41(46,"div",18)(47,"label",30),o.EFF(48,"Estado"),o.k0s(),o.j41(49,"select",31)(50,"option",32),o.EFF(51,"PENDIENTE"),o.k0s(),o.j41(52,"option",33),o.EFF(53,"EN TRASLADO"),o.k0s(),o.j41(54,"option",34),o.EFF(55,"ENTREGADO"),o.k0s(),o.j41(56,"option",35),o.EFF(57,"ENTREGADO ZZ"),o.k0s(),o.j41(58,"option",36),o.EFF(59,"ANULADO"),o.k0s()()()(),o.j41(60,"div",8),o.nrm(61,"div"),o.j41(62,"div",9)(63,"ion-button",37),o.bIt("click",function(){return t.resetFiltro()}),o.EFF(64," Cancelar Filtro "),o.k0s(),o.j41(65,"ion-button",38),o.EFF(66," Buscar "),o.k0s()()()()()(),o.nrm(67,"app-divider"),o.j41(68,"ion-card",39)(69,"div",40)(70,"div",41),o.nrm(71,"ion-icon",42),o.j41(72,"h1",43),o.EFF(73,"Bandeja de Entrada"),o.k0s()(),o.nrm(74,"div",44),o.k0s()(),o.j41(75,"app-data-table-entrada-retenidos",45),o.bIt("cantidadMensajes",function(l){return t.recibirCantidadMensajes(l)}),o.k0s()()()),2&e&&(o.Y8G("title",t.title),o.R7$(16),o.Y8G("routerLink",o.lJ4(4,_e)),o.R7$(5),o.Y8G("formGroup",t.formulario),o.R7$(6),o.Dyx(t.companias),o.R7$(48),o.Y8G("filtro",t.filtro))},dependencies:[c.W9,C.MD,s.YN,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,A.a,s.X1,s.j4,s.JD,c.Jm,c.iq,x.Wk,c.b_,he,D.h],styles:["ion-content.background[_ngcontent-%COMP%]{--background: #f1f5f9}"]}),n})();var jo=b(9326);const Te=["modal"],ke=["modalEncargado"],Fe=(r,n)=>({"bg-pantone-286c":r,"bg-pantone-cool-gray":n});function Ee(r,n){if(1&r&&(o.j41(0,"ion-card")(1,"div",13),o.nrm(2,"img",14),o.k0s(),o.j41(3,"div",15)(4,"p",16),o.EFF(5),o.k0s()()()),2&r){const a=o.XpG();o.R7$(2),o.Y8G("src",a.paxFirma,o.B4B),o.R7$(3),o.SpI("Firma pasajero/a ",a.formulario.value.pax,"")}}function xe(r,n){if(1&r&&(o.j41(0,"ion-card")(1,"div",13)(2,"div",17)(3,"p",18),o.EFF(4,"Firma pendiente: Firma pasajero/a"),o.k0s()()(),o.j41(5,"div",15)(6,"p",16),o.EFF(7),o.k0s()()()),2&r){const a=o.XpG();o.R7$(7),o.SpI("Firma pasajero/a ",a.formulario.value.pax,"")}}function je(r,n){if(1&r){const a=o.RV6();o.j41(0,"ion-content")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Firma pasajero/a"),o.k0s(),o.j41(4,"ion-buttons",19)(5,"ion-button",20),o.bIt("click",function(){o.eBV(a),o.XpG();const t=o.sdS(13);return o.Njj(t.dismiss())}),o.EFF(6,"Cerrar"),o.k0s()()(),o.j41(7,"app-signature",21),o.bIt("childEmitter",function(t){o.eBV(a);const i=o.XpG();return o.Njj(i.recibirpaxFirma(t))}),o.k0s()()}}function ye(r,n){if(1&r&&(o.j41(0,"ion-card")(1,"div",13),o.nrm(2,"img",22),o.k0s(),o.j41(3,"div",15)(4,"p",16),o.EFF(5),o.k0s()()()),2&r){const a=o.XpG();o.R7$(2),o.Y8G("src",a.firmaAvsecIngresa,o.B4B),o.R7$(3),o.SpI("Firma AVSEC encargado/a ",a.formulario.value.funcioario,"")}}function Re(r,n){if(1&r&&(o.j41(0,"ion-card")(1,"div",13)(2,"div",17)(3,"p",18),o.EFF(4,"Firma pendiente: Firma AVSEC encargado/a"),o.k0s()()(),o.j41(5,"div",15)(6,"p",16),o.EFF(7),o.k0s()()()),2&r){const a=o.XpG();o.R7$(7),o.SpI("Firma AVSEC encargado/a ",a.formulario.value.funcioario,"")}}function we(r,n){if(1&r){const a=o.RV6();o.j41(0,"ion-content")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Firma AVSEC encargado/a"),o.k0s(),o.j41(4,"ion-buttons",19)(5,"ion-button",20),o.bIt("click",function(){o.eBV(a),o.XpG();const t=o.sdS(23);return o.Njj(t.dismiss())}),o.EFF(6,"Cerrar"),o.k0s()()(),o.j41(7,"app-signature",21),o.bIt("childEmitter",function(t){o.eBV(a);const i=o.XpG();return o.Njj(i.recibirFirmaEncargado(t))}),o.k0s()()}}let Pe=(()=>{var r;class n{constructor(){this.firmaVacia=q.c.firmaVacia}ngOnInit(){}recibirpaxFirma(e){e!=this.firmaVacia?(this.paxFirma=e,this.formulario.controls.paxFirma.setValue(this.paxFirma),this.modal.dismiss()):console.log("Firme adecuadamente")}recibirFirmaEncargado(e){e!=this.firmaVacia?(this.firmaAvsecIngresa=e,this.formulario.controls.userAvsecIngresaFirma.setValue(this.firmaAvsecIngresa),this.modalEncargado.dismiss()):console.log("Firme adecuadamente")}base64ToFile(e,t,i){const l=atob(e.split(",")[1]),d=new ArrayBuffer(l.length),m=new Uint8Array(d);for(let p=0;p<l.length;p++)m[p]=l.charCodeAt(p);return new File([m],t,{type:i})}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-firma-retencion"]],viewQuery:function(e,t){if(1&e&&(o.GBs(Te,7),o.GBs(ke,7)),2&e){let i;o.mGM(i=o.lsd())&&(t.modal=i.first),o.mGM(i=o.lsd())&&(t.modalEncargado=i.first)}},inputs:{formulario:"formulario"},standalone:!0,features:[o.aNF],decls:28,vars:10,consts:[["modal",""],["modalEncargado",""],[1,"mt-6"],[1,"text-xl","font-semibold","text-gray-900"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-4"],["id","open-signature-pax","expand","block",1,"mt-4",2,"--background","var(--color-pantone-312c)"],["name","create",1,"pl-4"],["trigger","open-signature-pax"],["id","open-signature-avsec","expand","block",1,"mt-4",2,"--background","var(--color-pantone-312c)"],["trigger","open-signature-avsec"],[1,"text-right","mt-6"],["id","open-ticket",1,"inline-flex","items-center","px-6","py-3","text-base","font-medium","text-white","rounded-lg",3,"disabled","ngClass"],[1,"flex","justify-center","items-center"],["alt","Firma pasajero/a",3,"src"],[1,"flex","justify-center","items-center","relative","-top-6"],[1,"mt-1","text-sm","text-gray-700"],[1,"flex","justify-center","items-center","rounded-lg","h-32","w-full"],[1,"text-gray-500"],["slot","end"],["color","light",3,"click"],[3,"childEmitter"],["alt","Firma AVSEC encargado/a",3,"src"]],template:function(e,t){1&e&&(o.j41(0,"div",2)(1,"h1",3),o.EFF(2,"Item 1: Datos de retenci\xf3n"),o.k0s()(),o.j41(3,"div",4)(4,"div",5)(5,"div"),o.DNE(6,Ee,6,2,"ion-card")(7,xe,8,1),o.j41(8,"div")(9,"ion-button",6),o.EFF(10),o.nrm(11,"ion-icon",7),o.k0s()(),o.j41(12,"ion-modal",8,0),o.DNE(14,je,8,0,"ng-template"),o.k0s()(),o.j41(15,"div"),o.DNE(16,ye,6,2,"ion-card")(17,Re,8,1),o.j41(18,"div")(19,"ion-button",9),o.EFF(20),o.nrm(21,"ion-icon",7),o.k0s()(),o.j41(22,"ion-modal",10,1),o.DNE(24,we,8,0,"ng-template"),o.k0s()()()(),o.j41(25,"div",11)(26,"button",12),o.EFF(27," Asignar ticket "),o.k0s()()),2&e&&(o.R7$(3),o.Y8G("formGroup",t.formulario),o.R7$(3),o.vxM(6,t.paxFirma?6:7),o.R7$(4),o.SpI(" ",t.paxFirma?"Editar Firma":"Firma pasajero/a *"," "),o.R7$(6),o.vxM(16,t.firmaAvsecIngresa?16:17),o.R7$(4),o.SpI(" ",t.firmaAvsecIngresa?"Editar Firma":"Firma AVSEC Encargado/a"," "),o.R7$(6),o.Y8G("disabled",!t.paxFirma||!t.firmaAvsecIngresa)("ngClass",o.l_i(7,Fe,t.paxFirma&&t.firmaAvsecIngresa,!t.paxFirma||!t.firmaAvsecIngresa)))},dependencies:[c.b_,c.QW,c.iq,c.Jm,s.X1,s.cb,s.j4,s.YN,c.Sb,c.W9,c.BC,c.ai,jo.u,C.YU],styles:["ion-modal[_ngcontent-%COMP%]{--height: 60%;--border-radius: 16px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}ion-modal[_ngcontent-%COMP%]::part(backdrop){background:#d1d5db;opacity:1}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #003A7E;--color: white}ion-content.background[_ngcontent-%COMP%]{--background: #f1f5f9}ion-modal.custom-modal[_ngcontent-%COMP%]{--height: 35%}"]}),n})();var De=b(8032),k=b.n(De);let yo=(()=>{var r;class n{constructor(){}convertirFechaADate(e){const[t,i,l]=e.split("-").map(p=>parseInt(p,10));return new Date(l,i-1,t).toISOString().split("T")[0]+"T00:00:00"}convertirDiaDelAnoAFecha(e,t=(new Date).getFullYear()){const i=new Date(t,0);return i.setDate(e),`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}`}createISOStringFromTime(e){const t=new Date,[i,l]=e.split(":").map(Number);return t.setHours(i),t.setMinutes(l),t.setSeconds(0),t.setMilliseconds(0),t.toISOString().slice(0,-1)}formatDateCustom(e){const t=new Date(e+"T00:00:00.000Z");return isNaN(t.getTime())?(console.error("Fecha inv\xe1lida proporcionada:",e),""):(t.setUTCHours(0,0,0,0),`${t.getUTCFullYear()}-${String(t.getUTCMonth()+1).padStart(2,"0")}-${String(t.getUTCDate()).padStart(2,"0")} 00:00:00.000`)}formatDateToISOString(e){return new Date(e).toISOString().slice(0,-1)}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();var Ro=b(4412);let J=(()=>{var r;class n{constructor(){this.objetosSubject=new Ro.t([]),this.objetos$=this.objetosSubject.asObservable()}addObjeto(e){this.objetosSubject.next([...this.objetosSubject.value,e])}getObjetos(){return this.objetos$}deleteObjeto(e){const i=this.objetosSubject.value.filter(l=>l!==e);this.objetosSubject.next(i),console.log("nuevos datos",i)}resetObjetos(){this.objetosSubject.next([])}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();const Ne=["modalTicket"],Ve=()=>({standalone:!0});function Ae(r,n){if(1&r&&(o.j41(0,"div",15)(1,"span",16),o.qSk(),o.j41(2,"svg",17),o.nrm(3,"path",18),o.k0s(),o.EFF(4),o.k0s()()),2&r){const a=o.XpG(2);o.R7$(4),o.SpI(" Revisa los siguientes campos: ",a.invalid.join(", ")," ")}}function Oe(r,n){1&r&&(o.j41(0,"span"),o.nrm(1,"ion-spinner",19),o.k0s())}function Se(r,n){1&r&&(o.j41(0,"span"),o.EFF(1," Agregar "),o.k0s())}function Ie(r,n){if(1&r){const a=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",4),o.bIt("click",function(){o.eBV(a);const t=o.XpG();return o.Njj(t.cancel())}),o.EFF(4,"Cancelar"),o.k0s()(),o.j41(5,"ion-title"),o.EFF(6,"Asigna un ticket a el/los objeto/s"),o.k0s(),o.j41(7,"ion-buttons",5)(8,"ion-button",6),o.bIt("click",function(){o.eBV(a);const t=o.XpG();return o.Njj(t.confirm())}),o.EFF(9,"Confirmar"),o.k0s()()()(),o.j41(10,"ion-content",7)(11,"label",8),o.EFF(12,"Ticket *"),o.k0s(),o.j41(13,"input",9),o.mxI("ngModelChange",function(t){o.eBV(a);const i=o.XpG();return o.DH7(i.ticket,t)||(i.ticket=t),o.Njj(t)}),o.k0s(),o.j41(14,"ion-grid")(15,"ion-row")(16,"ion-col",10),o.DNE(17,Ae,5,1,"div",11),o.k0s(),o.j41(18,"ion-col",12)(19,"button",13),o.bIt("click",function(){o.eBV(a);const t=o.XpG();return o.Njj(t.onSubmit2())}),o.DNE(20,Oe,2,0,"span",14)(21,Se,2,0,"span",14),o.k0s()()()()()}if(2&r){const a=o.XpG();o.R7$(8),o.Y8G("strong",!0),o.R7$(5),o.R50("ngModel",a.ticket),o.Y8G("ngModelOptions",o.lJ4(7,Ve)),o.R7$(4),o.Y8G("ngIf",a.invalid.length>0),o.R7$(2),o.Y8G("disabled",a.loading),o.R7$(),o.Y8G("ngIf",a.loading),o.R7$(),o.Y8G("ngIf",!a.loading)}}let Ge=(()=>{var r;class n{constructor(e,t,i,l){this.dateService=e,this.service=t,this.serviceObj=i,this.router=l,this.message="This modal example uses triggers to automatically open a modal when the button is clicked.",this.loading=!1,this.invalid=[]}ngOnInit(){this.formulario.valueChanges.subscribe({next:()=>this.checkInvalidFields(),error:e=>console.log("Error al subscribirse",e)})}cancel(){this.modalTicket.dismiss(null,"cancel")}confirm(){this.modalTicket.dismiss(this.ticket,"confirm")}onSubmit2(){if(this.formulario.valid){console.log("Formulario V\xe1lido",this.formulario.value),this.formulario.controls.ticket.setValue(this.ticket),this.isPasaporteSelected?this.formulario.controls.paxRut.setValue(""):this.formulario.controls.paxPasaporte.setValue(""),this.formulario.controls.puenteEmbarque.setValue({id:this.formulario.controls.puenteEmbarque.value}),this.formulario.controls.userAvsec.setValue({id:10}),this.formulario.controls.userAvsecIngresa.setValue({id:10}),this.formulario.controls.unidadAeroportuaria.setValue({id:5}),this.formulario.controls.habilitado.setValue(!0);const e=this.formulario.controls.fechaVuelo.value;console.log("Fecha vuelo",e);const t=this.dateService.formatDateToISOString(e);console.log("Fecha vuelo iso",t),this.formulario.controls.fechaVuelo.setValue(t),this.formulario.controls.fechaHoraVuelo.setValue(t),this.formulario.controls.escalaFecha.setValue(this.formulario.controls.escalaFecha.value?new Date(this.formulario.controls.escalaFecha.value).toISOString():null),this.serviceObj.getObjetos().subscribe({next:p=>{this.formulario.controls.objetosRetenidos.setValue(p)},error:p=>{console.log("Error al obtener objetos",p)},complete:()=>{console.log("Objetos obtenidos")}}),Object.keys(this.formulario.controls).forEach(p=>{const f=this.formulario.get(p);f&&"paxFirma"!==p&&"userAvsecIngresaFirma"!==p&&"firmaUsuarioCompania"!==p&&"userAvsecRetira"!==p&&"string"==typeof f.value&&f.setValue(f.value.toUpperCase(),{emitEvent:!1})}),this.loading=!0;const i=[],l=this.formulario.value,d=new FormData;i.push(this.formulario.controls.archivoPax.value),i.push(this.formulario.controls.archivoAvsec.value),i.forEach(p=>{p&&d.append("archivo",p)}),console.log("FormData",d.getAll("archivo"));const m=Object.fromEntries(Object.entries(l).filter(([p,f])=>null!==f&&""!==f));console.log("Valores filtrados:",m),console.log("Formulario Valido",m),this.service.addData(m).subscribe({next:p=>{this.loading=!1,console.log("Enviado",p),this.swalConfirm(),this.formulario.reset(),this.serviceObj.resetObjetos()},error:p=>{this.loading=!1,console.log("Error al enviar",p.message),this.swalError()}}),this.modalTicket.dismiss(),this.router.navigate(["/formularios/objetosRetenidos/bandeja-entrada-retenidos"])}else console.log("Formulario Inv\xe1lido"),console.log(this.formulario.value)}onWillDismiss(e){"confirmar"===e.detail.role&&(this.message=`Hola, ${e.detail.data}!`)}markAllAsTouched(e){Object.values(e.controls).forEach(t=>{t.markAsTouched(),t instanceof s.gE&&this.markAllAsTouched(t)})}checkInvalidFields(){const e=[],t=this.formulario.controls;for(const i in t)t[i].invalid&&t[i].touched&&e.push(i);this.invalid=e}swalConfirm(){k().fire({icon:"success",title:"Formulario Enviado",text:"Datos enviados",showConfirmButton:!1,timer:1e3,heightAuto:!1})}swalError(){k().fire({icon:"error",title:"Error al enviar",text:"Datos no enviados",showConfirmButton:!1,timer:1e3,heightAuto:!1})}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(yo),o.rXU(P.K),o.rXU(J),o.rXU(x.Ix))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-ticket-modal"]],viewQuery:function(e,t){if(1&e&&o.GBs(Ne,7),2&e){let i;o.mGM(i=o.lsd())&&(t.modalTicket=i.first)}},inputs:{formulario:"formulario",isPasaporteSelected:"isPasaporteSelected"},standalone:!0,features:[o.aNF],decls:4,vars:1,consts:[["modalTicket",""],[3,"formGroup"],["trigger","open-ticket",1,"custom-modal",3,"willDismiss"],["slot","start"],[3,"click"],["slot","end"],[3,"click","strong"],["scrollY","false",1,"ion-padding"],["for","ticket",1,"block","text-lg","font-medium","text-gray-700"],["labelPlacement","stacked","type","text","placeholder","Ingresa Ticket",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel","ngModelOptions"],["size","9"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative text-center","role","alert",4,"ngIf"],["size","3",1,"flex","items-center","justify-end"],[1,"inline-flex","items-center","px-6","py-3","text-base","font-medium","bg-pantone-286c","text-white","rounded-lg",3,"click","disabled"],[4,"ngIf"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","text-center"],[1,"block","sm:inline"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"fill-current","h-6","w-6","text-red-500","inline","mr-2"],["d","M8.257 3.099c.366-.446.955-.582 1.457-.348l.112.058c.574.275.972.818 1.058 1.444l.027.181-.395 3.17h.656l.027-.183c.083-.632.465-1.183 1.025-1.453l.13-.063c.5-.23 1.092-.093 1.458.351l.078.095c.423.515.477 1.247.132 1.843l-.087.142-5.887 10.196a1.235 1.235 0 0 1-1.436.518l-.144-.056-5.905-3.367c-.576-.329-.83-.993-.643-1.563l.04-.116 5.904-10.196c.345-.596 1.077-.65 1.592-.227zm-.257 7.9c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1zm1-5a1.5 1.5 0 0 0-1.993 1.355l-.007.145v.5a1.5 1.5 0 0 0 1.993 1.355l.007-.145v-.5a1.5 1.5 0 0 0-1.5-1.5z"],["name","dots"]],template:function(e,t){if(1&e){const i=o.RV6();o.j41(0,"div",1)(1,"ion-modal",2,0),o.bIt("willDismiss",function(d){return o.eBV(i),o.Njj(t.onWillDismiss(d))}),o.DNE(3,Ie,22,8,"ng-template"),o.k0s()()}2&e&&o.Y8G("formGroup",t.formulario)},dependencies:[c.w2,c.ln,c.hU,c.lO,c.Sb,c.ai,c.W9,c.Jm,c.QW,c.BC,c.eU,s.X1,s.me,s.BC,s.cb,s.j4,s.YN,s.vS,C.bT],styles:["ion-modal[_ngcontent-%COMP%]{--height: 50%;--border-radius: 16px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}ion-modal[_ngcontent-%COMP%]::part(backdrop){background:#d1d5db;opacity:1}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #003A7E;--color: white}ion-content.background[_ngcontent-%COMP%]{--background: #f1f5f9}ion-modal.custom-modal[_ngcontent-%COMP%]{--height: 30%}"]}),n})();const $e=()=>({standalone:!0});function Me(r,n){1&r&&(o.j41(0,"div",25),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function Be(r,n){1&r&&(o.j41(0,"div",25),o.EFF(1," Formato de correo incorrecto "),o.k0s())}function Ye(r,n){1&r&&(o.j41(0,"div",25),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function Ue(r,n){if(1&r&&(o.j41(0,"div",5)(1,"label",26),o.EFF(2,"Pasaporte"),o.k0s(),o.nrm(3,"input",27),o.DNE(4,Ye,2,0,"div",8),o.k0s()),2&r){const a=o.XpG();o.R7$(4),o.Y8G("ngIf",a.formulario.controls.paxPasaporte.invalid)}}function qe(r,n){1&r&&(o.j41(0,"div",25),o.EFF(1," Rut invalido. "),o.k0s())}function Xe(r,n){1&r&&(o.j41(0,"div",31),o.EFF(1," Rut Valido. "),o.k0s())}function He(r,n){if(1&r&&(o.j41(0,"div",5)(1,"label",28),o.EFF(2,"Rut"),o.k0s(),o.nrm(3,"input",29),o.DNE(4,qe,2,0,"div",8)(5,Xe,2,0,"div",30),o.k0s()),2&r){const a=o.XpG();o.R7$(4),o.Y8G("ngIf",a.isRutInvalid()&&a.formulario.controls.paxRut.touched),o.R7$(),o.Y8G("ngIf",!a.isRutInvalid()&&a.formulario.controls.paxRut.touched)}}function Ze(r,n){1&r&&(o.j41(0,"div",25),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function ze(r,n){1&r&&(o.j41(0,"div",25),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function Le(r,n){1&r&&(o.j41(0,"div",25),o.EFF(1," Este campo es obligatorio. "),o.k0s())}let Je=(()=>{var r;class n{constructor(){this.isPasaporteSelectedOutput=new o.bkB,this.isPasaporteSelected=!1}ngOnInit(){}isRutInvalid(){const e=this.rut;return!(null==e||!e.value||null==e||!e.dirty)&&(null==e?void 0:e.hasError("invalidRut"))}get rut(){return this.formulario.get("paxRut")}get pasaporte(){return this.formulario.get("paxPasaporte")}onCheckboxChangeRut(e){var i,t;console.log("value",this.isPasaporteSelected),this.emitirPasaporteSelected(),this.isPasaporteSelected?null===(i=this.formulario.get("paxRut"))||void 0===i||i.setValue(""):null===(t=this.formulario.get("paxPasaporte"))||void 0===t||t.setValue("")}emitirPasaporteSelected(){this.isPasaporteSelectedOutput.emit(this.isPasaporteSelected)}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-pax"]],inputs:{formulario:"formulario"},outputs:{isPasaporteSelectedOutput:"isPasaporteSelectedOutput"},standalone:!0,features:[o.aNF],decls:51,vars:10,consts:[["emailPut",""],[1,"text-left","ion-padding-top","ion-padding-bottom","mt-2"],[1,"text-xl","font-semibold","text-gray-900"],[3,"formGroup"],["size","4"],[1,"mb-4"],["for","paxNombre",1,"block","text-sm","font-medium","text-gray-700","required"],["type","text","id","paxNombre","formControlName","paxNombre","placeholder","Nombre pasajero","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","paxEmail",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","paxEmail","formControlName","paxEmail","placeholder","ejemplo@dgac.gob.cl",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["size","2"],["size","2",1,"flex"],[1,"flex","text-center","items-center"],["type","checkbox","ngDefaultControl","",3,"ngModelChange","change","ngModel","ngModelOptions"],["for","otroObjetoCheckbox",1,"ml-2","text-sm","font-medium","text-gray-700"],["for","asientoPax",1,"block","text-sm","font-medium","text-gray-700","required"],["type","number","id","asientoPax","formControlName","asientoPax","placeholder","asientoPax","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["size","5"],["for","particular",1,"block","text-sm","font-medium","text-gray-700","required"],["id","particular","formControlName","particular",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["value","PARTICULAR"],["value","INSTITUCIONAL"],["for","paxNumeroTelefono",1,"block","text-sm","font-medium","text-gray-700","required"],["type","text","id","paxNumeroTelefono","formControlName","paxNumeroTelefono","placeholder","N\xfamero Telef\xf3nico","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[1,"text-red-500","text-sm","mt-1"],["for","paxPasaporte",1,"block","text-sm","font-medium","text-gray-700","required"],["type","text","id","paxPasaporte","formControlName","paxPasaporte","placeholder","paxPasaporte",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","paxRut",1,"block","text-sm","font-medium","text-gray-700","required"],["type","text","id","paxRut","formControlName","paxRut","placeholder","Rut",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["class","text-green-500 text-sm mt-1",4,"ngIf"],[1,"text-green-500","text-sm","mt-1"]],template:function(e,t){if(1&e){const i=o.RV6();o.j41(0,"div",1)(1,"div")(2,"h1",2),o.EFF(3,"Datos de Pasajero"),o.k0s()()(),o.j41(4,"div",3)(5,"ion-grid")(6,"ion-row")(7,"ion-col",4)(8,"div",5)(9,"label",6),o.EFF(10,"Nombre pax"),o.k0s(),o.nrm(11,"input",7),o.DNE(12,Me,2,0,"div",8),o.k0s()(),o.j41(13,"ion-col",4)(14,"div",5)(15,"label",9),o.EFF(16,"Email"),o.k0s(),o.nrm(17,"input",10,0),o.DNE(19,Be,2,0,"div",8),o.k0s()(),o.j41(20,"ion-col",11),o.DNE(21,Ue,5,1,"div",5)(22,He,6,2),o.k0s(),o.j41(23,"ion-col",12)(24,"div",13)(25,"input",14),o.mxI("ngModelChange",function(d){return o.eBV(i),o.DH7(t.isPasaporteSelected,d)||(t.isPasaporteSelected=d),o.Njj(d)}),o.bIt("change",function(d){return o.eBV(i),o.Njj(t.onCheckboxChangeRut(d))}),o.k0s(),o.j41(26,"label",15),o.EFF(27,"Pasaporte"),o.k0s()()()(),o.j41(28,"ion-row")(29,"ion-col")(30,"div")(31,"label",16),o.EFF(32,"Asiento"),o.k0s(),o.nrm(33,"input",17),o.DNE(34,Ze,2,0,"div",8),o.k0s()(),o.j41(35,"ion-col",18)(36,"div")(37,"label",19),o.EFF(38," Instituci\xf3nal o particular"),o.k0s(),o.j41(39,"select",20)(40,"option",21),o.EFF(41,"Particular"),o.k0s(),o.j41(42,"option",22),o.EFF(43,"Instituci\xf3n"),o.k0s()(),o.DNE(44,ze,2,0,"div",8),o.k0s()(),o.j41(45,"ion-col",18)(46,"div",5)(47,"label",23),o.EFF(48,"N\xfamero Telef\xf3nico"),o.k0s(),o.nrm(49,"input",24),o.DNE(50,Le,2,0,"div",8),o.k0s()()()()()}if(2&e){let i;o.R7$(4),o.Y8G("formGroup",t.formulario),o.R7$(8),o.Y8G("ngIf",t.formulario.controls.paxNombre.invalid&&t.formulario.controls.paxNombre.touched),o.R7$(7),o.Y8G("ngIf",(null==(i=t.formulario.get("paxEmail"))?null:i.invalid)&&((null==(i=t.formulario.get("paxEmail"))?null:i.dirty)||(null==(i=t.formulario.get("paxEmail"))?null:i.touched))),o.R7$(2),o.vxM(21,t.isPasaporteSelected?21:22),o.R7$(4),o.R50("ngModel",t.isPasaporteSelected),o.Y8G("ngModelOptions",o.lJ4(9,$e)),o.R7$(9),o.Y8G("ngIf",t.formulario.controls.asientoPax.invalid&&t.formulario.controls.asientoPax.touched),o.R7$(10),o.Y8G("ngIf",t.formulario.controls.particular.invalid&&t.formulario.controls.particular.touched),o.R7$(6),o.Y8G("ngIf",t.formulario.controls.paxNumeroTelefono.invalid&&t.formulario.controls.paxNumeroTelefono.touched)}},dependencies:[c.hU,c.ln,c.lO,C.bT,s.X1,s.xH,s.y7,s.me,s.Q0,s.Zm,s.wz,s.BC,s.cb,s.YS,s.j4,s.JD,s.YN,s.vS]}),n})();var N=b(6013);let wo=(()=>{var r;class n{constructor(){this.cedulaData=["RUN","type","serial","mrz"]}decodeCedula(e){var t={};for(let m=0;m<this.cedulaData.length;m++){var i=this.cedulaData[m],d=new RegExp("[\\?&]"+i+"=([^&#]*)").exec(e);t[i]=decodeURIComponent(d[1].replace(/\+/g," "))}return t}decodeBoarding(e){console.log("boarding:",e);var t,i="",l="",d="",m="",p="",f="",v="",h="",y="",R="",E=1,V=e.substring(0,23);t=V.substring(0,2),i="E"==(i=V.substring(2,V.length))[20]?(i=i.substring(0,20)).replace(/\s+/g,""):i.replace(/\s+/g,"");var w=e.substring(23,e.length).split(" ");console.log("decodedBoarding:",w);for(let S=0;S<w.length;S++){const j=w[S].replace(/\s+/g,"");j.length>0&&(1==E?(l=j,E+=1):2==E?(d=j.substring(0,3),m=j.substring(3,6),p=j.substring(6,j.length),E+=1):3==E?(f=j,E+=1):4==E&&(v=j.substring(0,3),h=j.substring(3,4),y=j.substring(4,8),R=j.substring(8,j.length),E+=1))}return{codigo:t,name:i,booking:l,origen:d,destino:m,linea:p,vuelo:f,fecha:v,cabina:h,asiento:y,secuencia:R}}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();var Po=b(8452);let Qe=(()=>{var r;class n{constructor(e,t){this.utilsSrv=e,this.alertController=t,this.isSupported=!1}ngOnInit(){}openScanner(){this.checkBarcodeScannerSupport(),this.scan()}checkBarcodeScannerSupport(){var e=this;return(0,_.A)(function*(){try{const t=yield N.vi.isSupported();if(e.isSupported=t.supported,e.isSupported){if(!(yield N.vi.isGoogleBarcodeScannerModuleAvailable()).available){console.log("El m\xf3dulo del esc\xe1ner de c\xf3digos de barras de Google no est\xe1 disponible. Iniciando la instalaci\xf3n...");const l=yield N.vi.addListener("googleBarcodeScannerModuleInstallProgress",d=>{100===d.progress?(console.log("La instalaci\xf3n del m\xf3dulo del esc\xe1ner de c\xf3digos de barras de Google se ha completado."),l.remove(),e.scan()):console.log(`Progreso de la instalaci\xf3n: ${d.progress}%`)});yield N.vi.installGoogleBarcodeScannerModule()}}else console.log("El esc\xe1ner de c\xf3digos de barras no es compatible en este dispositivo.")}catch(t){console.error("Error verificando o instalando el m\xf3dulo del esc\xe1ner de c\xf3digos de barras de Google: ",t)}})()}scan(){var e=this;return(0,_.A)(function*(){if(yield e.requestPermissions())try{const{barcodes:i}=yield N.vi.scan();e.barcodes=i,e.barcodes.forEach(T=>{console.log("displayValue",T.displayValue,"bytes",T.bytes,"format",T.format,"rawValue",T.rawValue,"valueType",T.valueType),e.valueBytes=T.bytes,e.valueFormat=T.format,e.valueRaw=T.rawValue,e.valueType=T.valueType,e.valueCode=T.displayValue});const{codigo:l,name:d,booking:m,origen:p,destino:f,linea:v,vuelo:h,fecha:y,cabina:R,asiento:E,secuencia:V}=yield e.utilsSrv.decodeBoarding(e.valueRaw);console.log("codigo",l,"name",d,"booking",m,"origen",p,"destino",f,"linea",v,"vuelo",h,"fecha",y,"cabina",R,"asiento",E,"secuencia",V),d.split("/"),e.formulario.controls.escalaVuelo.setValue(h),e.formulario.controls.escalaDestino.setValue(f),e.formulario.controls.escalaCompania.setValue(v),e.formulario.controls.escalaOrigen.setValue(p);const j=e.convertirDiaDelAnoAFecha(y);e.formulario.controls.escalaFecha.setValue(j)}catch(i){console.error("Error escaneando el c\xf3digo de barras: ",i)}else e.presentAlert()})()}requestPermissions(){return(0,_.A)(function*(){const{camera:e}=yield N.vi.requestPermissions();return"granted"===e||"limited"===e})()}presentAlert(){var e=this;return(0,_.A)(function*(){yield(yield e.alertController.create({header:"Permission denied",message:"Please grant camera permission to use the barcode scanner.",buttons:["OK"]})).present()})()}convertirDiaDelAnoAFecha(e,t=(new Date).getFullYear()){const i=new Date(t,0);return i.setDate(e),`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}`}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(wo),o.rXU(Po.hG))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-vuelo-escala"]],inputs:{formulario:"formulario"},standalone:!0,features:[o.aNF],decls:32,vars:1,consts:[[3,"formGroup"],[1,"grid","grid-cols-2"],[1,"text-xl","font-semibold","text-gray-900"],[1,"flex","items-center","justify-end"],["id","open-qr","type","button",1,"rounded-lg","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300",2,"--background","var(--color-pantone-312c)",3,"click"],["name","qr-code",1,"w-10","h-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"mb-4"],["for","escalaVuelo",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","escalaVuelo","formControlName","escalaVuelo","placeholder","Escala - Vuelo",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","escalaCompania",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","escalaCompania","formControlName","escalaCompania","placeholder","Escala - Compa\xf1\xeda",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["for","escalaOrigen",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","escalaOrigen","formControlName","escalaOrigen","placeholder","Escala - Origen",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","escalaDestino",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","escalaDestino","formControlName","escalaDestino","placeholder","Escala - Destino",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","escalaFecha",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","escalaFecha","formControlName","escalaFecha",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.nrm(1,"app-divider"),o.j41(2,"div",1)(3,"div")(4,"h1",2),o.EFF(5,"Datos de escala"),o.k0s()(),o.j41(6,"div")(7,"div",3)(8,"ion-button",4),o.bIt("click",function(){return t.openScanner()}),o.nrm(9,"ion-icon",5),o.k0s()()()(),o.j41(10,"div",6)(11,"div",7)(12,"label",8),o.EFF(13,"Escala - Vuelo"),o.k0s(),o.nrm(14,"input",9),o.k0s(),o.j41(15,"div",7)(16,"label",10),o.EFF(17,"Escala - Compa\xf1\xeda"),o.k0s(),o.nrm(18,"input",11),o.k0s()(),o.j41(19,"div",12)(20,"div",7)(21,"label",13),o.EFF(22,"Escala - Origen"),o.k0s(),o.nrm(23,"input",14),o.k0s(),o.j41(24,"div",7)(25,"label",15),o.EFF(26,"Escala - Destino"),o.k0s(),o.nrm(27,"input",16),o.k0s(),o.j41(28,"div",7)(29,"label",17),o.EFF(30,"Escala - Fecha"),o.k0s(),o.nrm(31,"input",18),o.k0s()()()),2&e&&o.Y8G("formGroup",t.formulario)},dependencies:[c.iq,c.Jm,D.h,s.X1,s.me,s.BC,s.cb,s.j4,s.JD,s.YN]}),n})();var We=b(8359);class Ke extends We.yU{constructor(n,a){super()}schedule(n,a=0){return this}}const H={setInterval(r,n,...a){const{delegate:e}=H;return null!=e&&e.setInterval?e.setInterval(r,n,...a):setInterval(r,n,...a)},clearInterval(r){const{delegate:n}=H;return((null==n?void 0:n.clearInterval)||clearInterval)(r)},delegate:void 0};var ot=b(7908);const Do={now:()=>(Do.delegate||Date).now(),delegate:void 0};class Y{constructor(n,a=Y.now){this.schedulerActionCtor=n,this.now=a}schedule(n,a=0,e){return new this.schedulerActionCtor(this,n).schedule(e,a)}}Y.now=Do.now;const rt=new class tt extends Y{constructor(n,a=Y.now){super(n,a),this.actions=[],this._active=!1}flush(n){const{actions:a}=this;if(this._active)return void a.push(n);let e;this._active=!0;do{if(e=n.execute(n.state,n.delay))break}while(n=a.shift());if(this._active=!1,e){for(;n=a.shift();)n.unsubscribe();throw e}}}(class et extends Ke{constructor(n,a){super(n,a),this.scheduler=n,this.work=a,this.pending=!1}schedule(n,a=0){var e;if(this.closed)return this;this.state=n;const t=this.id,i=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(i,t,a)),this.pending=!0,this.delay=a,this.id=null!==(e=this.id)&&void 0!==e?e:this.requestAsyncId(i,this.id,a),this}requestAsyncId(n,a,e=0){return H.setInterval(n.flush.bind(n,this),e)}recycleAsyncId(n,a,e=0){if(null!=e&&this.delay===e&&!1===this.pending)return a;null!=a&&H.clearInterval(a)}execute(n,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const e=this._execute(n,a);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,a){let t,e=!1;try{this.work(n)}catch(i){e=!0,t=i||new Error("Scheduled action threw falsy error")}if(e)return this.unsubscribe(),t}unsubscribe(){if(!this.closed){const{id:n,scheduler:a}=this,{actions:e}=a;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ot.o)(e,this),null!=n&&(this.id=this.recycleAsyncId(a,n,null)),this.delay=null,super.unsubscribe()}}});var at=b(9974),it=b(4360);function $(r,n=rt){return(0,at.N)((a,e)=>{let t=null,i=null,l=null;const d=()=>{if(t){t.unsubscribe(),t=null;const p=i;i=null,e.next(p)}};function m(){const p=l+r,f=n.now();if(f<p)return t=this.schedule(void 0,p-f),void e.add(t);d()}a.subscribe((0,it._)(e,p=>{i=p,l=n.now(),t||(t=n.schedule(m,r),e.add(t))},()=>{d(),e.complete()},void 0,()=>{i=t=null}))})}var M=b(3294),nt=b(3726),Q=b(6354);let W=(()=>{var r;class n{constructor(e){this.http=e,this.url=`${q.c.apiBack}puenteEmbarque/`}getPuentesEmbarque(){return this.http.get(this.url)}}return(r=n).\u0275fac=function(e){return new(e||r)(o.KVO(I.Qq))},r.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();const st=["inputVuelo"],No=(r,n)=>n.id;function lt(r,n){1&r&&(o.j41(0,"div",28),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function ct(r,n){1&r&&o.nrm(0,"option",16),2&r&&o.FS9("value",n.$implicit.nombre)}function dt(r,n){1&r&&(o.j41(0,"div",28),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function ut(r,n){if(1&r&&(o.j41(0,"option",16),o.EFF(1),o.k0s()),2&r){const a=n.$implicit;o.FS9("value",a.id),o.R7$(),o.JRh(a.nombre)}}function mt(r,n){1&r&&(o.j41(0,"div",28),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function pt(r,n){1&r&&(o.j41(0,"div",28),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function ft(r,n){1&r&&(o.j41(0,"div",28),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function gt(r,n){1&r&&(o.j41(0,"div",28),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function bt(r,n){if(1&r&&(o.j41(0,"div"),o.nrm(1,"app-datos-vuelo-escala",29),o.k0s()),2&r){const a=o.XpG();o.R7$(),o.Y8G("formulario",a.formulario)}}let ht=(()=>{var r;class n{constructor(e,t){this.companiaService=e,this.puenteEmbService=t,this.companiaVueloOutput=new o.bkB,this.puenteEmbarque=[],this.showEscala=!1,(0,F.a)({radioButtonOnOutline:u.rhe,radioButtonOffOutline:u.dwn})}ngOnInit(){if(!this.formulario)throw new Error("FormGroup is required for DatosVueloComponent");this.getPuertasEmbarque(),this.companiaService.getCompanias().subscribe({next:e=>{this.companiasExistentes=e},error:e=>{console.log("Error al obtener compa\xf1ias",e)}}),this.subscriberCompaniaNombre(),this.subscriberVuelo()}startAllIcons(){(0,F.a)({radioButtonOffOutline:u.dwn,radioButtonOnOutline:u.rhe})}parseStringToNumber(e){return parseInt(e)}subscriberCompaniaNombre(){var e;null===(e=this.formulario.get("companiaNombre"))||void 0===e||e.valueChanges.pipe($(500),(0,M.F)()).subscribe(t=>{t=t.toUpperCase(),this.companiaService.findByNombre(t).subscribe({next:i=>{console.log("Compa\xf1ia encontrada",i),this.compania=i,this.companiaVuelo={...this.companiaVuelo,companiaAerea:this.compania.id},this.emitirCompaniaVuelo()},error:i=>{console.log("Error al obtener compa\xf1ias",i)}})})}subscriberVuelo(){(0,nt.R)(this.inputVuelo.nativeElement,"input").pipe((0,Q.T)(e=>e.target.value),$(1e3),(0,M.F)()).subscribe(e=>{console.log("Vuelo",e),this.companiaVuelo={...this.companiaVuelo,numeroVuelo:Number(e)},this.emitirCompaniaVuelo()})}emitirCompaniaVuelo(){this.companiaVueloOutput.emit(this.companiaVuelo)}getErrorMessage(e){const t=this.formulario.get(e);return null!=t&&t.hasError("required")?"Este campo es obligatorio.":null!=t&&t.hasError("max")?"El valor no puede ser mayor que 3.":""}getPuertasEmbarque(){this.puenteEmbService.getPuentesEmbarque().subscribe({next:e=>{this.puenteEmbarque=e,console.log("Puentes embarques",this.puenteEmbarque)},error:e=>{console.log("Error al obtener puente embarque",e)}})}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(X),o.rXU(W))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-vuelo"]],viewQuery:function(e,t){if(1&e&&o.GBs(st,7),2&e){let i;o.mGM(i=o.lsd())&&(t.inputVuelo=i.first)}},inputs:{formulario:"formulario"},outputs:{companiaVueloOutput:"companiaVueloOutput"},standalone:!0,features:[o.aNF],decls:53,vars:9,consts:[["inputVuelo",""],[3,"formGroup"],[1,"text-left","ion-padding-top","ion-padding-bottom"],[1,"grid","grid-cols-2"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-right"],["name","radio-button-on-outline",1,"text-pantone-130c","h-4","w-4"],["name","radio-button-off-outline",1,"text-pantone-130c","h-4","w-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"mb-4"],["for","vuelo",1,"block","text-sm","font-medium","text-gray-700","required"],["type","number","id","vuelo","formControlName","vuelo","placeholder","Vuelo","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","compania",1,"block","text-sm","font-medium","text-gray-700","required"],["type","text","id","compania","formControlName","companiaNombre","list","companiasExistentes","placeholder","Compa\xf1\xeda","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["id","companiasExistentes"],[3,"value"],["for","puenteEmb",1,"block","text-sm","font-medium","text-gray-700"],["id","puenteEmb","formControlName","puenteEmbarque",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","origen",1,"block","text-sm","font-medium","text-gray-700","required"],["type","text","id","origen","formControlName","origen","placeholder","origen","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","destino",1,"block","text-sm","font-medium","text-gray-700","required"],["type","text","id","destino","formControlName","destino","placeholder","Destino","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","date",1,"block","text-sm","font-medium","text-gray-700","required"],["type","date","id","date","formControlName","fechaVuelo","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[1,"text-right","ion-padding-end"],[1,"bg-pantone-312c","text-white","py-2","px-4","rounded-lg",3,"click"],[4,"ngIf"],[1,"text-red-500","text-sm","mt-1"],[3,"formulario"]],template:function(e,t){if(1&e){const i=o.RV6();o.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),o.EFF(5,"Datos de Vuelo"),o.k0s()(),o.j41(6,"div",5),o.nrm(7,"ion-icon",6)(8,"ion-icon",7)(9,"ion-icon",7)(10,"ion-icon",7),o.k0s()()(),o.j41(11,"div",8)(12,"div",9)(13,"label",10),o.EFF(14,"Vuelo "),o.k0s(),o.nrm(15,"input",11,0),o.DNE(17,lt,2,0,"div",12),o.k0s(),o.j41(18,"div",9)(19,"label",13),o.EFF(20,"Compa\xf1\xeda"),o.k0s(),o.nrm(21,"input",14),o.j41(22,"datalist",15),o.Z7z(23,ct,1,1,"option",16,No),o.k0s(),o.DNE(25,dt,2,0,"div",12),o.k0s(),o.j41(26,"div",9)(27,"label",17),o.EFF(28,"Puerta de Embarque"),o.k0s(),o.j41(29,"select",18),o.Z7z(30,ut,2,2,"option",16,No),o.k0s(),o.DNE(32,mt,2,0,"div",12),o.k0s()(),o.j41(33,"div",8)(34,"div",9)(35,"label",19),o.EFF(36,"Origen (maximo 4)"),o.k0s(),o.nrm(37,"input",20),o.DNE(38,pt,2,0,"div",12),o.k0s(),o.j41(39,"div",9)(40,"label",21),o.EFF(41,"Destino (maximo 4)"),o.k0s(),o.nrm(42,"input",22),o.DNE(43,ft,2,0,"div",12),o.k0s(),o.j41(44,"div",9)(45,"label",23),o.EFF(46,"Fecha"),o.k0s(),o.nrm(47,"input",24),o.DNE(48,gt,2,0,"div",12),o.k0s()(),o.j41(49,"div",25)(50,"button",26),o.bIt("click",function(){return o.eBV(i),o.Njj(t.showEscala=!t.showEscala)}),o.EFF(51),o.k0s()(),o.DNE(52,bt,2,1,"div",27),o.k0s()}2&e&&(o.Y8G("formGroup",t.formulario),o.R7$(17),o.Y8G("ngIf",null==t.vuelo),o.R7$(6),o.Dyx(t.companiasExistentes),o.R7$(2),o.Y8G("ngIf",t.formulario.controls.companiaNombre.invalid&&t.formulario.controls.companiaNombre.touched),o.R7$(5),o.Dyx(t.puenteEmbarque),o.R7$(2),o.Y8G("ngIf",t.formulario.controls.puenteEmbarque.invalid&&t.formulario.controls.puenteEmbarque.touched),o.R7$(6),o.Y8G("ngIf",t.formulario.controls.origen.invalid&&t.formulario.controls.origen.touched),o.R7$(5),o.Y8G("ngIf",t.formulario.controls.destino.invalid&&t.formulario.controls.destino.touched),o.R7$(5),o.Y8G("ngIf",t.formulario.controls.fechaVuelo.invalid&&t.formulario.controls.fechaVuelo.touched),o.R7$(3),o.SpI(" ",t.showEscala?"Eliminar Escala":"Agregar Escala"," "),o.R7$(),o.Y8G("ngIf",t.showEscala))},dependencies:[c.iq,C.bT,s.X1,s.xH,s.y7,s.me,s.Q0,s.wz,s.BC,s.cb,s.YS,s.j4,s.JD,s.YN,Qe]}),n})();function Vo(){return r=>{const n=r.value;return n&&!function vt(r){if((r=r.replace(/\./g,"").replace(/-/g,"")).length<2)return!1;const n=r.slice(0,-1),a=r.slice(-1).toUpperCase();if(!/^\d+$/.test(n)||!/^[0-9K]$/.test(a))return!1;let e=0,t=2;for(let d=n.length-1;d>=0;d--)e+=parseInt(n.charAt(d))*t,t=7===t?2:t+1;const i=11-e%11;return a===(11===i?"0":10===i?"K":i.toString())}(n)?{invalidRut:!0}:null}}var _t=b(9029);let Ct=(()=>{var r;class n{constructor(e,t,i){this.companiaAereaService=e,this.utilsSrv=t,this.alertController=i,this.isSupported=!1}ngOnInit(){}openScanner(){this.checkBarcodeScannerSupport(),this.scan()}checkBarcodeScannerSupport(){var e=this;return(0,_.A)(function*(){try{const t=yield N.vi.isSupported();if(e.isSupported=t.supported,e.isSupported){if(!(yield N.vi.isGoogleBarcodeScannerModuleAvailable()).available){console.log("El m\xf3dulo del esc\xe1ner de c\xf3digos de barras de Google no est\xe1 disponible. Iniciando la instalaci\xf3n...");const l=yield N.vi.addListener("googleBarcodeScannerModuleInstallProgress",d=>{100===d.progress?(console.log("La instalaci\xf3n del m\xf3dulo del esc\xe1ner de c\xf3digos de barras de Google se ha completado."),l.remove(),e.scan()):console.log(`Progreso de la instalaci\xf3n: ${d.progress}%`)});yield N.vi.installGoogleBarcodeScannerModule()}}else console.log("El esc\xe1ner de c\xf3digos de barras no es compatible en este dispositivo.")}catch(t){console.error("Error verificando o instalando el m\xf3dulo del esc\xe1ner de c\xf3digos de barras de Google: ",t)}})()}scan(){var e=this;return(0,_.A)(function*(){if(yield e.requestPermissions())try{const{barcodes:i}=yield N.vi.scan();e.barcodes=i,e.barcodes.forEach(T=>{console.log("displayValue",T.displayValue,"bytes",T.bytes,"format",T.format,"rawValue",T.rawValue,"valueType",T.valueType),e.valueBytes=T.bytes,e.valueFormat=T.format,e.valueRaw=T.rawValue,e.valueType=T.valueType,e.valueCode=T.displayValue});const{codigo:l,name:d,booking:m,origen:p,destino:f,linea:v,vuelo:h,fecha:y,cabina:R,asiento:E,secuencia:V}=yield e.utilsSrv.decodeBoarding(e.valueRaw);console.log("codigo",l,"name",d,"booking",m,"origen",p,"destino",f,"linea",v,"vuelo",h,"fecha",y,"cabina",R,"asiento",E,"secuencia",V),e.validarCompania(v),void 0===e.companiaAerea?(console.log("Compa\xf1\xeda a\xe9rea no encontrada"),e.formulario.controls.companiaNombre.setValue(v)):e.formulario.controls.companiaNombre.setValue(e.companiaAerea.nombre);const w=d.split("/");e.formulario.controls.paxNombre.setValue(w[1]+" "+w[0]),e.formulario.controls.vuelo.setValue(h),e.formulario.controls.destino.setValue(f),e.formulario.controls.origen.setValue(p);const j=e.convertirDiaDelAnoAFecha(y);e.formulario.controls.fechaVuelo.setValue(j),e.formulario.controls.asientoPax.setValue(E)}catch(i){console.error("Error escaneando el c\xf3digo de barras: ",i)}else e.presentAlert()})()}requestPermissions(){return(0,_.A)(function*(){const{camera:e}=yield N.vi.requestPermissions();return"granted"===e||"limited"===e})()}presentAlert(){var e=this;return(0,_.A)(function*(){yield(yield e.alertController.create({header:"Permission denied",message:"Please grant camera permission to use the barcode scanner.",buttons:["OK"]})).present()})()}validarCompania(e){this.companiaAereaService.findByNombre(e).subscribe({next:t=>{console.log("Compa\xf1\xeda a\xe9rea encontrada",t),this.companiaAerea=t}})}convertirFechaADate(e){const[t,i,l]=e.split("-").map(p=>parseInt(p,10));return new Date(l,i-1,t).toISOString().split("T")[0]+"T00:00:00"}convertirDiaDelAnoAFecha(e,t=(new Date).getFullYear()){const i=new Date(t,0);return i.setDate(e),`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}`}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(X),o.rXU(wo),o.rXU(Po.hG))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-toolbar"]],inputs:{formulario:"formulario"},standalone:!0,features:[o.aNF],decls:12,vars:0,consts:[[1,"grid","grid-cols-3","items-center","py-2","ion-padding"],[1,"flex","items-center"],["defaultHref","/formularios/objetosRetenidos/bandeja-entrada-retenidos",2,"--color","var(--color-pantone-312c)"],[1,"flex","justify-center","items-center"],[1,"flex","text-center","justify-center","items-center"],[1,"flex","items-center","justify-end"],["id","open-qr","type","button",1,"rounded-lg","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300",2,"--background","var(--color-pantone-312c)",3,"click"],["name","qr-code",1,"w-10","h-6"]],template:function(e,t){1&e&&(o.j41(0,"ion-card")(1,"div",0)(2,"div",1)(3,"ion-buttons"),o.nrm(4,"ion-back-button",2),o.k0s()(),o.j41(5,"div")(6,"div",3),o.nrm(7,"app-clock",4),o.k0s()(),o.j41(8,"div")(9,"div",5)(10,"ion-button",6),o.bIt("click",function(){return t.openScanner()}),o.nrm(11,"ion-icon",7),o.k0s()()()()())},dependencies:[c.iq,c.el,c.b_,c.QW,c.Jm,s.X1,s.YN,_t.C]}),n})();var Ao=b(369);function Tt(r,n){1&r&&(o.j41(0,"span",16),o.EFF(1," Objeto "),o.k0s())}function kt(r,n){1&r&&(o.j41(0,"span",16),o.EFF(1," Cantidad "),o.k0s())}function Ft(r,n){1&r&&(o.j41(0,"span",16),o.EFF(1," Adicional "),o.k0s())}function Et(r,n){1&r&&(o.j41(0,"span",16),o.EFF(1," Marca "),o.k0s())}function xt(r,n){1&r&&(o.j41(0,"span",16),o.EFF(1," Modelo "),o.k0s())}function jt(r,n){1&r&&(o.j41(0,"span",16),o.EFF(1," Serie "),o.k0s())}function yt(r,n){1&r&&(o.j41(0,"span",16),o.EFF(1," Acciones "),o.k0s())}function Rt(r,n){if(1&r){const a=o.RV6();o.j41(0,"ion-button",18),o.bIt("click",function(){const t=o.eBV(a).row,i=o.XpG(2);return o.Njj(i.borrarObjeto(t))}),o.nrm(1,"ion-icon",19),o.k0s()}}function wt(r,n){1&r&&(o.j41(0,"ngx-datatable-column",15),o.DNE(1,yt,2,0,"ng-template",9)(2,Rt,2,0,"ng-template",17),o.k0s()),2&r&&o.Y8G("frozenRight",!0)("width",75)}let K=(()=>{var r;class n{constructor(e,t,i){this.storage=e,this.service=t,this.router=i,this.ColumnMode=g.oZ,this.rows=[],this.temp=[],this.filteredRows=[],this.columns=[{prop:"nombre",name:"Objeto"},{prop:"cantidad",name:"Cantidad"},{prop:"marca",name:"Marca"},{prop:"modelo",name:"Modelo"},{prop:"serie",name:"Serie"},{prop:"datosAdicionales",name:"DatosAdicionales"}]}ngOnInit(){var e=this;return(0,_.A)(function*(){e.storage.create(),yield e.storage.get("perfil").then(t=>{e.user=t}),e.filter={unidad:e.user.unidad,agrupacion:e.user.agrupacion,tipo:e.user.tipo,fechaReg:(new Date).toISOString().split("T")[0]},console.log(e.filter),e.flag?(console.log("flag",e.flag),e.getDataForTable()):(console.log("flag",e.flag),console.log("objetos",e.objetos),e.dataForTable(e.objetos)),e.startAllIcons()})()}getDataForTable(){this.service.getObjetos().subscribe({next:e=>{console.log("new data",e),this.loadingIndicator=!0,this.rows=[...e],this.temp=[...e],this.filteredRows=[...e],this.loadingIndicator=!1,console.log("rows",this.rows)},error:e=>{console.log(e)}})}dataForTable(e){console.log("new data",e),this.loadingIndicator=!0,this.rows=[...e],this.temp=[...e],this.filteredRows=[...e],this.loadingIndicator=!1,console.log("rows",this.rows)}updateFilter(e){const t=e.target.value.toLowerCase();if(t){const i=this.temp.filter(l=>-1!==l.objeto.toLowerCase().indexOf(t)||-1!==l.cantidad.toLowerCase().indexOf(t)||-1!==l.marca.toString().indexOf(t)||-1!==l.modelo.toLowerCase().indexOf(t)||-1!==l.serie.toLowerCase().indexOf(t));this.rows=i}else this.rows=[...this.temp],console.log("rows",this.rows);this.table.offset=0}borrarObjeto(e){this.service.deleteObjeto(e)}startAllIcons(){(0,F.a)({filterOutline:u.PyO,trashOutline:u.P1A})}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(Ao.w),o.rXU(J),o.rXU(x.Ix))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-obj-table"]],viewQuery:function(e,t){if(1&e&&o.GBs(g.ge,5),2&e){let i;o.mGM(i=o.lsd())&&(t.table=i.first)}},inputs:{objetos:"objetos",flag:"flag"},standalone:!0,features:[o.aNF],decls:26,vars:11,consts:[["table",""],["size","12"],["align","right",1,"searchTable"],[1,"grid","grid-cols-2","md:grid-cols-3"],[1,"flex","items-center"],["name","filter-outline",1,"h-6","w-6","ml-4"],["animated","true","placeholder","Buscar",1,"ion-text-center",3,"ionInput"],[1,"bootstrap",3,"columnMode","headerHeight","footerHeight","rowHeight","loadingIndicator","scrollbarH","limit","rows"],["prop","nombre","cellClass","datatable-grid-cell",3,"width"],["ngx-datatable-header-template",""],["prop","cantidad",3,"width"],["prop","datosAdicionales"],["prop","marca"],["prop","modelo"],["prop","serie"],[3,"frozenRight","width"],[1,"tableHeader"],["ngx-datatable-cell-template",""],["size","small",2,"--background","var(--color-pantone-130c)",3,"click"],["name","trash-outline"]],template:function(e,t){if(1&e){const i=o.RV6();o.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",1)(3,"ion-card")(4,"div",2)(5,"div",3)(6,"div",4),o.nrm(7,"ion-icon",5),o.k0s(),o.nrm(8,"div"),o.j41(9,"div")(10,"ion-searchbar",6),o.bIt("ionInput",function(d){return o.eBV(i),o.Njj(t.updateFilter(d))}),o.k0s()()()(),o.j41(11,"ngx-datatable",7,0)(13,"ngx-datatable-column",8),o.DNE(14,Tt,2,0,"ng-template",9),o.k0s(),o.j41(15,"ngx-datatable-column",10),o.DNE(16,kt,2,0,"ng-template",9),o.k0s(),o.j41(17,"ngx-datatable-column",11),o.DNE(18,Ft,2,0,"ng-template",9),o.k0s(),o.j41(19,"ngx-datatable-column",12),o.DNE(20,Et,2,0,"ng-template",9),o.k0s(),o.j41(21,"ngx-datatable-column",13),o.DNE(22,xt,2,0,"ng-template",9),o.k0s(),o.j41(23,"ngx-datatable-column",14),o.DNE(24,jt,2,0,"ng-template",9),o.k0s(),o.DNE(25,wt,3,2,"ngx-datatable-column",15),o.k0s()()()()()}2&e&&(o.R7$(11),o.Y8G("columnMode",t.ColumnMode.force)("headerHeight",50)("footerHeight",50)("rowHeight","auto")("loadingIndicator",t.loadingIndicator)("scrollbarH",!0)("limit",7)("rows",t.rows),o.R7$(2),o.Y8G("width",120),o.R7$(2),o.Y8G("width",80),o.R7$(10),o.vxM(25,t.flag?25:-1))},dependencies:[c.Jm,c.S1,c.ln,c.hU,c.lO,g.Kj,g.ge,g.ed,g.V,g.QI,c.b_,c.iq],styles:[".datatable-grid-cell[_ngcontent-%COMP%]{border:1px solid #000000;padding:8px}"]}),n})(),Pt=(()=>{var r;class n{getMarcasYModelos(e){return"pistola"===e.toLowerCase()?this.data.pistola:{}}constructor(){this.data={pistola:{Glock:["Glock 17","Glock 19","Glock 26","Glock 43","Glock 45"],"Smith & Wesson":["M&P Shield","M&P 9","M&P 40","Model 686","Model 1911"],"Sig Sauer":["P320","P226","P229","P365","P238"],Beretta:["92FS","PX4 Storm","M9","86 Cheetah","8000 Cougar"],Colt:["1911","Mustang","King Cobra","Defender","Commander"],Ruger:["SR1911","LCP","LC9","Security-9","GP100"],"Springfield Armory":["XD-S","XD-M","1911 Loaded","Hellcat","XD-E"],Walther:["PPQ","P99","PPS M2","P22","CCP"],"Heckler & Koch (H&K)":["VP9","USP","P30","HK45","P2000"],Taurus:["G2C","1911","Tracker","PT92","TX22"],Kimber:["Custom II","Ultra Carry","Pro Carry","Solo","EVO SP"],"FN Herstal":["FN Five-seveN","FNX-9","FNS-40","FN 509","FN 1911"],Canik:["TP9 Elite SC","TP9 SFX","TP9 SA","TP9 SF","Shark"],"CZ (\u010cesk\xe1 zbrojovka)":["CZ-75","CZ-75 Compact","CZ P-10","CZ Shadow 2","CZ 1911"],"Desert Eagle":["Desert Eagle .50 AE","Desert Eagle .44 Magnum","Desert Eagle .357 Magnum"]}}}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();const Oo=(r,n)=>n.nombre,So=()=>({standalone:!0}),Io=(r,n)=>({"bg-pantone-cool-gray ":r,"bg-pantone-286c hover:bg-pantone-312c focus:ring-4 focus:outline-none focus:ring-black-35":n});function Dt(r,n){1&r&&(o.j41(0,"div",9),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function Nt(r,n){if(1&r&&(o.j41(0,"option",13),o.EFF(1),o.k0s()),2&r){const a=n.$implicit;o.FS9("value",a.value),o.R7$(),o.JRh(a.nombre)}}function Vt(r,n){if(1&r&&(o.j41(0,"ion-col",10)(1,"div",4)(2,"div")(3,"label",11),o.EFF(4,"Objeto"),o.k0s(),o.j41(5,"select",12),o.Z7z(6,Nt,2,2,"option",13,Oo),o.k0s()()()(),o.j41(8,"ion-col",3)(9,"label",14),o.EFF(10,"Cantidad de balas "),o.k0s(),o.nrm(11,"input",15),o.k0s()),2&r){const a=o.XpG();o.R7$(6),o.Dyx(a.objetosRetenidosOrdenados)}}function At(r,n){if(1&r&&(o.j41(0,"option",13),o.EFF(1),o.k0s()),2&r){const a=n.$implicit;o.FS9("value",a.value),o.R7$(),o.JRh(a.nombre)}}function Ot(r,n){if(1&r&&(o.j41(0,"select",12),o.Z7z(1,At,2,2,"option",13,Oo),o.k0s()),2&r){const a=o.XpG(2);o.R7$(),o.Dyx(a.objetosRetenidosOrdenados)}}function St(r,n){1&r&&(o.j41(0,"div",9),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function It(r,n){if(1&r){const a=o.RV6();o.j41(0,"input",22),o.mxI("ngModelChange",function(t){o.eBV(a);const i=o.XpG(2);return o.DH7(i.otroObjeto,t)||(i.otroObjeto=t),o.Njj(t)}),o.bIt("input",function(t){o.eBV(a);const i=o.XpG(2);return o.Njj(i.updateObjeto(t))}),o.k0s(),o.DNE(1,St,2,0,"div",9)}if(2&r){const a=o.XpG(2);o.R50("ngModel",a.otroObjeto),o.Y8G("ngModelOptions",o.lJ4(3,So)),o.R7$(),o.vxM(1,a.formObjetos.controls.nombre.invalid&&a.formObjetos.controls.nombre.touched?1:-1)}}function Gt(r,n){if(1&r){const a=o.RV6();o.j41(0,"ion-col",16)(1,"div",4)(2,"div")(3,"label",17),o.EFF(4,"Objeto "),o.k0s(),o.DNE(5,Ot,3,0,"select",12)(6,It,2,4),o.k0s()()(),o.j41(7,"ion-col",18)(8,"div",19)(9,"input",20),o.mxI("ngModelChange",function(t){o.eBV(a);const i=o.XpG();return o.DH7(i.isOtroSelected,t)||(i.isOtroSelected=t),o.Njj(t)}),o.bIt("ionChange",function(t){o.eBV(a);const i=o.XpG();return o.Njj(i.onCheckboxChange(t))}),o.k0s(),o.j41(10,"label",21),o.EFF(11,"Otro objeto"),o.k0s()()()}if(2&r){const a=o.XpG();o.R7$(5),o.vxM(5,a.isOtroSelected?6:5),o.R7$(4),o.R50("ngModel",a.isOtroSelected),o.Y8G("ngModelOptions",o.lJ4(3,So))}}function $t(r,n){if(1&r&&(o.j41(0,"option",13),o.EFF(1),o.k0s()),2&r){const a=n.$implicit;o.FS9("value",a),o.R7$(),o.JRh(a)}}function Mt(r,n){if(1&r&&(o.j41(0,"option",13),o.EFF(1),o.k0s()),2&r){const a=n.$implicit;o.FS9("value",a),o.R7$(),o.JRh(a)}}function Bt(r,n){if(1&r&&(o.j41(0,"ion-grid")(1,"ion-row",23)(2,"ion-col",24)(3,"div")(4,"label",25),o.EFF(5,"Marca"),o.k0s(),o.j41(6,"select",26),o.Z7z(7,$t,2,2,"option",13,o.fX1),o.k0s()()(),o.j41(9,"ion-col",24)(10,"div")(11,"label",27),o.EFF(12,"Modelo"),o.k0s(),o.j41(13,"select",28),o.Z7z(14,Mt,2,2,"option",13,o.fX1),o.k0s()()(),o.j41(16,"ion-col",29)(17,"div")(18,"label",30),o.EFF(19,"Serie "),o.k0s(),o.nrm(20,"input",31),o.k0s()(),o.j41(21,"ion-col",3)(22,"div",32)(23,"button",33),o.nrm(24,"ion-icon",34),o.k0s()()()()()),2&r){const a=o.XpG();o.R7$(7),o.Dyx(a.marcas),o.R7$(7),o.Dyx(a.modelos),o.R7$(9),o.Y8G("ngClass",o.l_i(2,Io,a.formObjetos.invalid,!a.formObjetos.invalid))("disabled",a.formObjetos.invalid)}}function Yt(r,n){1&r&&(o.j41(0,"div",9),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function Ut(r,n){if(1&r&&(o.j41(0,"ion-grid")(1,"ion-row",23)(2,"ion-col",24)(3,"div")(4,"label",25),o.EFF(5,"Marca"),o.k0s(),o.nrm(6,"input",35),o.k0s()(),o.j41(7,"ion-col",24)(8,"div")(9,"label",27),o.EFF(10,"Modelo"),o.k0s(),o.nrm(11,"input",36),o.k0s()(),o.j41(12,"ion-col",29)(13,"div")(14,"label",30),o.EFF(15,"Serie "),o.k0s(),o.nrm(16,"input",31),o.DNE(17,Yt,2,0,"div",7),o.k0s()(),o.j41(18,"ion-col",3)(19,"div",32)(20,"button",33),o.nrm(21,"ion-icon",34),o.k0s()()()()()),2&r){const a=o.XpG();o.R7$(17),o.Y8G("ngIf",a.formObjetos.controls.serie.invalid&&a.formObjetos.controls.serie.touched),o.R7$(3),o.Y8G("ngClass",o.l_i(3,Io,a.formObjetos.invalid,!a.formObjetos.invalid))("disabled",a.formObjetos.invalid)}}let qt=(()=>{var r;class n{constructor(e,t,i){this.cdr=e,this.zone=t,this.marcaModeloService=i,this.isOtroSelected=!1,this.objetos=[],this.previousValue=null,this.objetosRetenidos=[{nombre:"Objeto de defensa personal",value:"OBJETO DE DEFENSA PERSONAL",tipo:14},{nombre:"Cargador",value:"CARGADOR",tipo:13},{nombre:"Pistola",value:"PISTOLA",tipo:12},{nombre:"municiones",value:"MUNICIONES",tipo:13},{nombre:"Explosivo",value:"EXPLOSIVO",tipo:15},{nombre:"Sustancia peligrosa",value:"SUSTANCIA PELIGROSA",tipo:16},{nombre:"Herramienta",value:"HERRAMIENTA",tipo:20}],this.marcas=[],this.modelos=[],this.objetosRetenidosOrdenados=this.objetosRetenidos.sort((l,d)=>l.nombre.localeCompare(d.nombre))}ngOnInit(){var e,t;null===(e=this.formObjetos)||void 0===e||e.controls.nombre.valueChanges.subscribe({next:i=>this.onObjetoChange(i),error:i=>console.error(i),complete:()=>console.log("complete")}),null===(t=this.formObjetos)||void 0===t||t.controls.marca.valueChanges.subscribe({next:i=>this.onMarcaChange(i),error:i=>console.error(i),complete:()=>console.log("complete")})}ngDoCheck(){const e=this.formObjetos.controls.nombre.value;e!==this.previousValue&&(this.previousValue=e,this.zone.run(()=>{"CARGADOR"===e?this.formObjetos.controls.datosAdicionales.setValue(0):this.formObjetos.controls.datosAdicionales.reset(),this.cdr.detectChanges()}))}onCheckboxChange(e){this.zone.run(()=>{this.isOtroSelected=e.detail.checked,this.isOtroSelected||(this.otroObjeto="",this.formObjetos.controls.nombre.setValue("")),this.cdr.markForCheck()})}updateObjeto(e){this.zone.run(()=>{this.formObjetos.controls.nombre.setValue(e.target.value.toUpperCase()),this.cdr.markForCheck()})}onObjetoChange(e){if("PISTOLA"===e){const t=this.marcaModeloService.getMarcasYModelos(e);this.marcas=Object.keys(t),console.log("marcas",this.marcas),this.modelos=[]}else this.marcas=[],this.modelos=[];this.formObjetos.controls.marca.reset(),this.formObjetos.controls.modelo.reset()}onMarcaChange(e){if("PISTOLA"===this.formObjetos.controls.nombre.value){const t=this.marcaModeloService.getMarcasYModelos(this.formObjetos.controls.nombre.value);this.modelos=t[e]}this.formObjetos.controls.modelo.reset()}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(o.gRc),o.rXU(o.SKi),o.rXU(Pt))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-objetos"]],inputs:{formObjetos:"formObjetos"},standalone:!0,features:[o.aNF],decls:19,vars:6,consts:[[1,"mt-6","mb-3"],[1,"text-xl","font-semibold","text-gray-900"],[3,"formGroup"],["size","2"],[1,"space-y-4"],["for","number-input",1,"block","required","text-sm","font-medium","text-gray-700","text-nowrap"],["type","number","id","number-input","formControlName","cantidad","placeholder","Cantidad","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[3,"objetos","flag"],[1,"text-red-500","text-sm","mt-1"],["size","8"],["for","objeto",1,"block","text-sm","font-medium","required","text-gray-700"],["id","objeto","formControlName","nombre","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[3,"value"],["for","cantBalas",1,"block","text-sm","required","font-medium","text-gray-700","text-nowrap"],["id","cantBalas","placeholder","Cantidad de balas","value","0","type","number","formControlName","datosAdicionales","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-red-500","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["size"," 8"],["for","objeto",1,"block","required","text-sm","font-medium","text-gray-700"],["size","2",1,"flex"],[1,"mt-3","flex","text-center","items-center"],["type","checkbox","ngDefaultControl","",3,"ngModelChange","ionChange","ngModel","ngModelOptions"],["for","otroObjetoCheckbox",1,"ml-2","text-sm","font-medium","text-gray-700"],["id","otroObjeto","name","otroObjeto","required","","placeholder","Especificar Objeto",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","input","ngModel","ngModelOptions"],[1,"gap-1"],["size","4"],["for","marca",1,"block","text-sm","font-medium","text-gray-700"],["id","marca","formControlName","marca","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","modelo",1,"block","text-sm","font-medium","text-gray-700"],["id","modelo","formControlName","modelo","required","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["size",""],["for","serie",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","serie","formControlName","serie","placeholder","Serie",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[1,"relative","top-4","flex","justify-center","items-center"],["type","submit",1,"inline-flex","items-center","px-6","py-3","text-base","font-medium","text-white","bg-pantone-286c","text-nowrap","rounded-lg",3,"ngClass","disabled"],["name","add-outline"],["type","text","id","marca","formControlName","marca","placeholder","Marca",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["type","text","id","modelo","formControlName","modelo","placeholder","Modelo",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"Datos de Objeto (s)"),o.k0s()(),o.j41(3,"div",2)(4,"ion-grid")(5,"ion-row")(6,"ion-col",3)(7,"div",4)(8,"div")(9,"label",5),o.EFF(10,"Cantidad "),o.k0s(),o.nrm(11,"input",6),o.DNE(12,Dt,2,0,"div",7),o.k0s()()(),o.DNE(13,Vt,12,0)(14,Gt,12,4),o.k0s()(),o.DNE(15,Bt,25,5,"ion-grid")(16,Ut,22,6),o.j41(17,"div"),o.nrm(18,"app-obj-table",8),o.k0s()()),2&e&&(o.R7$(3),o.Y8G("formGroup",t.formObjetos),o.R7$(9),o.Y8G("ngIf",t.formObjetos.controls.cantidad.invalid&&t.formObjetos.controls.cantidad.touched),o.R7$(),o.vxM(13,"CARGADOR"==t.formObjetos.controls.nombre.value?13:14),o.R7$(2),o.vxM(15,"PISTOLA"==t.formObjetos.controls.nombre.value?15:16),o.R7$(3),o.Y8G("objetos",t.objetos)("flag",!0))},dependencies:[c.iq,c.hU,c.ln,c.lO,C.bT,s.X1,s.xH,s.y7,s.me,s.Q0,s.Zm,s.wz,s.BC,s.cb,s.YS,s.j4,s.JD,s.YN,s.vS,C.YU,K]}),n})(),Xt=(()=>{var r;class n{constructor(e,t,i){var l;this.serviceObj=e,this.storage=t,this.fb=i,this.title="Manifiesto Objetos Retenidos (R-AVSEC-002)",this.colorToolbar="--color-pantone-312c",this.startAllIcons(),this.formulario=this.fb.group({asientoPax:["",[s.k0.required]],origen:["",[s.k0.required]],destino:["",[s.k0.required]],companiaNombre:["",s.k0.required],puenteEmbarque:["",s.k0.required],particular:["",s.k0.required],paxNombre:["",s.k0.required],ticket:[""],userAvsec:[""],paxNumeroTelefono:["",s.k0.required],paxRut:["",[Vo()]],paxPasaporte:[""],paxEmail:["",s.k0.email],requiereEscolta:[!1],vuelo:["",s.k0.required],escalaVuelo:[""],escalaCompania:[""],escalaOrigen:[""],escalaDestino:[""],escalaFecha:[""],userAvsecIngresa:[null],userAvsecIngresaFirma:[""],userAvsecRetira:[null],userAvsecRetiraFirma:[""],unidadAeroportuaria:[""],fechaVuelo:["",s.k0.required],companiaVuelo:[""],traslado:[null],observacion:[""],ticaUsuarioCompania:[""],firmaUsuarioCompania:[""],habilitado:[""],objetosRetenidos:[""],fechaHoraVuelo:[""],paxFirma:["",s.k0.required],firmaAvsecRetira:[""],ticaAvsecRetira:[""],nombreAvsRetProv:[""],nombreUsrCompanyProv:[""],fechaRetiro:[""],horaRetiro:[""],archivoPax:[""],archivoAvsec:[""]},{validators:[this.rutOrPasaporteValidator()]}),null===(l=this.formulario.get("paxRut"))||void 0===l||l.setValidators(Vo()),this.formObjetos=this.fb.group({nombre:["",s.k0.required],marca:[""],cantidad:[1,s.k0.required],modelo:[""],serie:[""],datosAdicionales:["0"],encargado:[null],formulario:[null],tipo:[""]})}ngOnInit(){var e=this;return(0,_.A)(function*(){e.formulario.markAllAsTouched(),e.storage.create(),yield e.storage.get("perfil").then(t=>{e.perfil=t,console.log("perfil : ",e.perfil)}),e.formulario.controls.userAvsec.setValue(e.perfil.nombres)})()}onSubmitObj(){if(this.formObjetos.valid){console.log("Formulario v\xe1lido",this.formObjetos.value);const e=this.formObjetos.controls,{nombre:t,marca:i,modelo:l,serie:d,datosAdicionales:m}=this.formObjetos.value,p=R=>R?R.toUpperCase():"N/A";["nombre","marca","modelo","serie"].forEach(R=>{var E;e[R].setValue(p(null===(E=this.formObjetos.get(R))||void 0===E?void 0:E.value))});const f={CARGADOR:13,EXPLOSIVO:15,HERRAMIENTA:20,MUNICIONES:13,"OBJETO DE DEFENSA PERSONAL":14,PISTOLA:12,"SUSTANCIA PELIGROSA":19},v=void 0!==f[t.toUpperCase()]?f[t.toUpperCase()]:22;void 0!==v&&e.tipo.setValue({id:v}),console.log("valores",t,i,l,d,m,v);let h="N/A";m>=1?h=`Con ${m} bala${m>1?"s":""}`:"CARGADOR"===t.toUpperCase()&&(h="Sin balas"),e.datosAdicionales.setValue(h.toUpperCase()),e.marca.setValue(p(i)),e.modelo.setValue(p(l)),console.log("Formulario v\xe1lido",this.formObjetos.value);const y=this.formObjetos.value.tipo.id;console.log("Tipo de objeto",y),12===y&&this.formulario.controls.requiereEscolta.setValue(!0),this.serviceObj.addObjeto(this.formObjetos.value),this.formObjetos.reset({cantidad:1,datosAdicionales:0})}else console.log("Formulario inv\xe1lido",this.formObjetos.value)}rutOrPasaporteValidator(){return e=>{const t=e.get("paxRut"),i=e.get("paxPasaporte");return null!=t&&t.value||null!=i&&i.value?null:{rutOrPasaporteRequired:!0}}}isRutOrPasaporteRequired(){return this.formulario.hasError("rutOrPasaporteRequired")&&(this.formulario.dirty||this.formulario.touched)}traerSeleccionado(e){console.log("Valor seleccionado",e),this.isPasaporteSelected=e}recibirCompaniaVuelo(e){console.log("Compania Vuelo recibida",e),this.companiaVuelo=e,this.formulario.controls.companiaVuelo.setValue(e)}startAllIcons(){(0,F.a)({camera:u.UIk,qrCode:u.JBo,create:u.vtF,add:u.WQq,addOutline:u.EKF})}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(J),o.rXU(Ao.w),o.rXU(s.ok))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-form-retenidos"]],standalone:!0,features:[o.aNF],decls:22,vars:12,consts:[[3,"title"],[1,"background"],[1,"container","mx-auto","ion-padding-start","ion-padding-end","ion-padding-bottom","rounded-lg"],[3,"formGroup"],[3,"formulario"],[1,"ion-padding"],[3,"companiaVueloOutput","formulario"],[3,"isPasaporteSelectedOutput","formulario"],[3,"ngSubmit","formGroup"],[3,"formObjetos"],[1,"flex","text-center","items-center"],[1,"ml-4"],["type","checkbox","formControlName","requiereEscolta"],["for","otroObjetoCheckbox",1,"ml-2","text-lg","font-medium","text-gray-700"],[3,"isPasaporteSelected","formulario"]],template:function(e,t){1&e&&(o.nrm(0,"app-navbar",0),o.j41(1,"ion-content",1)(2,"div",2)(3,"form",3),o.nrm(4,"app-toolbar",4),o.k0s(),o.j41(5,"ion-card",5)(6,"form",3)(7,"app-datos-vuelo",6),o.bIt("companiaVueloOutput",function(l){return t.recibirCompaniaVuelo(l)}),o.k0s(),o.nrm(8,"app-divider"),o.j41(9,"app-datos-pax",7),o.bIt("isPasaporteSelectedOutput",function(l){return t.traerSeleccionado(l)}),o.k0s(),o.nrm(10,"app-divider"),o.k0s(),o.j41(11,"form",8),o.bIt("ngSubmit",function(){return t.onSubmitObj()}),o.nrm(12,"app-datos-objetos",9),o.k0s(),o.j41(13,"form",3)(14,"div",10)(15,"div",11),o.nrm(16,"input",12),o.j41(17,"label",13),o.EFF(18,"\xbfLos objetos retenidos requieren Escolta? "),o.k0s()()()(),o.nrm(19,"app-divider")(20,"app-datos-firma-retencion",4)(21,"app-ticket-modal",14),o.k0s()()()),2&e&&(o.Y8G("title",t.title),o.R7$(3),o.Y8G("formGroup",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(2),o.Y8G("formGroup",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(2),o.Y8G("formulario",t.formulario),o.R7$(2),o.Y8G("formGroup",t.formObjetos),o.R7$(),o.Y8G("formObjetos",t.formObjetos),o.R7$(),o.Y8G("formGroup",t.formulario),o.R7$(7),o.Y8G("formulario",t.formulario),o.R7$(),o.Y8G("isPasaporteSelected",t.isPasaporteSelected)("formulario",t.formulario))},dependencies:[C.MD,s.YN,s.qT,s.Zm,s.BC,s.cb,s.X1,s.j4,s.JD,A.a,D.h,c.b_,c.W9,Pe,Ge,Ct,qt,Je,ht]}),n})();var oo=b(7589);let O=(()=>{var r;class n{constructor(){this.type="text",this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-form-input"]],inputs:{formulario:"formulario",formControlName:"formControlName",label:"label",placeholder:"placeholder",type:"type"},standalone:!0,features:[o.Jv_([{provide:s.kq,useExisting:(0,o.Rfq)(()=>r),multi:!0}]),o.aNF],decls:5,vars:6,consts:[[1,"border-none","p-0",3,"formGroup"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-800","w-full",3,"for"],["type","text","readonly","",1,"mt-1","block","w-full","bg-gray-200","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500","cursor-none",3,"id","formControlName","placeholder"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1)(2,"label",2),o.EFF(3),o.k0s(),o.nrm(4,"input",3),o.k0s()()),2&e&&(o.Y8G("formGroup",t.formulario),o.R7$(2),o.Y8G("for",t.formControlName),o.R7$(),o.SpI(" ",t.label," "),o.R7$(),o.Y8G("id",t.formControlName)("formControlName",t.formControlName)("placeholder",t.placeholder))},dependencies:[s.X1,s.me,s.BC,s.cb,s.j4,s.JD,s.YN]}),n})(),Ht=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-vuelo-escala"]],inputs:{formulario:"formulario"},standalone:!0,features:[o.aNF],decls:13,vars:6,consts:[[3,"formGroup"],[1,"grid","grid-cols-2"],[1,"text-xl","font-semibold","text-gray-900"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["formControlName","escalaVuelo","label","Vuelo",3,"formulario"],["formControlName","escalaCompania","label","Compa\xf1ia",3,"formulario"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["formControlName","escalaOrigen","label","Origen de escala",3,"formulario"],["formControlName","escalaDestino","label","Destino de escala",3,"formulario"],["formControlName","escalaFecha","label","Fecha de escala",3,"formulario"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.nrm(1,"app-divider"),o.j41(2,"div",1)(3,"div")(4,"h1",2),o.EFF(5,"Datos de escala"),o.k0s()()(),o.j41(6,"div",3),o.nrm(7,"app-form-input",4)(8,"app-form-input",5),o.k0s(),o.j41(9,"div",6),o.nrm(10,"app-form-input",7)(11,"app-form-input",8)(12,"app-form-input",9),o.k0s()()),2&e&&(o.Y8G("formGroup",t.formulario),o.R7$(7),o.Y8G("formulario",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(2),o.Y8G("formulario",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario))},dependencies:[s.X1,s.BC,s.cb,s.j4,s.JD,s.YN,O,D.h]}),n})();function Zt(r,n){1&r&&o.nrm(0,"ion-icon",13)(1,"ion-icon",13)(2,"ion-icon",14)(3,"ion-icon",14)}function zt(r,n){1&r&&o.nrm(0,"ion-icon",13)(1,"ion-icon",13)(2,"ion-icon",13)(3,"ion-icon",14)}function Lt(r,n){1&r&&o.nrm(0,"ion-icon",13)(1,"ion-icon",13)(2,"ion-icon",13)(3,"ion-icon",13)}function Jt(r,n){if(1&r&&o.nrm(0,"app-datos-vuelo-escala",12),2&r){const a=o.XpG();o.Y8G("formulario",a.formulario)}}let Go=(()=>{var r;class n{constructor(){}ngOnInit(){this.addAllIcons(),console.log("existen",this.formulario.value.escalaDestino,this.formulario.value.escalaOrigen,this.formulario.value.escalaFecha)}addAllIcons(){(0,F.a)({radioButtonOffOutline:u.dwn,radioButtonOnOutline:u.rhe})}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-vuelo"]],inputs:{formulario:"formulario",estado:"estado"},standalone:!0,features:[o.aNF],decls:19,vars:9,consts:[[1,"text-left","ion-padding-top","ion-padding-bottom"],[1,"grid","grid-cols-2"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-right"],[3,"formGroup"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["formControlName","vuelo","label","Vuelo","placeholder","Vuelo",3,"formulario"],["formControlName","companiaNombre","label","Compa\xf1ia","placeholder","Compa\xf1ia",3,"formulario"],["formControlName","puenteEmbarque","label","Puerta de embarque","placeholder","Puerta de embarque",3,"formulario"],["formControlName","origen","label","Origen","placeholder","Origen",3,"formulario"],["formControlName","destino","label","Destino","placeholder","Destino",3,"formulario"],["formControlName","fechaVuelo","label","Fecha de vuelo","placeholder","Fecha del vuelo",3,"formulario"],[3,"formulario"],["name","radio-button-on-outline",1,"text-pantone-130c","h-4","w-4"],["name","radio-button-off-outline",1,"text-pantone-130c","h-4","w-4"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),o.EFF(4,"Datos del vuelo"),o.k0s()(),o.j41(5,"div",3),o.DNE(6,Zt,4,0)(7,zt,4,0)(8,Lt,4,0),o.k0s()()(),o.j41(9,"div",4)(10,"div",5),o.nrm(11,"app-form-input",6)(12,"app-form-input",7)(13,"app-form-input",8),o.k0s(),o.j41(14,"div",5),o.nrm(15,"app-form-input",9)(16,"app-form-input",10)(17,"app-form-input",11),o.k0s(),o.DNE(18,Jt,1,1,"app-datos-vuelo-escala",12),o.k0s()),2&e&&(o.R7$(6),o.vxM(6,2==t.estado?6:3==t.estado?7:8),o.R7$(3),o.Y8G("formGroup",t.formulario),o.R7$(2),o.Y8G("formulario",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(2),o.Y8G("formulario",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(),o.vxM(18,t.formulario.value.escalaOrigen&&t.formulario.value.escalaDestino&&t.formulario.value.escalaFecha?18:-1))},dependencies:[c.iq,s.X1,s.BC,s.cb,s.j4,s.JD,s.YN,O,Ht]}),n})();function Qt(r,n){if(1&r&&o.nrm(0,"app-form-input",8),2&r){const a=o.XpG();o.Y8G("formulario",a.formulario)}}function Wt(r,n){if(1&r&&o.nrm(0,"app-form-input",9),2&r){const a=o.XpG();o.Y8G("formulario",a.formulario)}}let $o=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-pax"]],inputs:{formulario:"formulario"},standalone:!0,features:[o.aNF],decls:21,vars:8,consts:[[1,"text-left","ion-padding-bottoms"],[1,"text-xl","font-semibold","text-gray-900"],[3,"formGroup"],["size","5"],["formControlName","paxNombre","label","Pax","placeholder","Nombre pasajero",3,"formulario"],["size","4"],["formControlName","paxEmail","label","Email","placeholder","Email del pasajero",3,"formulario"],["size","3"],["formControlName","paxPasaporte","label","Pasaporte","placeholder","Pasaporte del pasajero/a",3,"formulario"],["formControlName","paxRut","label","Rut","placeholder","Rut del pasajero/a",3,"formulario"],["size","2"],["formControlName","asientoPax","label","Asiento","placeholder","Asiento del pasajero/a",3,"formulario"],["formControlName","particular","label","Particular","placeholder","Tipo de vuelo",3,"formulario"],["formControlName","paxNumeroTelefono","label","Numero telef\xf3nico","placeholder","N\xfamero de pasajero/a",3,"formulario"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div")(2,"h1",1),o.EFF(3,"Datos pasajero"),o.k0s()()(),o.j41(4,"div",2)(5,"ion-grid")(6,"ion-row")(7,"ion-col",3),o.nrm(8,"app-form-input",4),o.k0s(),o.j41(9,"ion-col",5),o.nrm(10,"app-form-input",6),o.k0s(),o.j41(11,"ion-col",7),o.DNE(12,Qt,1,1,"app-form-input",8)(13,Wt,1,1,"app-form-input",9),o.k0s()(),o.j41(14,"ion-row")(15,"ion-col",10),o.nrm(16,"app-form-input",11),o.k0s(),o.j41(17,"ion-col",3),o.nrm(18,"app-form-input",12),o.k0s(),o.j41(19,"ion-col",3),o.nrm(20,"app-form-input",13),o.k0s()()()()),2&e&&(o.R7$(4),o.Y8G("formGroup",t.formulario),o.R7$(4),o.Y8G("formulario",t.formulario),o.R7$(2),o.Y8G("formulario",t.formulario),o.R7$(2),o.vxM(12,null==t.formulario.controls.paxRut.value?12:-1),o.R7$(),o.vxM(13,null==t.formulario.controls.paxPasaporte.value?13:-1),o.R7$(3),o.Y8G("formulario",t.formulario),o.R7$(2),o.Y8G("formulario",t.formulario),o.R7$(2),o.Y8G("formulario",t.formulario))},dependencies:[s.X1,s.BC,s.cb,s.j4,s.JD,s.YN,c.hU,c.ln,c.lO,O]}),n})();function Kt(r,n){if(1&r&&(o.j41(0,"div"),o.nrm(1,"app-obj-table",2),o.k0s()),2&r){const a=o.XpG();o.R7$(),o.Y8G("objetos",a.objetos)("flag",!1)}}let Mo=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-objetos"]],inputs:{objetos:"objetos"},standalone:!0,features:[o.aNF],decls:4,vars:1,consts:[[1,"mt-6"],[1,"text-xl","font-semibold","text-gray-900"],[3,"objetos","flag"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"Objetos retenidos"),o.k0s()(),o.DNE(3,Kt,2,2,"div")),2&e&&(o.R7$(3),o.vxM(3,t.objetos?3:-1))},dependencies:[s.YN,s.X1,K]}),n})(),Bo=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-toolbar"]],inputs:{id:"id",ticket:"ticket",estado:"estado"},standalone:!0,features:[o.aNF],decls:16,vars:2,consts:[[1,"flex","justify-between","items-center","py-2","ion-padding"],[1,"flex","items-center"],["defaultHref","/formularios/objetosRetenidos/bandeja-entrada-retenidos",2,"--color","var(--color-pantone-312c)"],[1,"text-right"],[1,"p-1","text-left"],[1,"text-gray-900","font-sans","font-bold","text-xl"],[1,"text-xl","text-gray-700","font-medium"]],template:function(e,t){1&e&&(o.j41(0,"ion-card")(1,"div",0)(2,"div",1)(3,"ion-buttons"),o.nrm(4,"ion-back-button",2),o.k0s()(),o.j41(5,"div",3)(6,"div",4)(7,"h1",5),o.EFF(8," Folio : "),o.j41(9,"span",6),o.EFF(10),o.k0s()()(),o.j41(11,"div",4)(12,"h1",5),o.EFF(13," Ticket : "),o.j41(14,"span",6),o.EFF(15),o.k0s()()()()()()),2&e&&(o.R7$(10),o.SpI("#",t.id,""),o.R7$(5),o.JRh(t.ticket))},dependencies:[c.b_,c.QW,c.el]}),n})(),Yo=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-firma-reg-retencion"]],inputs:{formulario:"formulario",paxFirma:"paxFirma",firmaAvsecIngresa:"firmaAvsecIngresa"},standalone:!0,features:[o.aNF],decls:26,vars:7,consts:[[1,"mt-6"],[1,"text-xl","font-semibold","text-gray-900"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-8","mt-4"],["formControlName","fechaReg","label","Fecha","placeholder","Fecha",3,"formulario"],["formControlName","horaReg","label","Hora","placeholder","Hora",3,"formulario"],[1,"grid","grid-cols-2","-mt-8"],[1,"grid","grid-cols-1"],[1,"flex","justify-center","items-center"],["alt","",1,"h-32","w-32",3,"src"],[1,"flex","justify-center","items-center","relative","-top-3"],[1,"mt-1","text-sm","text-gray-700"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"Paso 1: Datos de retenci\xf3n de objetos"),o.k0s()(),o.j41(3,"div",2)(4,"div",3),o.nrm(5,"app-form-input",4)(6,"app-form-input",5),o.k0s(),o.j41(7,"div",6)(8,"div")(9,"ion-card")(10,"div",7)(11,"div")(12,"div",8),o.nrm(13,"img",9),o.k0s(),o.j41(14,"div",10)(15,"p",11),o.EFF(16),o.k0s()()()()()(),o.j41(17,"div")(18,"ion-card")(19,"div",7)(20,"div")(21,"div",8),o.nrm(22,"img",9),o.k0s(),o.j41(23,"div",10)(24,"p",11),o.EFF(25),o.k0s()()()()()()()()),2&e&&(o.R7$(3),o.Y8G("formGroup",t.formulario),o.R7$(2),o.Y8G("formulario",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(7),o.Y8G("src",t.paxFirma,o.B4B),o.R7$(3),o.SpI("Firma pasajero/a ",t.formulario.value.pax,""),o.R7$(6),o.Y8G("src",t.firmaAvsecIngresa,o.B4B),o.R7$(3),o.SpI("Firma AVSEC ",t.formulario.value.funcionario,""))},dependencies:[c.b_,s.X1,s.BC,s.cb,s.j4,s.JD,s.YN,O]}),n})();const or=["content"],er=["modal"],tr=["modalRetira"];function rr(r,n){1&r&&o.nrm(0,"app-stamp")}function ar(r,n){if(1&r&&(o.j41(0,"ion-content",2,0)(2,"div",3)(3,"form",4),o.nrm(4,"app-toolbar",5),o.j41(5,"ion-card",6),o.nrm(6,"app-datos-vuelo",7)(7,"app-divider")(8,"app-datos-pax",8)(9,"app-divider")(10,"app-datos-objetos",9),o.j41(11,"form",4)(12,"div",10)(13,"div",11),o.nrm(14,"input",12),o.j41(15,"label",13),o.EFF(16,"\xbfLos objetos retenidos requieren Escolta? "),o.k0s()()()(),o.nrm(17,"app-divider")(18,"app-datos-firma-reg-retencion",14),o.DNE(19,rr,1,0,"app-stamp"),o.k0s()()()()),2&r){const a=o.XpG();o.R7$(3),o.Y8G("formGroup",a.formulario),o.R7$(),o.Y8G("ticket",a.ticket)("id",a.id),o.R7$(2),o.Y8G("formulario",a.formulario)("estado",a.formulario.value.estado),o.R7$(2),o.Y8G("formulario",a.formulario),o.R7$(2),o.Y8G("objetos",a.objetos),o.R7$(),o.Y8G("formGroup",a.formulario),o.R7$(7),o.Y8G("formulario",a.formulario)("firmaAvsecIngresa",a.firmaAvsecIngresa)("paxFirma",a.paxFirma),o.R7$(),o.vxM(19,a.firmaUserCompany&&a.firmaAvsecRetira?19:-1)}}function ir(r,n){1&r&&(o.j41(0,"ion-content",2)(1,"h1"),o.EFF(2,"Cargando data... \u231b"),o.k0s()())}let nr=(()=>{var r;class n{constructor(e,t,i,l){this.router=e,this.fb=t,this.rutaActiva=i,this.objService=l,this.datePipe=new C.vh("en-US"),this.title="Formulario de Objeto Retenido (Lectura)",this.form="obj",this.path="/bandeja-entrada-retenidos",this.formulario=this.fb.group({horaReg:[""],fechaReg:[""],asientoPax:[""],origen:[""],destino:[""],companiaNombre:[""],puenteEmbarque:[""],particular:[""],paxNombre:[""],ticket:[""],userAvsec:[""],paxNumeroTelefono:[""],paxRut:[""],paxPasaporte:[""],requiereEscolta:[{value:"",disabled:!0}],paxEmail:[""],escalaVuelo:[""],escalaCompania:[""],escalaOrigen:[""],escalaDestino:[""],escalaFecha:[""],userAvsecIngresa:[null],userAvsecIngresaFirma:[""],unidadAeroportuaria:[""],fechaVuelo:[""],companiaVuelo:[""],traslado:[null],observacion:[""],habilitado:[""],objetosRetenidos:[""],vuelo:[""],paxFirma:[""],usroCompTica:["",s.k0.required],usroCompFirma:[""],usroCompNombre:[""],usroCompEvidencia:[""],avsecTica:["",s.k0.required],avsecNombre:[""],avsecFirma:[""],avsecEvidencia:[""],fechaRetiro:[""],horaRetiro:[""],estado:[""]})}ngOnInit(){var e=this;return(0,_.A)(function*(){e.startAllIcons(),e.objs$=e.rutaActiva.data.pipe((0,Q.T)(t=>t.obj)),e.objs$.subscribe(t=>{var i,l,d,m,p,f,v,h;console.log("data resolver",t),e.formulario.controls.companiaNombre.setValue(null==t?void 0:t.companiaVuelo.companiaAereaData.nombre),e.formulario.controls.origen.setValue(t.origen),e.formulario.controls.vuelo.setValue(t.companiaVuelo.numeroVuelo),e.formulario.controls.companiaVuelo.setValue(t.companiaVuelo),e.formulario.controls.destino.setValue(t.destino),e.formulario.controls.puenteEmbarque.setValue(t.puenteEmbarque.nombre),e.formulario.controls.asientoPax.setValue(t.asientoPax),e.formulario.controls.particular.setValue(t.particular),e.formulario.controls.paxNombre.setValue(t.paxNombre),e.formulario.controls.ticket.setValue(t.ticket),e.formulario.controls.userAvsec.setValue(t.userAvsec);const y=t.fechaHoraVuelo.split("T")[0];e.formulario.controls.fechaVuelo.setValue(y),e.formulario.controls.requiereEscolta.setValue(t.requiereEscolta),e.formulario.controls.paxNumeroTelefono.setValue(t.paxNumeroTelefono),e.formulario.controls.objetosRetenidos.setValue(t.objetosRetenidos),e.formulario.controls.paxRut.setValue(t.paxRut),e.formulario.controls.paxPasaporte.setValue(t.paxPasaporte),e.formulario.controls.horaReg.setValue(null==t||null===(i=t.fechaHoraRegistro)||void 0===i?void 0:i.split("T")[1].split(".")[0]),e.formulario.controls.fechaReg.setValue(null==t||null===(l=t.fechaHoraRegistro)||void 0===l?void 0:l.split("T")[0]),e.formulario.controls.estado.setValue(t.estado),e.formulario.controls.paxEmail.setValue(t.paxEmail),e.formulario.controls.paxFirma.setValue(t.paxFirma),e.formulario.controls.userAvsecIngresaFirma.setValue(t.userAvsecIngresaFirma),e.formulario.controls.escalaVuelo.setValue(t.escalaVuelo),e.formulario.controls.escalaCompania.setValue(t.escalaCompania),e.formulario.controls.escalaOrigen.setValue(t.escalaOrigen),e.formulario.controls.escalaDestino.setValue(t.escalaDestino),e.formulario.controls.escalaFecha.setValue(t.escalaFecha),e.objetos=t.objetosRetenidos,e.paxFirma=t.paxFirma,e.firmaAvsecIngresa=t.userAvsecIngresaFirma,e.ticket=t.ticket,e.id=t.id,e.formulario.controls.usroCompTica.setValue(null===(d=t.traslado)||void 0===d?void 0:d.usroCompTica),e.formulario.controls.usroCompFirma.setValue(null===(m=t.traslado)||void 0===m?void 0:m.usroCompEvidencia),e.firmaUserCompany=null===(p=t.traslado)||void 0===p?void 0:p.usroCompEvidencia,console.log("firma user company",e.firmaUserCompany),e.formulario.controls.avsecTica.setValue(null===(f=t.traslado)||void 0===f?void 0:f.avsecTica),e.formulario.controls.avsecFirma.setValue(null===(v=t.traslado)||void 0===v?void 0:v.avsecEvidencia),e.firmaAvsecRetira=null===(h=t.traslado)||void 0===h?void 0:h.avsecEvidencia,console.log("firma avsec retira",e.firmaAvsecRetira)})})()}startAllIcons(){(0,F.a)({camera:u.UIk,create:u.vtF,qrCode:u.JBo,chevronForwardOutline:u.N05,download:u.RGh,filterOutline:u.PyO})}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(x.Ix),o.rXU(s.ok),o.rXU(x.nX),o.rXU(P.K))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-form-retiro-retenidos"]],viewQuery:function(e,t){if(1&e&&(o.GBs(or,5),o.GBs(er,5),o.GBs(tr,5)),2&e){let i;o.mGM(i=o.lsd())&&(t.content=i.first),o.mGM(i=o.lsd())&&(t.modal=i.first),o.mGM(i=o.lsd())&&(t.modalRetira=i.first)}},standalone:!0,features:[o.aNF],decls:3,vars:2,consts:[["content",""],[3,"title"],[1,"background"],[1,"container","mx-auto","ion-padding-start","ion-padding-end","ion-padding-bottom","rounded-lg"],[3,"formGroup"],[3,"ticket","id"],[1,"ion-padding"],[3,"formulario","estado"],[3,"formulario"],[3,"objetos"],[1,"flex","text-center","items-center"],[1,"ml-4"],["readonly","","type","checkbox","formControlName","requiereEscolta"],["for","otroObjetoCheckbox",1,"ml-2","text-lg","font-medium","text-gray-700"],[3,"formulario","firmaAvsecIngresa","paxFirma"]],template:function(e,t){1&e&&(o.nrm(0,"app-navbar",1),o.DNE(1,ar,20,12,"ion-content",2)(2,ir,3,0)),2&e&&(o.Y8G("title",t.title),o.R7$(),o.vxM(1,t.objs$?1:2))},dependencies:[oo.r,c.W9,C.MD,s.YN,s.qT,s.Zm,s.BC,s.cb,A.a,c.b_,s.X1,s.j4,s.JD,D.h,Go,$o,Mo,Bo,Yo],styles:["ion-content.background[_ngcontent-%COMP%]{--background: #f1f5f9}"]}),n})();function sr(r,n){if(1&r&&o.nrm(0,"app-form-input",7),2&r){const a=o.XpG();o.Y8G("formulario",a.formulario)}}function lr(r,n){if(1&r&&o.nrm(0,"app-form-input",15),2&r){const a=o.XpG();o.Y8G("formulario",a.formulario)}}function cr(r,n){if(1&r&&o.nrm(0,"app-form-input",8),2&r){const a=o.XpG();o.Y8G("formulario",a.formulario)}}function dr(r,n){if(1&r&&o.nrm(0,"app-form-input",16),2&r){const a=o.XpG();o.Y8G("formulario",a.formulario)}}function ur(r,n){if(1&r&&o.nrm(0,"app-form-input",17),2&r){const a=o.XpG(2);o.Y8G("formulario",a.formulario)}}function mr(r,n){if(1&r&&o.nrm(0,"app-form-input",18),2&r){const a=o.XpG(2);o.Y8G("formulario",a.formulario)}}function pr(r,n){if(1&r&&(o.j41(0,"div",6),o.DNE(1,ur,1,1,"app-form-input",17)(2,mr,1,1,"app-form-input",18),o.k0s()),2&r){const a=o.XpG();o.R7$(),o.vxM(1,a.formulario.controls.nombreUsrCompanyProv.value?1:-1),o.R7$(),o.vxM(2,a.formulario.controls.nombreAvsRetProv.value?2:-1)}}let fr=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-firma-ret-retencion"]],inputs:{firmaUserCompany:"firmaUserCompany",firmaAvsecRetira:"firmaAvsecRetira",formulario:"formulario"},standalone:!0,features:[o.aNF],decls:32,vars:10,consts:[[1,"mt-6"],[1,"text-xl","font-semibold","text-gray-900"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-8","mt-2"],["formControlName","fechaRetiro","label","Fecha","placeholder","Fecha",3,"formulario"],["formControlName","horaRetiro","label","Hora","placeholder","Hora",3,"formulario"],[1,"grid","grid-cols-2","gap-4"],["formControlName","ticaUserCompany","label","TICA usuario de compa\xf1\xeda (Provisoria)","placeholder","TICA usuario de compa\xf1ia",3,"formulario"],["formControlName","ticaAvsecRetira","label","TICA AVSEC que retira (Provisoria)","placeholder","TICA AVSEC que retira",3,"formulario"],[1,"grid","grid-cols-2","-mt-8"],[1,"grid","grid-cols-1","gap-4"],[1,"flex","justify-center","items-center"],["alt","",1,"h-32","w-32",3,"src"],[1,"flex","justify-center","items-center","relative","-top-3"],[1,"mt-1","text-sm","text-gray-700"],["formControlName","ticaUserCompany","label","TICA usuario de compa\xf1\xeda","placeholder","TICA usuario de compa\xf1ia",3,"formulario"],["formControlName","ticaAvsecRetira","label","TICA AVSEC que retira","placeholder","TICA AVSEC que retira",3,"formulario"],["formControlName","nombreUsrCompanyProv","label","Nombre del funcionario","placeholder","Nombre del funcionario",3,"formulario"],["formControlName","nombreAvsRetProv","label","Nombre del funcionario","placeholder","Nombre del funcionario",3,"formulario"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"Paso 2: Datos de entrega de objetos "),o.k0s()(),o.j41(3,"div",2)(4,"div",3),o.nrm(5,"app-form-input",4)(6,"app-form-input",5),o.k0s(),o.j41(7,"div",6),o.DNE(8,sr,1,1,"app-form-input",7)(9,lr,1,1)(10,cr,1,1,"app-form-input",8)(11,dr,1,1),o.k0s(),o.DNE(12,pr,3,2,"div",6),o.j41(13,"div",9)(14,"div")(15,"ion-card")(16,"div",10)(17,"div")(18,"div",11),o.nrm(19,"img",12),o.k0s(),o.j41(20,"div",13)(21,"p",14),o.EFF(22),o.k0s()()()()()(),o.j41(23,"div")(24,"ion-card")(25,"div",10)(26,"div")(27,"div",11),o.nrm(28,"img",12),o.k0s(),o.j41(29,"div",13)(30,"p",14),o.EFF(31),o.k0s()()()()()()()()),2&e&&(o.R7$(3),o.Y8G("formGroup",t.formulario),o.R7$(2),o.Y8G("formulario",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(2),o.vxM(8,t.formulario.controls.nombreUsrCompanyProv.value?8:9),o.R7$(2),o.vxM(10,t.formulario.controls.nombreAvsRetProv.value?10:11),o.R7$(2),o.vxM(12,t.formulario.controls.nombreUsrCompanyProv.value||t.formulario.controls.nombreAvsRetProv.value?12:-1),o.R7$(7),o.Y8G("src",t.firmaUserCompany,o.B4B),o.R7$(3),o.SpI("Firma usuario de compa\xf1\xeda ",t.formulario.value.ticaUserCompany,""),o.R7$(6),o.Y8G("src",t.firmaAvsecRetira,o.B4B),o.R7$(3),o.SpI("Firma AVSEC ",t.formulario.value.ticaAvsecRetira,""))},dependencies:[s.X1,s.BC,s.cb,s.j4,s.JD,s.YN,c.b_,O]}),n})();var gr=b(617);const br=(r,n)=>n.id;function hr(r,n){if(1&r){const a=o.RV6();o.j41(0,"button",4),o.bIt("click",function(){o.eBV(a);const t=o.XpG().$implicit,i=o.XpG(2);return o.Njj(i.deleteSlide(t.id))}),o.nrm(1,"ion-icon",5),o.k0s()}}function vr(r,n){if(1&r&&(o.j41(0,"swiper-slide",1),o.nrm(1,"img",2),o.DNE(2,hr,2,0,"button",3),o.k0s()),2&r){const a=n.$implicit,e=o.XpG(2);o.R7$(),o.Y8G("src",a.dataUrl,o.B4B),o.R7$(),o.vxM(2,e.onlyView?-1:2)}}function _r(r,n){if(1&r&&(o.j41(0,"div")(1,"swiper-container",0),o.Z7z(2,vr,3,2,"swiper-slide",1,br),o.k0s()()),2&r){const a=o.XpG();o.R7$(),o.Y8G("modules",a.swiperModules)("centeredSlides",!0)("slidesPerView",1.2)("spaceBetween",20),o.R7$(),o.Dyx(a.slides)}}let eo=(()=>{var r;class n{constructor(){this.onlyView=!1,this.slides=[],this.deleteSlideEvent=new o.bkB,this.swiperModules={IonicSlides:gr.Jl}}ngOnInit(){}deleteSlide(e){this.deleteSlideEvent.emit(e)}startAllIcons(){(0,F.a)({trashOutline:u.P1A})}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-swiper"]],inputs:{onlyView:"onlyView",slides:"slides"},outputs:{deleteSlideEvent:"deleteSlideEvent"},standalone:!0,features:[o.aNF],decls:1,vars:1,consts:[[3,"modules","centeredSlides","slidesPerView","spaceBetween"],[1,"swiper-slide-container"],["alt","",3,"src"],[1,"delete-button"],[1,"delete-button",3,"click"],["name","trash-outline",1,"h-8","w-8"]],template:function(e,t){1&e&&o.DNE(0,_r,4,4,"div"),2&e&&o.vxM(0,t.slides.length>0?0:-1)},dependencies:[C.MD],styles:["div[_ngcontent-%COMP%]{margin-top:10px;height:32vh}div[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]{height:28vh}div[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:28vh;border-radius:3px;box-shadow:-1px 11px 13px -7px #000000bf}.swiper-slide-container[_ngcontent-%COMP%]{position:relative}.delete-button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;border:none;color:#fff;border-radius:50%;padding:10px;cursor:pointer}.delete-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}"]}),n})(),Cr=(()=>{var r;class n{constructor(){this.slides=[]}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-entrega-evidencia"]],inputs:{formulario:"formulario",slides:"slides"},standalone:!0,features:[o.aNF],decls:12,vars:23,consts:[[1,"text-left","mt-6"],[1,"text-xl","font-semibold","text-gray-900","text-nowrap"],[3,"formGroup"],[1,"grid","grid-cols-3","mt-4","gap-4"],[3,"formulario","formControlName","label","placeholder"],[1,"grid","grid-cols-2","gap-4"],[3,"slides","onlyView"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"Paso 3: Datos de entrega de objetos en nave "),o.k0s()(),o.j41(3,"div",2)(4,"div",3),o.nrm(5,"app-form-input",4)(6,"app-form-input",4)(7,"app-form-input",4),o.k0s(),o.j41(8,"div",5),o.nrm(9,"app-form-input",4)(10,"app-form-input",4),o.k0s(),o.nrm(11,"app-swiper",6),o.k0s()),2&e&&(o.R7$(3),o.Y8G("formGroup",t.formulario),o.R7$(2),o.Y8G("formulario",t.formulario)("formControlName","ticaCot")("label","Nro\xb0 TICA COT")("placeholder","Nro* TICA COT"),o.R7$(),o.Y8G("formulario",t.formulario)("formControlName","ticaGuardia")("label","Nro\xb0 TICA Guardia")("placeholder","Nro* TICA Guardia"),o.R7$(),o.Y8G("formulario",t.formulario)("formControlName","ticaZZ")("label","Nro\xb0 TICA ZZ")("placeholder","Nro* TICA ZZ"),o.R7$(2),o.Y8G("formulario",t.formulario)("formControlName","fechaEntrega")("label","Hora de entrega")("placeholder","Fecha de entrega"),o.R7$(),o.Y8G("formulario",t.formulario)("formControlName","horaEntrega")("label","Hora de entrega")("placeholder","Hora de entrega"),o.R7$(),o.Y8G("slides",t.slides)("onlyView",!0))},dependencies:[s.YN,s.BC,s.cb,s.X1,s.j4,s.JD,eo,O]}),n})();function Tr(r,n){if(1&r&&(o.j41(0,"ion-content",2,0)(2,"div",3),o.nrm(3,"app-toolbar",4),o.j41(4,"ion-card",5)(5,"form",6),o.nrm(6,"app-datos-vuelo",7)(7,"app-divider")(8,"app-datos-pax",7)(9,"app-divider")(10,"app-datos-objetos",8)(11,"app-divider")(12,"app-datos-firma-reg-retencion",9)(13,"app-divider")(14,"app-datos-firma-ret-retencion",10)(15,"app-divider")(16,"app-datos-entrega-evidencia",11),o.k0s()()()()),2&r){const a=o.XpG();o.R7$(3),o.Y8G("id",a.id)("ticket",a.ticket),o.R7$(2),o.Y8G("formGroup",a.formulario),o.R7$(),o.Y8G("formulario",a.formulario),o.R7$(2),o.Y8G("formulario",a.formulario),o.R7$(2),o.Y8G("objetos",a.objetos),o.R7$(2),o.Y8G("formulario",a.formulario)("paxFirma",a.paxFirma)("firmaAvsecIngresa",a.firmaAvsecIngresa),o.R7$(2),o.Y8G("formulario",a.formulario)("firmaUserCompany",a.firmaUserCompany)("firmaAvsecRetira",a.firmaAvsecRetira),o.R7$(2),o.Y8G("formulario",a.formulario)("slides",a.evidencia)}}function kr(r,n){1&r&&(o.j41(0,"ion-content",2)(1,"h1"),o.EFF(2,"Cargando data... \u231b"),o.k0s()())}let Fr=(()=>{var r;class n{constructor(e,t,i){this.fb=e,this.rutaActiva=t,this.objService=i,this.datePipe=new C.vh("en-US"),this.title="Detalle de Objeto Retenido",this.form="obj",this.path="/bandeja-entrada-retenidos",this.formulario=this.fb.group({compania:["",s.k0.required],fechaVuelo:["",s.k0.required],origen:["",s.k0.required],horaReg:["",s.k0.required],vuelo:["",s.k0.required],destino:["",s.k0.required],puenteEmb:["",s.k0.required],asiento:["",[s.k0.required]],particular:["",s.k0.required],objetos:["",s.k0.required],pax:["",s.k0.required],ticket:["",s.k0.required],funcionario:["",s.k0.required],numTel:["",s.k0.required],paxFirma:["",s.k0.required],fechaReg:[""],estado:[""],rut:[""],firmaAvsecIngresa:[""],pasaporte:[""],emailPax:[""],escalaVuelo:[""],escalaCompania:[""],escalaOrigen:[""],escalaDestino:[""],escalaFecha:[""],firmaUserCompany:["",s.k0.required],firmaAvsecRetira:["",s.k0.required],ticaAvsecRetira:["",s.k0.required],ticaUserCompany:["",s.k0.required],nombreAvsRetProv:[""],nombreUsrCompanyProv:[""],fechaRetiro:[""],horaRetiro:[""],ticaCot:["",s.k0.required],ticaZZ:["",s.k0.required],ticaGuardia:["",s.k0.required],evidencia:[""],fechaEntrega:[""],horaEntrega:[""]})}ngOnInit(){this.startAllIcons(),this.objs$=this.rutaActiva.data.pipe((0,Q.T)(e=>e.obj)),this.objs$.subscribe(e=>{console.log(e),this.formulario.controls.compania.setValue(e.compania),this.formulario.controls.origen.setValue(e.origen),this.formulario.controls.vuelo.setValue(e.vuelo),this.formulario.controls.destino.setValue(e.destino),this.formulario.controls.puenteEmb.setValue(e.puenteEmb),this.formulario.controls.asiento.setValue(e.asiento),this.formulario.controls.particular.setValue(e.particular),this.formulario.controls.pax.setValue(e.pax),this.formulario.controls.ticket.setValue(e.ticket),this.formulario.controls.funcionario.setValue(e.funcionario),this.formulario.controls.fechaVuelo.setValue(e.fechaVuelo),this.formulario.controls.numTel.setValue(e.numTel),this.formulario.controls.objetos.setValue(e.objetos),this.formulario.controls.rut.setValue(e.rut),this.formulario.controls.pasaporte.setValue(e.pasaporte),this.formulario.controls.horaReg.setValue(e.horaReg),this.formulario.controls.fechaReg.setValue(e.fechaReg),this.formulario.controls.estado.setValue(e.estado),this.formulario.controls.emailPax.setValue(e.emailPax),this.formulario.controls.paxFirma.setValue(e.paxFirma),this.formulario.controls.firmaAvsecIngresa.setValue(e.firmaAvsecIngresa),this.formulario.controls.escalaVuelo.setValue(e.escalaVuelo),this.formulario.controls.escalaCompania.setValue(e.escalaCompania),this.formulario.controls.escalaOrigen.setValue(e.escalaOrigen),this.formulario.controls.escalaDestino.setValue(e.escalaDestino),this.formulario.controls.escalaFecha.setValue(e.escalaFecha),this.objetos=e.objetos,this.fechaReg=e.fechaReg,this.paxFirma=e.paxFirma,this.firmaAvsecIngresa=e.firmaAvsecIngresa,this.firmaAvsecRetira=e.firmaAvsecRetira,this.firmaUserCompany=e.firmaUserCompany,this.id=e.id,this.ticket=e.ticket,this.formulario.controls.ticaAvsecRetira.setValue(e.ticaAvsecRetira),this.formulario.controls.ticaUserCompany.setValue(e.ticaUserCompany),this.formulario.controls.firmaUserCompany.setValue(e.firmaUserCompany),this.formulario.controls.firmaAvsecRetira.setValue(e.firmaAvsecRetira),this.formulario.controls.fechaRetiro.setValue(e.fechaRetiro),this.formulario.controls.horaRetiro.setValue(e.horaRetiro),this.formulario.controls.nombreAvsRetProv.setValue(e.nombreAvsRetProv),this.formulario.controls.nombreUsrCompanyProv.setValue(e.nombreUsrCompanyProv),this.formulario.controls.ticaCot.setValue(e.ticaCot),this.formulario.controls.ticaZZ.setValue(e.ticaZZ),this.formulario.controls.ticaGuardia.setValue(e.ticaGuardia),this.formulario.controls.evidencia.setValue(e.evidencia),this.formulario.controls.fechaEntrega.setValue(e.fechaEntrega),this.formulario.controls.horaEntrega.setValue(e.horaEntrega),this.evidencia=e.evidencia})}startAllIcons(){(0,F.a)({camera:u.UIk,create:u.vtF,qrCode:u.JBo,chevronForwardOutline:u.N05,download:u.RGh,filterOutline:u.PyO})}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(s.ok),o.rXU(x.nX),o.rXU(P.K))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-detalle-retenido"]],standalone:!0,features:[o.aNF],decls:3,vars:2,consts:[["content",""],[3,"title"],[1,"background"],[1,"container","mx-auto","ion-padding-start","ion-padding-end","ion-padding-bottom","rounded-lg"],[3,"id","ticket"],[1,"ion-padding"],[3,"formGroup"],[3,"formulario"],[3,"objetos"],[3,"formulario","paxFirma","firmaAvsecIngresa"],[3,"formulario","firmaUserCompany","firmaAvsecRetira"],[3,"formulario","slides"]],template:function(e,t){1&e&&(o.nrm(0,"app-navbar",1),o.DNE(1,Tr,17,14,"ion-content",2)(2,kr,3,0)),2&e&&(o.Y8G("title",t.title),o.R7$(),o.vxM(1,t.objs$?1:2))},dependencies:[c.W9,C.MD,s.YN,s.qT,s.cb,A.a,c.b_,s.X1,s.j4,Bo,Go,$o,Mo,Yo,D.h,fr,Cr],styles:["ion-content.background[_ngcontent-%COMP%]{--background: #f1f5f9}"]}),n})();const Uo=(r,n)=>{const a=Number(r.paramMap.get("id"));return(0,o.WQX)(P.K).getDataById(a)};var Er=b(5312);let Z=(()=>{var r;class n{constructor(e){this.http=e,this.url=Er.c.apiBack+"solicitud-siscred/"}getByNtica(e){return this.http.get(`${this.url}ntica/${e}`)}}return(r=n).\u0275fac=function(e){return new(e||r)(o.KVO(I.Qq))},r.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),n})(),G=(()=>{var r;class n{constructor(e){this.siscredService=e,this.personalSubject=new Ro.t([{tipoFuncionario:"Personal que retira ZZ"},{tipoFuncionario:"Personal que recibe ZZ"},{tipoFuncionario:"COT"},{tipoFuncionario:"Personal en bodega"}]),this.personal$=this.personalSubject.asObservable()}addPersonal(e){this.personalSubject.next([...this.personalSubject.value,e])}getPersonal(){return this.personal$}updatePersonal(e){const i=this.personalSubject.value.map(l=>l.tipoFuncionario===e.tipoFuncionario?{...l,...e}:l);this.personalSubject.next(i)}findPersonal(e){var t=this;return(0,_.A)(function*(){return t.personalSubject.value.find(l=>l.tipoFuncionario===e)})()}findPersonalBoolean(e){var t=this;return(0,_.A)(function*(){return t.personalSubject.value.some(l=>l.tipoFuncionario===e)})()}getFotoTicaByTipo(e){var t;const l=this.personalSubject.value.find(d=>d.tipoFuncionario===e);return null!==(t=null==l?void 0:l.fotoTica)&&void 0!==t?t:null}resetPersonal(){this.personalSubject.next([{tipoFuncionario:"ZZ"},{tipoFuncionario:"COT"},{tipoFuncionario:"GUARDIA"}])}resetPersonalByTipo(e){const i=this.personalSubject.value.map(l=>l.tipoFuncionario===e?{tipoFuncionario:l.tipoFuncionario}:l);this.personalSubject.next(i)}}return(r=n).\u0275fac=function(e){return new(e||r)(o.KVO(Z))},r.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();function xr(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Ticket "),o.k0s())}function jr(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Objetos "),o.k0s())}function yr(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Pasajero "),o.k0s())}function Rr(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Formulario "),o.k0s())}function wr(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",11)(1,"button",12),o.bIt("click",function(){const t=o.eBV(a).row,i=o.XpG();return o.Njj(i.goToFormulario(t.id))}),o.j41(2,"div",11),o.qSk(),o.j41(3,"svg",13),o.nrm(4,"path",14),o.k0s()()()()}}let qo=(()=>{var r;class n{constructor(e,t){this.router=e,this.personalService=t,this.totalRowsEmitter=new o.bkB,this.emitirSeleccionados=new o.bkB,this.ColumnMode=g.oZ,this.rows=[],this.temp=[],this.filteredRows=[],this.selected=[],this.selectionType=g.hO.checkbox,this.columns=[{prop:"ticket",name:"Ticket"},{prop:"objetos",name:"Objetos"},{prop:"pax",name:"pax"}]}ngOnInit(){this.startAllIcons(),console.log("dataFormsss",this.dataFormularios)}ngOnChanges(e){e.datosCargados&&e.datosCargados.currentValue&&(console.log("Datos cargados detectados en el hijo:",this.dataFormularios),this.dataForTable(this.dataFormularios))}dataForTable(e){console.log("new data",e),this.loadingIndicator=!0,this.rows=[...e],this.temp=[...e],this.filteredRows=[...e],this.loadingIndicator=!1,console.log("rows",this.rows)}onSelect({selected:e}){e.length>10?(k().fire({icon:"warning",title:"No puedes seleccionar m\xe1s de 10 tickets",text:"Los objetos no se agregar\xe1n a la lista",showConfirmButton:!1,timer:2e3,heightAuto:!1}),this.selected=e.slice(0,10),this.table.selected=this.selected):this.selected=[...e],this.totalRows=this.selected.length,this.totalRowsEmitter.emit(this.totalRows),this.emitirSeleccionados.emit(this.selected),console.log("selected",this.selected)}startAllIcons(){(0,F.a)({filterOutline:u.PyO,trashOutline:u.P1A})}goToFormulario(e){console.log("ID",e),this.router.navigate([`/formularios/objetosRetenidos/form-retiro-retenidos/${e}`])}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(x.Ix),o.rXU(G))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-tabla-ticket-por-personal-aerolinea"]],viewQuery:function(e,t){if(1&e&&o.GBs(g.ge,5),2&e){let i;o.mGM(i=o.lsd())&&(t.table=i.first)}},inputs:{dataFormularios:"dataFormularios",datosCargados:"datosCargados"},outputs:{totalRowsEmitter:"totalRowsEmitter",emitirSeleccionados:"emitirSeleccionados"},standalone:!0,features:[o.OA$,o.aNF],decls:16,vars:22,consts:[["table",""],["size","12"],[1,"bootstrap",3,"select","columnMode","headerHeight","footerHeight","rowHeight","loadingIndicator","scrollbarH","limit","rows","selected","selectionType"],["headerClass","text-center","cellClass","text-center",3,"width","sortable","draggable","resizeable","canAutoResize","headerCheckboxable","checkboxable"],["prop","ticket",3,"width"],["ngx-datatable-header-template",""],["prop","objetosRetenidos.length","cellClass","datatable-grid-cell",3,"width"],["prop","paxNombre","cellClass","datatable-grid-cell",3,"width"],["prop","formulario",3,"width","frozenRight"],["ngx-datatable-cell-template",""],[1,"tableHeader"],[1,"flex","justify-center","align-middle","items-center"],["type","button",1,"w-10","h-8","bg-pantone-130c","hover:bg-pantone-130hover","rounded-lg",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-800","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 12H4m12 0-4 4m4-4-4-4m3-4h2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-2"]],template:function(e,t){if(1&e){const i=o.RV6();o.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",1)(3,"ion-card")(4,"ngx-datatable",2,0),o.bIt("select",function(d){return o.eBV(i),o.Njj(t.onSelect(d))}),o.nrm(6,"ngx-datatable-column",3),o.j41(7,"ngx-datatable-column",4),o.DNE(8,xr,2,0,"ng-template",5),o.k0s(),o.j41(9,"ngx-datatable-column",6),o.DNE(10,jr,2,0,"ng-template",5),o.k0s(),o.j41(11,"ngx-datatable-column",7),o.DNE(12,yr,2,0,"ng-template",5),o.k0s(),o.j41(13,"ngx-datatable-column",8),o.DNE(14,Rr,2,0,"ng-template",5)(15,wr,5,0,"ng-template",9),o.k0s()()()()()()}2&e&&(o.R7$(4),o.Y8G("columnMode",t.ColumnMode.force)("headerHeight",50)("footerHeight",50)("rowHeight","auto")("loadingIndicator",t.loadingIndicator)("scrollbarH",!0)("limit",10)("rows",t.rows)("selected",t.selected)("selectionType",t.selectionType),o.R7$(2),o.Y8G("width",40)("sortable",!1)("draggable",!1)("resizeable",!1)("canAutoResize",!1)("headerCheckboxable",!0)("checkboxable",!0),o.R7$(),o.Y8G("width",1),o.R7$(2),o.Y8G("width",1),o.R7$(2),o.Y8G("width",1),o.R7$(2),o.Y8G("width",1)("frozenRight",!0))},dependencies:[c.b_,c.lO,c.ln,c.hU,g.Kj,g.ge,g.ed,g.V,g.QI]}),n})(),Pr=(()=>{var r;class n{constructor(e,t,i){this.fb=e,this.modalController=t,this.personalService=i,this.formulario=this.fb.group({tipoFuncionario:["",s.k0.required],nombre:["",s.k0.required],nroTica:["",s.k0.required],ticaProvisoria:[""]})}ngOnInit(){}onSubmit(){var e=this;return(0,_.A)(function*(){if(e.formulario.valid){const t=e.formulario.value;console.log("Formulario valido",t.tipoFuncionario),""==t.ticaProvisoria&&(t.ticaProvisoria=!1),yield e.personalService.findPersonalBoolean(t.tipoFuncionario).then(i=>{i?(console.log("existe el tipo de funcionario"),e.swalFuncionarioNoAgregado()):(console.log("no existe el tipo de funcionario"),e.personalService.addPersonal(t),e.swalFuncionarioAgregado())})}else console.log("Formulario invalido"),console.log(e.formulario.value)})()}swalFuncionarioAgregado(){k().fire({icon:"success",title:"Exito",text:"Funcionario agregado",heightAuto:!1}).then(()=>{this.modalController.dismiss()})}swalFuncionarioNoAgregado(){k().fire({icon:"error",title:"Error",text:"El funcionario ya existe",heightAuto:!1})}onDismiss(){this.modalController.dismiss()}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(s.ok),o.rXU(c.W3),o.rXU(G))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-modal-agregar-funcionario"]],standalone:!0,features:[o.aNF],decls:34,vars:2,consts:[[1,"bg-blue-900","text-white"],[1,"text-white"],["slot","end"],["color","light",3,"click"],[1,"ion-padding"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","tipoPersonal",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","tipoPersonal","formControlName","tipoFuncionario",1,"w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["value","COT"],["value","ZZ"],["value","Guardia"],["for","nombre",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","nombre","type","text","formControlName","nombre","placeholder","Nombre",1,"w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","nroTica",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","nroTica","type","number","formControlName","nroTica","placeholder","N\xfamero de TICA",1,"w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[1,"flex","items-center"],["id","ticaProvisoria","type","checkbox","formControlName","ticaProvisoria",1,"mr-2","text-blue-600","focus:ring-blue-500"],["for","ticaProvisoria",1,"text-sm","font-medium","text-gray-700"],[1,"text-right"],["type","submit","expand","block",1,"btn-submit",3,"disabled"]],template:function(e,t){1&e&&(o.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),o.EFF(3,"Agregar funcionario"),o.k0s(),o.j41(4,"ion-buttons",2)(5,"ion-button",3),o.bIt("click",function(){return t.onDismiss()}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content",4)(8,"form",5),o.bIt("ngSubmit",function(){return t.onSubmit()}),o.j41(9,"div")(10,"label",6),o.EFF(11,"Tipo de Personal"),o.k0s(),o.j41(12,"select",7)(13,"option",8),o.EFF(14,"COT"),o.k0s(),o.j41(15,"option",9),o.EFF(16,"ZZ"),o.k0s(),o.j41(17,"option",10),o.EFF(18,"Guardia"),o.k0s()()(),o.j41(19,"div")(20,"label",11),o.EFF(21,"Nombre"),o.k0s(),o.nrm(22,"input",12),o.k0s(),o.j41(23,"div")(24,"label",13),o.EFF(25,"N\xfamero de TICA"),o.k0s(),o.nrm(26,"input",14),o.k0s(),o.j41(27,"div",15),o.nrm(28,"input",16),o.j41(29,"label",17),o.EFF(30,"Tica Provisoria"),o.k0s()(),o.j41(31,"div",18)(32,"ion-button",19),o.EFF(33," Agregar "),o.k0s()()()()),2&e&&(o.R7$(8),o.Y8G("formGroup",t.formulario),o.R7$(24),o.Y8G("disabled",t.formulario.invalid))},dependencies:[c.QW,c.W9,c.eU,c.BC,c.ai,c.Jm,s.X1,s.qT,s.xH,s.y7,s.me,s.Q0,s.Zm,s.wz,s.BC,s.cb,s.j4,s.JD,s.YN],styles:["ion-modal{--height: 50%;--border-radius: 16px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}ion-modal::part(backdrop){background:#d1d5db;opacity:1}ion-modal ion-toolbar{--background: #003A7E;--color: white}ion-content.background{--background: #f1f5f9}ion-modal.custom-modal{--height: 30%}.btn-submit{--background: var(--color-pantone-312c)}\n"],encapsulation:2}),n})();function Dr(r,n){1&r&&(o.j41(0,"div",5),o.EFF(1," Este campo es obligatorio. "),o.k0s())}let Nr=(()=>{var r;class n{writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}constructor(){this.type="text",this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-input-field"]],inputs:{label:"label",formControlName:"formControlName",id:"id",type:"type",placeholder:"placeholder",formulario:"formulario"},standalone:!0,features:[o.Jv_([{provide:s.kq,useExisting:(0,o.Rfq)(()=>r),multi:!0}]),o.aNF],decls:6,vars:8,consts:[[1,"border-none","p-0",3,"formGroup"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-nowrap","text-gray-700",3,"for"],[1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500",3,"type","id","formControlName","placeholder"],["class","text-red-500 text-sm mt-1 text-nowrap",4,"ngIf"],[1,"text-red-500","text-sm","mt-1","text-nowrap"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1)(2,"label",2),o.EFF(3),o.k0s(),o.nrm(4,"input",3),o.DNE(5,Dr,2,0,"div",4),o.k0s()()),2&e&&(o.Y8G("formGroup",t.formulario),o.R7$(2),o.Y8G("for",t.id),o.R7$(),o.JRh(t.label),o.R7$(),o.Y8G("type",t.type)("id",t.id)("formControlName",t.formControlName)("placeholder",t.placeholder),o.R7$(),o.Y8G("ngIf",t.formulario.controls[t.formControlName].invalid&&t.formulario.controls[t.formControlName].touched))},dependencies:[s.X1,s.me,s.BC,s.cb,s.j4,s.JD,s.YN,C.bT]}),n})();function Vr(r,n){if(1&r&&(o.j41(0,"ion-card")(1,"div",7),o.nrm(2,"img",8),o.k0s(),o.j41(3,"div",9)(4,"p",10),o.EFF(5),o.k0s()()()),2&r){const a=o.XpG();o.R7$(2),o.Y8G("src",a.firma,o.B4B),o.R7$(3),o.Lme("",a.label," ",a.firmaLabel,"")}}function Ar(r,n){if(1&r&&(o.j41(0,"ion-card")(1,"div",7)(2,"div",11)(3,"p",12),o.EFF(4),o.k0s()()(),o.j41(5,"div",9)(6,"p",10),o.EFF(7),o.k0s()()()),2&r){const a=o.XpG();o.R7$(4),o.SpI("Firma pendiente: ",a.label,""),o.R7$(3),o.Lme("",a.label," ",a.firmaLabel,"")}}function Or(r,n){if(1&r){const a=o.RV6();o.j41(0,"ion-content",13)(1,"ion-toolbar")(2,"ion-title"),o.EFF(3),o.k0s(),o.j41(4,"ion-buttons",14)(5,"ion-button",15),o.bIt("click",function(){o.eBV(a),o.XpG();const t=o.sdS(9);return o.Njj(t.dismiss())}),o.EFF(6,"Cerrar"),o.k0s()()(),o.j41(7,"app-signature",16),o.bIt("childEmitter",function(t){o.eBV(a);const i=o.XpG();return o.Njj(i.saveSignature(t))}),o.k0s()()}if(2&r){const a=o.XpG();o.R7$(3),o.JRh(a.modalTitle)}}let Sr=(()=>{var r;class n{constructor(){this.buttonColor="var(--color-pantone-312c)",this.signatureEvent=new o.bkB}ngOnInit(){}saveSignature(e){this.signatureEvent.emit(e),this.modal.dismiss()}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-signature-section"]],viewQuery:function(e,t){if(1&e&&o.GBs(c.Sb,7),2&e){let i;o.mGM(i=o.lsd())&&(t.modal=i.first)}},inputs:{firma:"firma",label:"label",triggerId:"triggerId",modalTitle:"modalTitle",buttonColor:"buttonColor",firmaLabel:"firmaLabel"},outputs:{signatureEvent:"signatureEvent"},standalone:!0,features:[o.aNF],decls:11,vars:6,consts:[["modal",""],[1,"-mt-6"],[1,"signature-container"],[1,"relative","mt-4"],["expand","block",3,"id"],["name","create",1,"pl-2"],[3,"trigger"],[1,"flex","justify-center","items-center"],["alt","Firma",1,"signature-image",3,"src"],[1,"flex","justify-center","items-center","relative","-top-6"],[1,"mt-1","text-sm","text-gray-700"],[1,"flex","justify-center","items-center","rounded-lg","h-32","w-full"],[1,"text-gray-500"],["scrollY","false"],["slot","end"],["color","light",3,"click"],[3,"childEmitter"]],template:function(e,t){1&e&&(o.j41(0,"div",1)(1,"div",2),o.DNE(2,Vr,6,3,"ion-card")(3,Ar,8,3),o.k0s(),o.j41(4,"div",3)(5,"ion-button",4),o.EFF(6),o.nrm(7,"ion-icon",5),o.k0s()(),o.j41(8,"ion-modal",6,0),o.DNE(10,Or,8,1,"ng-template"),o.k0s()()),2&e&&(o.R7$(2),o.vxM(2,t.firma?2:3),o.R7$(3),o.xc7("--background",t.buttonColor),o.Y8G("id",t.triggerId),o.R7$(),o.SpI(" ",t.firma?"Editar "+t.label:"Agregar "+t.label," "),o.R7$(2),o.Y8G("trigger",t.triggerId))},dependencies:[c.b_,c.BC,c.QW,c.W9,c.ai,c.Sb,c.iq,c.Jm,jo.u],styles:["ion-modal[_ngcontent-%COMP%]{--height: 45%;--border-radius: 16px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}ion-modal[_ngcontent-%COMP%]::part(backdrop){background:#d1d5db;opacity:1}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #003A7E;--color: white}ion-content.background[_ngcontent-%COMP%]{--background: #f1f5f9}ion-modal.custom-modal[_ngcontent-%COMP%]{--height: 35%}"]}),n})();var z=b(8141);const Ir=["modal"],Gr=(r,n)=>({"mt-2":r,"mt-4":n}),$r=(r,n)=>({"bg-pantone-cool-gray":r,"bg-pantone-286c":n});function Mr(r,n){1&r&&o.nrm(0,"ion-spinner")}function Br(r,n){1&r&&o.nrm(0,"ion-spinner")}function Yr(r,n){if(1&r&&(o.j41(0,"div",16)(1,"button",17),o.EFF(2," Enviar "),o.k0s()()),2&r){const a=o.XpG();o.R7$(),o.Y8G("disabled",!a.formulario.valid)("ngClass",o.l_i(2,$r,!a.formulario.valid,a.formulario.valid))}}let Ur=(()=>{var r;class n{constructor(e){this.siscredService=e,this.ticaUserProv=!1,this.spinnerUsroComp=!1,this.spinnerAvsec=!1,this.avsecProvisoria=!1,this.ticaAvsecProv=!1}ngOnInit(){this.checkTicaUser({target:{checked:!1}}),this.checkTicaAvsec({target:{checked:!1}})}recibirFirmaUserCompany(e){this.usuarioCompaniaFirma=e,this.formulario.controls.usroCompEvidencia.setValue("firmax")}recibirFirmaAvsecEntrega(e){this.avsecFirma=e,this.formulario.controls.avsecEvidencia.setValue("firmax2")}suscribirseUsroCompTicaControl(){var e;this.usroCompTicaSubscription||(console.log("Suscribirse a usroCompTica"),this.usroCompTicaSubscription=null===(e=this.formulario.get("usroCompTica"))||void 0===e?void 0:e.valueChanges.pipe((0,z.M)(()=>this.spinnerUsroComp=!0),$(2e3),(0,M.F)()).subscribe(t=>{this.spinnerUsroComp=!0,console.log("Ntica",t),null!=t&&0!==t&&(this.getUsuarioByNtica(t),this.spinnerUsroComp=!1)}))}suscribirseAvsecTicaControl(){var e;this.avsecTicaSubscription||(console.log("Suscribirse a avsecTica"),this.avsecTicaSubscription=null===(e=this.formulario.get("avsecTica"))||void 0===e?void 0:e.valueChanges.pipe((0,z.M)(()=>this.spinnerAvsec=!0),$(2e3),(0,M.F)()).subscribe(t=>{console.log("Ntica",t),null!=t&&0!==t&&this.getAvsecByNtica(t)}))}desuscribirseAvsecControl(){this.avsecTicaSubscription&&(this.avsecTicaSubscription.unsubscribe(),this.avsecTicaSubscription=void 0,console.log("Desuscrito de avsecTica"))}desuscribirseUsroCompTicaControl(){this.usroCompTicaSubscription&&(this.usroCompTicaSubscription.unsubscribe(),this.usroCompTicaSubscription=void 0,console.log("Desuscrito de usroCompTica"))}getUsuarioByNtica(e){this.siscredService.getByNtica(e).subscribe({next:t=>{if(console.log("UsuarioSiscred",t),0!==t.length){{var i;const l=(null===(i=t[0])||void 0===i?void 0:i.usuario.nombre)+" "+t[0].usuario.apellidoPaterno+" "+t[0].usuario.apellidoMaterno;this.formulario.controls.usroCompNombre.setValue(l.toUpperCase())}this.spinnerUsroComp=!1}else k().fire({icon:"error",title:"Error",text:"No se encontr\xf3 el usuario con el n\xfamero de tica ingresado",heightAuto:!1})},error:t=>{console.log("Error",t),k().fire({icon:"error",title:"Error",text:"No se encontr\xf3 el usuario con el n\xfamero de tica ingresado",heightAuto:!1}),this.spinnerUsroComp=!1}})}getAvsecByNtica(e){this.siscredService.getByNtica(e).subscribe({next:t=>{console.log("UsuarioSiscred",t),0!==t.length?(this.formulario.controls.avsecNombre.setValue((t[0].usuario.nombre+" "+t[0].usuario.apellidoPaterno+" "+t[0].usuario.apellidoMaterno).toUpperCase()),console.log("formulario con avsec",this.formulario.value),this.spinnerAvsec=!1):k().fire({icon:"error",title:"Error",text:"No se encontr\xf3 el usuario con el n\xfamero de tica ingresado",heightAuto:!1})},error:t=>{console.log("Error",t),k().fire({icon:"error",title:"Error",text:"No se encontr\xf3 el usuario con el n\xfamero de tica ingresado",heightAuto:!1}),this.spinnerAvsec=!1}})}checkTicaUser(e){this.ticaUserProv=e.target.checked,console.log("Tica user company",this.ticaUserProv),this.ticaUserProv?(this.desuscribirseUsroCompTicaControl(),this.formulario.controls.usroCompTicaProvisorio.setValue(!0),this.formulario.controls.usroCompTica.reset(),this.formulario.controls.usroCompNombre.reset(),this.formulario.controls.usroCompNombre.enable(),this.formulario.controls.usroCompNombre.setValidators([s.k0.required])):(this.suscribirseUsroCompTicaControl(),this.formulario.controls.usroCompTicaProvisorio.reset(),this.formulario.controls.usroCompNombre.reset(),this.formulario.controls.usroCompNombre.clearValidators()),this.formulario.controls.usroCompNombre.updateValueAndValidity()}checkTicaAvsec(e){this.ticaAvsecProv=e.target.checked,console.log("Tica AVSEC company",this.ticaAvsecProv),this.ticaAvsecProv?(this.desuscribirseAvsecControl(),this.formulario.controls.avsecTicaProvisorio.setValue(!0),this.formulario.controls.avsecTica.reset(),this.formulario.controls.avsecNombre.reset(),this.formulario.controls.avsecNombre.enable(),this.formulario.controls.avsecNombre.setValidators([s.k0.required])):(this.suscribirseAvsecTicaControl(),this.formulario.controls.avsecTicaProvisorio.reset(),this.formulario.controls.avsecNombre.reset(),this.formulario.controls.avsecNombre.clearValidators()),this.formulario.controls.avsecNombre.updateValueAndValidity()}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(Z))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-retiro-traslado-no-escolta"]],viewQuery:function(e,t){if(1&e&&o.GBs(Ir,5),2&e){let i;o.mGM(i=o.lsd())&&(t.modal=i.first)}},inputs:{formulario:"formulario",id:"id"},standalone:!0,features:[o.aNF],decls:41,vars:14,consts:[[1,"centrado"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-8","mt-4"],["size","5"],["formControlName","usroCompTica","id","ticaUserCompany","label","Nro\xb0 TICA de usuario de compa\xf1\xeda","type","number","placeholder","Nro\xb0 TICA",1,"border-none","p-0",3,"formulario"],["size","7",1,"flex","justify-center","items-center"],["type","checkbox",3,"change"],["for","otroObjetoCheckbox",1,"ml-2","text-sm","font-medium","text-gray-700","text-nowrap"],["size","10"],["formControlName","usroCompNombre","id","nombreUsrCompanyProv","label","Nombre del funcionario","type","text","placeholder","Nombre del funcionario",1,"border-none","p-0",3,"formulario"],["size","2",1,"flex","flex-col","justify-center","items-center"],["formControlName","avsecTica","id","ticaUserCompany","label","Nro\xb0 TICA de AVSEC que Entrega","type","number","placeholder","N\xfamero de TICA",1,"border-none","p-0",3,"formulario"],["formControlName","avsecNombre","id","nombreUsrCompanyProv","label","Nombre del funcionario","type","text","placeholder","Nombre del funcionario",1,"border-none","p-0",3,"formulario"],[1,"grid","grid-cols-2","gap-8",3,"ngClass"],["label","Firma Usuario","triggerId","open-signature-user-company","modalTitle","Firma Usuario/a Compa\xf1\xeda",3,"signatureEvent","firma"],["label","Firma Avsec","triggerId","open-signature-avsec-entrega","modalTitle","Firma Usuario/a Compa\xf1\xeda",3,"signatureEvent","firma"],[1,"text-right"],[1,"inline-flex","items-center","px-6","py-3","text-base","font-medium","text-white","rounded-lg",3,"disabled","ngClass"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"ion-grid")(5,"ion-row")(6,"ion-col",3),o.nrm(7,"app-input-field",4),o.k0s(),o.j41(8,"ion-col",5)(9,"div")(10,"input",6),o.bIt("change",function(l){return t.checkTicaUser(l)}),o.k0s(),o.j41(11,"label",7),o.EFF(12,"TICA Provisaria"),o.k0s()()()()(),o.j41(13,"ion-grid")(14,"ion-row")(15,"ion-col",8),o.nrm(16,"app-input-field",9),o.k0s(),o.j41(17,"ion-col",10),o.DNE(18,Mr,1,0,"ion-spinner"),o.k0s()()()(),o.j41(19,"div")(20,"ion-grid")(21,"ion-row")(22,"ion-col",3),o.nrm(23,"app-input-field",11),o.k0s(),o.j41(24,"ion-col",5)(25,"div")(26,"input",6),o.bIt("change",function(l){return t.checkTicaAvsec(l)}),o.k0s(),o.j41(27,"label",7),o.EFF(28,"TICA Provisaria"),o.k0s()()()()(),o.j41(29,"ion-grid")(30,"ion-row")(31,"ion-col",8),o.nrm(32,"app-input-field",12),o.k0s(),o.j41(33,"ion-col",10),o.DNE(34,Br,1,0,"ion-spinner"),o.k0s()()()()(),o.j41(35,"div",13)(36,"div")(37,"app-signature-section",14),o.bIt("signatureEvent",function(l){return t.recibirFirmaUserCompany(l)}),o.k0s()(),o.j41(38,"div")(39,"app-signature-section",15),o.bIt("signatureEvent",function(l){return t.recibirFirmaAvsecEntrega(l)}),o.k0s()()(),o.DNE(40,Yr,3,5,"div",16),o.k0s()()),2&e&&(o.R7$(),o.Y8G("formGroup",t.formulario),o.R7$(6),o.Y8G("formulario",t.formulario),o.R7$(9),o.Y8G("formulario",t.formulario),o.R7$(2),o.vxM(18,t.spinnerUsroComp?18:-1),o.R7$(5),o.Y8G("formulario",t.formulario),o.R7$(9),o.Y8G("formulario",t.formulario),o.R7$(2),o.vxM(34,t.spinnerAvsec?34:-1),o.R7$(),o.Y8G("ngClass",o.l_i(11,Gr,!t.ticaUserProv,t.ticaUserProv)),o.R7$(2),o.Y8G("firma",t.usuarioCompaniaFirma),o.R7$(2),o.Y8G("firma",t.avsecFirma),o.R7$(),o.vxM(40,t.userAvsecRetiraFirma&&t.usuarioCompaniaFirma?40:-1))},dependencies:[c.w2,c.ln,c.hU,c.lO,s.YN,s.BC,s.cb,s.X1,s.j4,s.JD,Nr,Sr,C.YU],styles:['@charset "UTF-8";.centrado[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:auto;margin:auto;max-width:800px}']}),n})();function qr(r,n){1&r&&(o.j41(0,"div",15),o.EFF(1," Este campo es obligatorio. "),o.k0s())}let Xo=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-vuelo-traslado"]],inputs:{formulario:"formulario"},standalone:!0,features:[o.aNF],decls:26,vars:2,consts:[[3,"formGroup"],[1,"text-lg","font-semibold","text-pantone-pro-black-c","pl-7","mt-4"],[1,"grid","grid-cols-5","gap-4","mt-4"],[1,"pl-6"],["for","particular",1,"block","text-sm","font-medium","text-gray-700","required"],["type","text","readonly","","id","particular","formControlName","companiaAerea",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[1,"pr-6"],["readonly","","type","number","id","particular","formControlName","vuelo",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","origen",1,"block","text-sm","font-medium","text-gray-700","required"],["readonly","","formControlName","origen","type","text","id","origen",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","destino",1,"block","text-sm","font-medium","text-gray-700","required"],["id","destino","readonly","","formControlName","destino","type","text",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","horaSalida",1,"block","text-sm","font-medium","text-gray-700","required"],["type","time","id","horaSalida","formControlName","horaVuelo",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"text-red-500","text-sm","mt-1"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div")(2,"h1",1),o.EFF(3,"Datos de vuelo"),o.k0s()(),o.j41(4,"div",2)(5,"div",3)(6,"label",4),o.EFF(7,"Compa\xf1ia"),o.k0s(),o.nrm(8,"input",5),o.k0s(),o.j41(9,"div",6)(10,"label",4),o.EFF(11," Vuelo"),o.k0s(),o.nrm(12,"input",7),o.k0s(),o.j41(13,"div",6)(14,"label",8),o.EFF(15," Origen"),o.k0s(),o.nrm(16,"input",9),o.k0s(),o.j41(17,"div",6)(18,"label",10),o.EFF(19," Destino"),o.k0s(),o.nrm(20,"input",11),o.k0s(),o.j41(21,"div",6)(22,"label",12),o.EFF(23," Hora Salida"),o.k0s(),o.nrm(24,"input",13),o.DNE(25,qr,2,0,"div",14),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.formulario),o.R7$(25),o.Y8G("ngIf",t.formulario.controls.horaVuelo.invalid&&t.formulario.controls.horaVuelo.touched))},dependencies:[s.YN,s.me,s.Q0,s.BC,s.cb,s.X1,s.j4,s.JD,C.bT]}),n})(),U=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-title-traslado"]],standalone:!0,features:[o.aNF],decls:6,vars:0,consts:[[1,"grid","grid-cols-1","items-center","py-2","ion-padding-start"],[1,"flex","items-center"],["defaultHref","/formularios/objetosRetenidos/bandeja-entrada-retenidos","routerDirection","back"],[1,"ion-padding-start","text-xl","font-semibold","text-pantone-pro-black-c"]],template:function(e,t){1&e&&(o.j41(0,"ion-card")(1,"div",0)(2,"div",1),o.nrm(3,"ion-back-button",2),o.j41(4,"h1",3),o.EFF(5,"Paso 3: Datos de Entrega de Objeto (s) Retenidos a Compa\xf1\xeda A\xe9rea "),o.k0s()()()())},dependencies:[c.el,c.b_]}),n})();var to=b(9437),Xr=b(8810);let B=(()=>{var r;class n{constructor(e){this.http=e,this.url=`${q.c.apiBack}traslado/`}addTrasladoNoEscolta(e){const t={headers:new I.Lr({"Content-Type":"application/json"})};return this.http.post(`${this.url}registroTrasladoNoEscolta`,e,t).pipe((0,to.W)(this.handleError("addTraslado")))}addTrasladoEscoltaEnTraslado(e){const t={headers:new I.Lr({"Content-Type":"application/json"})};return this.http.post(`${this.url}registroTrasladoEscolta`,e,t).pipe((0,to.W)(this.handleError("addTrasladoEscolta")))}finalizarTrasladoEscolta(e){const t={headers:new I.Lr({"Content-Type":"application/json"})};return this.http.post(`${this.url}finalizarTrasladoEscolta`,e,t).pipe((0,to.W)(this.handleError("finalizarTrasladoEscolta")))}getTraslados(){return this.http.get(this.url)}getTrasladoById(e){return this.http.get(`${this.url}${e}`)}handleError(e="operation",t){return i=>(console.error(`${e} failed: ${i.message}`),(0,Xr.$)(()=>new Error("Algo sali\xf3 mal; por favor intenta de nuevo m\xe1s tarde.")))}}return(r=n).\u0275fac=function(e){return new(e||r)(o.KVO(I.Qq))},r.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),n})();const Hr=(r,n)=>({"bg-gray-600":r,"bg-pantone-286c":n});function Zr(r,n){if(1&r){const a=o.RV6();o.j41(0,"app-tabla-ticket-por-personal-aerolinea",17),o.bIt("emitirSeleccionados",function(t){o.eBV(a);const i=o.XpG();return o.Njj(i.recibirTicketsSeleccionados(t))})("totalRowsEmitter",function(t){o.eBV(a);const i=o.XpG();return o.Njj(i.recibirTotalTickets(t))}),o.k0s()}if(2&r){const a=o.XpG();o.Y8G("dataFormularios",a.dataFormularios)("datosCargados",a.datosCargados)}}let zr=(()=>{var r;class n{constructor(e,t,i,l,d,m,p,f){this.router=e,this.dateService=t,this.fb=i,this.modalController=l,this.personalService=d,this.rutaActiva=m,this.service=p,this.trasladoService=f,this.title="Formulario de Objetos Retenidos",this.totalTicketsSeleccionados=0,this.idsFormularios=[],this.dataFormularios=[],this.ticketsSeleccionados=[],this.idsFormulariosSeleccionados=[],this.formulario=this.fb.group({companiaAerea:[""],vuelo:[""],origen:[""],destino:[""],horaVuelo:["",s.k0.required],formularios:[""],usroCompTica:["",s.k0.required],usroCompTicaProvisorio:[!1],usroCompNombre:[""],usroCompEvidencia:["",s.k0.required],avsecTica:["",s.k0.required],avsecTicaProvisorio:[!1],avsecNombre:[""],avsecEvidencia:["",s.k0.required]})}ngOnInit(){this.formulario.markAllAsTouched(),this.suscribirseARutaActiva()}suscribirseARutaActiva(){this.rutaActiva.paramMap.subscribe({next:e=>this.procesarParametrosRuta(e),error:e=>console.log(e)})}procesarParametrosRuta(e){var t=this;return(0,_.A)(function*(){const i=Number(e.get("companiaAereaId")),l=Number(e.get("numeroVuelo")),d="true"===e.get("escolta"),m=e.get("companiaAerea"),p=e.get("origen"),f=e.get("destino"),v=e.get("fechaHoraVuelo"),h=Number(e.get("puenteEmbarque"));t.dataNoEscolta=yield t.obtenerPendienteNoEscolta(i,l,h,null!=p?p:"",null!=f?f:"",null!=v?v:"",d),console.log("Data no escolta",t.dataNoEscolta),t.llenarControles(null!=m?m:"",l,null!=p?p:"",null!=f?f:""),t.obtenerIdFormularios(t.dataNoEscolta),t.obtenerDataFormularios(t.idsFormularios)})()}obtenerPendienteNoEscolta(e,t,i,l,d,m,p){return console.log("Obteniendo pendiente no escolta",e,t,i,l,d,m),new Promise((f,v)=>{this.service.getTrasladoDetalle(e,t,i,l,d,p,m).subscribe({next:h=>{console.log("info getSinPendiente",h),f(h)},error:h=>{console.error("Error al obtener pendiente sin escolta:",h),v(h)}})})}llenarControles(e,t,i,l){this.formulario.controls.companiaAerea.setValue(e),this.formulario.controls.vuelo.setValue(t),this.formulario.controls.origen.setValue(i),this.formulario.controls.destino.setValue(l)}obtenerIdFormularios(e){console.log("obteniendo id de forms",e),e.forEach(t=>{this.idsFormularios.push(t.idFormulario)})}obtenerDataFormularios(e){const t=e.map(i=>this.service.getDataById(i).toPromise());console.log("Peticiones",t),Promise.all(t).then(i=>{this.dataFormularios=i,console.log("Todos los datos de formularios han sido cargados:",this.dataFormularios),this.datosCargados=!0}).catch(i=>{console.error("Error al obtener datos:",i)})}recibirTicketsSeleccionados(e){this.ticketsSeleccionados=e,console.log("Tickets seleccionados",this.ticketsSeleccionados)}obtenerIdFormulariosSeleccionados(e){this.idsFormulariosSeleccionados=[],e.forEach(t=>{this.idsFormulariosSeleccionados.push(t.id)}),this.formulario.controls.formularios.setValue(this.idsFormulariosSeleccionados)}onSubmit(){if(this.obtenerIdFormulariosSeleccionados(this.ticketsSeleccionados),this.formulario.valid){console.log("Formulario valido",this.formulario.value);const e=this.formulario.value;delete e.vuelo,delete e.companiaAerea,delete e.origen,delete e.destino,console.log("Objeto traslado no escolta",e),this.trasladoService.addTrasladoNoEscolta(e).subscribe({next:t=>{console.log("Data traslado no escolta",t),k().fire({title:"\xa1Traslado no escolta registrado!",text:"El traslado no escolta ha sido registrado exitosamente.",icon:"success",heightAuto:!1,timer:2e3}).then(()=>{this.router.navigate(["/formularios/objetosRetenidos/bandeja-entrada-retenidos"]),this.formulario.reset()})},error:t=>{console.error("Error al enviar traslado no escolta:",t),k().fire({title:"Error al registrar traslado no escolta",text:"Ha ocurrido un error al registrar el traslado no escolta, por favor intente de nuevo.",icon:"error",heightAuto:!1})}})}else console.log("Formulario invalido",this.formulario.value)}openModal(){var e=this;return(0,_.A)(function*(){return yield(yield e.modalController.create({component:Pr})).present()})()}deletePersonal(){console.log("deletePersonal"),this.personalService.resetPersonal()}swalDeletePersonal(){k().fire({title:"\xbfEst\xe1s seguro de eliminar a todo el personal?",text:"\xa1No podr\xe1s revertir esto!",icon:"warning",heightAuto:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar todo el personal"}).then(e=>{e.isConfirmed&&(this.deletePersonal(),k().fire({title:"\xa1Eliminado!",text:"El personal ha sido eliminado.",icon:"success",heightAuto:!1,timer:2e3}))})}recibirTotalTickets(e){this.totalTicketsSeleccionados=e}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(x.Ix),o.rXU(yo),o.rXU(s.ok),o.rXU(c.W3),o.rXU(G),o.rXU(x.nX),o.rXU(P.K),o.rXU(B))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-traslados-retenidos"]],standalone:!0,features:[o.aNF],decls:33,vars:11,consts:[[3,"title"],[1,"background"],[1,"container","mx-auto","ion-padding-start","ion-padding-end","ion-padding-bottom","rounded-lg"],[1,"ion-padding"],[3,"submit","formGroup"],[3,"formulario"],[1,"pl-1","pr-1"],[1,"mt-4"],[1,"text-lg","font-semibold","text-pantone-pro-black-c","pl-7"],[1,"mt-3"],[3,"dataFormularios","datosCargados"],[1,"-mt-2","text-sm","font-semibold","text-pantone-pro-black-c","pl-7"],[1,"pl-6","pr-6"],["size","1"],["size","10"],[1,"text-right","ion-padding-end","mt-4","mb-8"],["type","submit",1,"w-40","h-12","text-white","rounded-lg",3,"ngClass","disabled"],[3,"emitirSeleccionados","totalRowsEmitter","dataFormularios","datosCargados"]],template:function(e,t){1&e&&(o.nrm(0,"app-navbar",0),o.j41(1,"ion-content",1)(2,"div",2),o.nrm(3,"app-title-traslado"),o.j41(4,"ion-card",3)(5,"form",4),o.bIt("submit",function(){return t.onSubmit()}),o.nrm(6,"app-datos-vuelo-traslado",5),o.j41(7,"div",6),o.nrm(8,"app-divider"),o.k0s(),o.j41(9,"div",7)(10,"div")(11,"h1",8),o.EFF(12,"Listado de Objetos"),o.k0s()(),o.j41(13,"div",9),o.DNE(14,Zr,1,2,"app-tabla-ticket-por-personal-aerolinea",10),o.j41(15,"div")(16,"h1",11),o.EFF(17),o.k0s()()()(),o.j41(18,"div",6),o.nrm(19,"app-divider"),o.k0s(),o.j41(20,"div")(21,"h1",8),o.EFF(22," Datos de Usuario de Compa\xf1\xeda y AVSEC que Entrega "),o.k0s()(),o.j41(23,"div",12)(24,"ion-grid")(25,"ion-row"),o.nrm(26,"ion-col",13),o.j41(27,"ion-col",14),o.nrm(28,"app-datos-retiro-traslado-no-escolta",5),o.k0s(),o.nrm(29,"ion-col",13),o.k0s()()(),o.j41(30,"div",15)(31,"button",16),o.EFF(32," Entregar "),o.k0s()()()()()()),2&e&&(o.Y8G("title",t.title),o.R7$(5),o.Y8G("formGroup",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(8),o.vxM(14,t.dataFormularios&&t.dataFormularios.length>0?14:-1),o.R7$(3),o.SpI("Tickets Seleccionados : ",t.totalTicketsSeleccionados,""),o.R7$(11),o.Y8G("formulario",t.formulario),o.R7$(3),o.Y8G("ngClass",o.l_i(8,Hr,t.formulario.invalid,t.formulario.valid))("disabled",t.formulario.invalid))},dependencies:[c.lO,c.ln,c.hU,c.b_,c.W9,C.MD,C.YU,s.YN,s.qT,s.cb,A.a,qo,D.h,s.X1,s.j4,Ur,Xo,U],styles:["ion-content.background[_ngcontent-%COMP%]{--background: #f1f5f9}.btn-add[_ngcontent-%COMP%]{--background: var(--color-pantone-312c) }.btn-dlt[_ngcontent-%COMP%]{--background: #991a2b;--background-hover: #68111d}"]}),n})();function Lr(r,n){1&r&&(o.j41(0,"span",21),o.EFF(1," Estado "),o.k0s())}function Jr(r,n){1&r&&(o.j41(0,"div",22),o.EFF(1," PENDIENTE "),o.k0s())}function Qr(r,n){if(1&r&&(o.j41(0,"div",22),o.EFF(1),o.nI1(2,"uppercase"),o.k0s()),2&r){const a=o.XpG().row;o.R7$(),o.SpI(" ",o.bMT(2,1,null==a.traslado||null==a.traslado.estadoTraslado?null:a.traslado.estadoTraslado.nombre)," ")}}function Wr(r,n){if(1&r&&o.DNE(0,Jr,2,0,"div",22)(1,Qr,3,3),2&r){const a=n.row;o.vxM(0,null!=a.traslado&&null!=a.traslado.estadoTraslado&&a.traslado.estadoTraslado.id?1:0)}}function Kr(r,n){1&r&&(o.j41(0,"span",21),o.EFF(1," Escolta "),o.k0s())}function oa(r,n){if(1&r&&(o.j41(0,"div",22),o.nrm(1,"ion-checkbox",23),o.k0s()),2&r){const a=o.XpG().row;o.R7$(),o.Y8G("checked",a.requiereEscolta)}}function ea(r,n){if(1&r&&o.DNE(0,oa,2,1,"div",22),2&r){const a=n.row;o.vxM(0,!0===a.requiereEscolta||!1===a.requiereEscolta?0:-1)}}function ta(r,n){1&r&&(o.j41(0,"span",21),o.EFF(1," Compa\xf1ia "),o.k0s())}function ra(r,n){if(1&r&&(o.j41(0,"div",22),o.EFF(1),o.k0s()),2&r){const a=n.row;o.R7$(),o.SpI(" ",a.companiaVuelo.companiaAereaData.nombre," ")}}function aa(r,n){1&r&&(o.j41(0,"span",21),o.EFF(1," Vuelo "),o.k0s())}function ia(r,n){if(1&r&&(o.j41(0,"div",22),o.EFF(1),o.k0s()),2&r){const a=n.row;o.R7$(),o.SpI(" ",a.companiaVuelo.numeroVuelo," ")}}function na(r,n){1&r&&(o.j41(0,"span",21),o.EFF(1," Origen "),o.k0s())}function sa(r,n){if(1&r&&(o.j41(0,"div",22),o.EFF(1),o.k0s()),2&r){const a=n.row;o.R7$(),o.SpI(" ",a.origen," ")}}function la(r,n){1&r&&(o.j41(0,"span",21),o.EFF(1," Destino "),o.k0s())}function ca(r,n){if(1&r&&(o.j41(0,"div",22),o.EFF(1),o.k0s()),2&r){const a=n.row;o.R7$(),o.SpI(" ",a.destino," ")}}function da(r,n){1&r&&(o.j41(0,"span",21),o.EFF(1," Puente Embarque "),o.k0s())}function ua(r,n){if(1&r&&(o.j41(0,"div",22),o.EFF(1),o.k0s()),2&r){const a=n.row;o.R7$(),o.SpI(" ",a.puenteEmbarque.nombre," ")}}function ma(r,n){1&r&&(o.j41(0,"span",21),o.EFF(1," Fecha "),o.k0s())}function pa(r,n){if(1&r&&(o.j41(0,"div",22),o.EFF(1),o.nI1(2,"date"),o.k0s()),2&r){const a=n.row;o.R7$(),o.SpI(" ",o.i5U(2,1,a.fechaHoraVuelo,"yyyy/MM/dd")," ")}}function fa(r,n){1&r&&(o.j41(0,"span",21),o.EFF(1," Total tickets "),o.k0s())}function ga(r,n){if(1&r&&(o.j41(0,"div",22),o.EFF(1),o.k0s()),2&r){const a=n.row;o.R7$(),o.SpI(" ",a.totalTickets," ")}}function ba(r,n){1&r&&(o.j41(0,"span",21),o.EFF(1," Acciones "),o.k0s())}function ha(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",24)(1,"ion-button",25),o.bIt("click",function(){o.eBV(a);const t=o.XpG().row,i=o.XpG();return o.Njj(i.goToTraslados(t.companiaVuelo.companiaAereaData.id,t.companiaVuelo.numeroVuelo,t.requiereEscolta,t.companiaVuelo.companiaAereaData.nombre,t.origen,t.destino,t.fechaHoraVuelo,t.puenteEmbarque.id))}),o.nrm(2,"ion-icon",26),o.k0s()()}}function va(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",24)(1,"ion-button",27),o.bIt("click",function(){o.eBV(a);const t=o.XpG(2).row,i=o.XpG();return o.Njj(i.goToTrasladoEnTraslado(t.traslado.id))}),o.nrm(2,"ion-icon",28),o.k0s()()}}function _a(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",24)(1,"ion-button",29),o.bIt("click",function(){o.eBV(a);const t=o.XpG(2).row,i=o.XpG();return o.Njj(i.goToTrasladosEntregados(t.traslado.id))}),o.nrm(2,"ion-icon",30),o.k0s()()}}function Ca(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",24)(1,"ion-button",29),o.bIt("click",function(){o.eBV(a);const t=o.XpG(2).row,i=o.XpG();return o.Njj(i.goToTrasladosEscoltaEntregados(t.traslado.id))}),o.nrm(2,"ion-icon",30),o.k0s()()}}function Ta(r,n){if(1&r&&o.DNE(0,va,3,0,"div",24)(1,_a,3,0)(2,Ca,3,0),2&r){const a=o.XpG().row;o.vxM(0,2==(null==a.traslado||null==a.traslado.estadoTraslado?null:a.traslado.estadoTraslado.id)?0:3==(null==a.traslado||null==a.traslado.estadoTraslado?null:a.traslado.estadoTraslado.id)?1:4==(null==a.traslado||null==a.traslado.estadoTraslado?null:a.traslado.estadoTraslado.id)?2:-1)}}function ka(r,n){1&r&&o.DNE(0,ha,3,0,"div",24)(1,Ta,3,1),2&r&&o.vxM(0,null==n.row.traslado?0:1)}let Fa=(()=>{var r;class n{constructor(e,t,i,l){this.service=e,this.router=t,this.cdr=i,this.trasladoService=l,this.ColumnMode=g.oZ,this.loadingIndicator=!1,this.rows=[],this.temp=[],this.filteredRows=[],this.columns=[{prop:"id"},{prop:"compania"},{prop:"vuelo"},{prop:"destino"},{name:"fecha"},{name:"horaSalida"},{name:"tickets"},{prop:"puente"},{name:"estado"}],this.getRowClass=d=>{var m,p,f;return{"row-color":2===(null===(m=d.traslado)||void 0===m||null===(m=m.estadoTraslado)||void 0===m?void 0:m.id),"row-color-2":3===(null===(p=d.traslado)||void 0===p||null===(p=p.estadoTraslado)||void 0===p?void 0:p.id),"row-color-3":4===(null===(f=d.traslado)||void 0===f||null===(f=f.estadoTraslado)||void 0===f?void 0:f.id),"row-color-pendiente":null===d.traslado}},this.getCellClass=d=>{var m,p,f;return{"cell-color":2===(null===(m=d.row.traslado)||void 0===m||null===(m=m.estadoTraslado)||void 0===m?void 0:m.id),"cell-color-2":3===(null===(p=d.row.traslado)||void 0===p||null===(p=p.estadoTraslado)||void 0===p?void 0:p.id),"cell-color-3":4===(null===(f=d.row.traslado)||void 0===f||null===(f=f.estadoTraslado)||void 0===f?void 0:f.id),"cell-color-pendiente":null===d.row.traslado}},(0,F.a)({filterOutline:u.PyO,refreshCircleOutline:u.ahv,airplaneOutline:u.jSi,arrowRedoOutline:u.Kgq,checkmarkDoneOutline:u.u8Q,refreshOutline:u.mVv,helpCircleOutline:u.W2C,eyeOutline:u.ov$})}ngOnInit(){this.startAllIcons(),this.getDataForTable2()}getDataForTable2(){this.loadingIndicator=!0,this.service.getTrasladoCount().subscribe({next:e=>{let t=0;this.rows=e.sort((i,l)=>null===i.traslado&&null!==l.traslado?-1:null!==i.traslado&&null===l.traslado?1:null===i.traslado&&null===l.traslado?i.companiaVuelo.companiaAereaData.nombre<l.companiaVuelo.companiaAereaData.nombre?-1:i.companiaVuelo.companiaAereaData.nombre>l.companiaVuelo.companiaAereaData.nombre?1:i.companiaVuelo.numeroVuelo-l.companiaVuelo.numeroVuelo:i.traslado.estadoTraslado.id!==l.traslado.estadoTraslado.id?(i.traslado.estadoTraslado.id||0)-(l.traslado.estadoTraslado.id||0):i.companiaVuelo.companiaAereaData.nombre<l.companiaVuelo.companiaAereaData.nombre?-1:i.companiaVuelo.companiaAereaData.nombre>l.companiaVuelo.companiaAereaData.nombre?1:i.companiaVuelo.numeroVuelo-l.companiaVuelo.numeroVuelo),console.log("Data traslados",this.rows),this.rows.forEach(i=>{t+=i.totalTickets||0,console.log("Total tickets",t)}),this.temp=[...e],this.filteredRows=[...e],this.loadingIndicator=!1},error:e=>{console.error(e),this.loadingIndicator=!1}})}ngOnChanges(e){e.filtro&&e.filtro.currentValue&&(console.log("Cambio en filtro",this.filtro),0===Object.keys(this.filtro).length?(console.log("Filtro vac\xedo"),this.getDataForTable2()):this.aplicarFiltro(this.filtro))}aplicarFiltro(e){this.loadingIndicator=!0,this.service.filtrarDataTraslados(e).subscribe({next:t=>{console.log("Datos filtrados obtenidos:",t),this.rows=[...t],this.temp=[...t],this.table&&(this.table.offset=0),this.loadingIndicator=!1},error:t=>{console.error("Error al obtener datos filtrados:",t),this.loadingIndicator=!1}})}goToTraslados(e,t,i,l,d,m,p,f){this.router.navigate(1==i?["/formularios/objetosRetenidos/traslados-escolta-retenidos",e,t,f,i,l,d,m,p]:["/formularios/objetosRetenidos/traslados-retenidos",e,t,f,i,l,d,m,p])}goToTrasladoEnTraslado(e){this.router.navigate(["/formularios/objetosRetenidos/traslados-escolta-retenidos-en-traslado",e])}goToTrasladosEntregados(e){this.router.navigate(["/formularios/objetosRetenidos/traslados-retenidos-entregados",e])}goToTrasladosEscoltaEntregados(e){this.router.navigate(["/formularios/objetosRetenidos/traslado-escolta-retenido-entregado",e])}openPopover(e){this.popoverComponent.presentPopover(e)}startAllIcons(){(0,F.a)({filterOutline:u.PyO,eyeOutline:u.ov$,trashOutline:u.P1A,arrowRedoOutline:u.Kgq,arrowUndoOutline:u.K7C,mailUnreadOutline:u.HfN,checkmarkDoneOutline:u.u8Q,airplaneOutline:u.jSi,refreshCircleOutline:u.ahv})}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(P.K),o.rXU(x.Ix),o.rXU(o.gRc),o.rXU(B))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-tabla-traslados"]],viewQuery:function(e,t){if(1&e&&(o.GBs(g.ge,5),o.GBs(Fo,7)),2&e){let i;o.mGM(i=o.lsd())&&(t.table=i.first),o.mGM(i=o.lsd())&&(t.popoverComponent=i.first)}},inputs:{filtro:"filtro"},standalone:!0,features:[o.OA$,o.aNF],decls:43,vars:19,consts:[["table",""],["size","12"],["align","right",1,"searchTable"],[1,"grid","grid-cols-1","md:grid-cols-3"],[1,"flex","items-center"],["name","filter-outline",1,"h-6","w-6","ml-4"],[1,"pl-20"],[3,"click"],[1,"material",3,"columnMode","headerHeight","footerHeight","rowHeight","loadingIndicator","scrollbarH","limit","rows","rowClass"],["prop","traslado.estadoTraslado.nombre"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["prop","requiereEscolta",3,"width","headerClass","cellClass"],["prop","companiaVuelo.companiaAereaData.nombre"],["prop","companiaVuelo.numeroVuelo",3,"width"],["prop","origen",3,"width"],["prop","destino",3,"width"],["prop","puenteEmbarque.nombre"],["prop","fechaHoraVuelo"],["prop","totalTickets",3,"width"],[3,"frozenRight","width","cellClass"],[1,"tableHeader","text-gray-700"],[1,"flex","justify-center","items-center"],["disabled","",3,"checked"],[1,"flex","justify-center","items-center","h-full"],["size","small",2,"--background","red",3,"click"],["name","airplane-outline"],["size","small",2,"--background","var(--color-pantone-286c)",3,"click"],["name","arrow-redo-outline"],["size","small",2,"--background","green",3,"click"],["name","checkmark-done-outline"]],template:function(e,t){if(1&e){const i=o.RV6();o.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",1)(3,"ion-card")(4,"div",2)(5,"div",3)(6,"div",4),o.nrm(7,"ion-icon",5),o.k0s(),o.nrm(8,"div"),o.j41(9,"div",6)(10,"app-refresher-icon",7),o.bIt("click",function(){return o.eBV(i),o.Njj(t.getDataForTable2())}),o.k0s()()()(),o.j41(11,"ngx-datatable",8,0)(13,"ngx-datatable-column",9),o.DNE(14,Lr,2,0,"ng-template",10)(15,Wr,2,1,"ng-template",11),o.k0s(),o.j41(16,"ngx-datatable-column",12),o.DNE(17,Kr,2,0,"ng-template",10)(18,ea,1,1,"ng-template",11),o.k0s(),o.j41(19,"ngx-datatable-column",13),o.DNE(20,ta,2,0,"ng-template",10)(21,ra,2,1,"ng-template",11),o.k0s(),o.j41(22,"ngx-datatable-column",14),o.DNE(23,aa,2,0,"ng-template",10)(24,ia,2,1,"ng-template",11),o.k0s(),o.j41(25,"ngx-datatable-column",15),o.DNE(26,na,2,0,"ng-template",10)(27,sa,2,1,"ng-template",11),o.k0s(),o.j41(28,"ngx-datatable-column",16),o.DNE(29,la,2,0,"ng-template",10)(30,ca,2,1,"ng-template",11),o.k0s(),o.j41(31,"ngx-datatable-column",17),o.DNE(32,da,2,0,"ng-template",10)(33,ua,2,1,"ng-template",11),o.k0s(),o.j41(34,"ngx-datatable-column",18),o.DNE(35,ma,2,0,"ng-template",10)(36,pa,3,4,"ng-template",11),o.k0s(),o.j41(37,"ngx-datatable-column",19),o.DNE(38,fa,2,0,"ng-template",10)(39,ga,2,1,"ng-template",11),o.k0s(),o.j41(40,"ngx-datatable-column",20),o.DNE(41,ba,2,0,"ng-template",10)(42,ka,2,1,"ng-template",11),o.k0s()()()()()()}2&e&&(o.R7$(11),o.Y8G("columnMode",t.ColumnMode.standard)("headerHeight",50)("footerHeight",50)("rowHeight",50)("loadingIndicator",t.loadingIndicator)("scrollbarH",!0)("limit",7)("rows",t.rows)("rowClass",t.getRowClass),o.R7$(5),o.Y8G("width",75)("headerClass","col-requiere-escolta-header")("cellClass","col-requiere-escolta-cell"),o.R7$(6),o.Y8G("width",75),o.R7$(3),o.Y8G("width",75),o.R7$(3),o.Y8G("width",75),o.R7$(9),o.Y8G("width",75),o.R7$(3),o.Y8G("frozenRight",!0)("width",75)("cellClass",t.getCellClass))},dependencies:[c.eY,c.Jm,g.Kj,g.ge,g.ed,g.V,g.QI,c.lO,c.ln,c.hU,c.b_,c.iq,C.vh,C.Pc,Eo],styles:[".row-color{background-color:#f3ff96;border-top:#969494 1px solid;border-left:#969494 1px solid;border-right:#969494 1px solid;border-bottom:#969494 1px solid}  .row-color-2{background-color:#d0f2e9;border-top:#969494 1px solid;border-left:#969494 1px solid;border-right:#969494 1px solid;border-bottom:#969494 1px solid}  .row-color-3{background-color:#aeecdb;border-top:#969494 1px solid;border-left:#969494 1px solid;border-right:#969494 1px solid;border-bottom:#969494 1px solid}  .row-color-pendiente{background-color:#f3d4a3;border-top:#969494 1px solid;border-left:#969494 1px solid;border-right:#969494 1px solid;border-bottom:#969494 1px solid}  .cell-color{background-color:#f3ff96;border-top:#969494 1px solid;border-left:#969494 1px solid;border-right:#969494 1px solid;border-bottom:#969494 1px solid}  .cell-color-2{background-color:#d0f2e9;border-top:#969494 1px solid;border-left:#969494 1px solid;border-right:#969494 1px solid;border-bottom:#969494 1px solid}  .cell-color-3{background-color:#aeecdb;border-top:#969494 1px solid;border-left:#969494 1px solid;border-right:#969494 1px solid;border-bottom:#969494 1px solid}  .cell-color-pendiente{background-color:#f3d4a3;border-top:#969494 1px solid;border-left:#969494 1px solid;border-right:#969494 1px solid;border-bottom:#969494 1px solid}  .custom-column-style{background-color:0;text-align:center;border-top:#969494 1px solid;border-left:#969494 1px solid;border-right:#969494 1px solid;border-bottom:#969494 1px solid}ion-button[_ngcontent-%COMP%]{width:50px;height:25px;padding:0;display:flex;position:relative;justify-content:center;align-items:center;margin:auto;top:-1px}"]}),n})();const Ho=(r,n)=>n.id;function Ea(r,n){if(1&r&&(o.j41(0,"option",15),o.EFF(1),o.k0s()),2&r){const a=n.$implicit;o.FS9("value",a.id),o.R7$(),o.JRh(a.nombre)}}function xa(r,n){if(1&r&&(o.j41(0,"option",15),o.EFF(1),o.k0s()),2&r){const a=n.$implicit;o.FS9("value",a.id),o.R7$(),o.JRh(a.nombre)}}let ja=(()=>{var r;class n{constructor(e,t,i,l,d){this.companiaAereaService=e,this.puenteEmbarqueService=t,this.servicio=i,this.router=l,this.fb=d,this.title="Bandeja de Entrada de Traslados",this.companias=[],this.puentes=[],(0,F.a)({filterOutline:u.PyO,mailUnreadOutline:u.HfN}),this.formulario=this.fb.group({companiaAerea:[""],numeroVuelo:[""],fechaVuelo:[""],puenteEmbarque:[""],estadoTraslado:[""],origen:[""],destino:[""]})}ngOnInit(){var e=this;return(0,_.A)(function*(){e.startAllIcons(),yield e.getCompanias(),yield e.getPuentesEmbarque()})()}startAllIcons(){(0,F.a)({camera:u.UIk,create:u.vtF,qrCode:u.JBo,swapHorizontalOutline:u.Ilt,filterOutline:u.PyO,helpCircleOutline:u.W2C,addCircleOutline:u.CDT,arrowBackOutline:u.hGB,addCircle:u.YH_})}onSubmit(e){e.preventDefault(),this.formulario.valid?(console.log("Formulario v\xe1lido",this.formulario.value),Object.keys(this.formulario.controls).forEach(t=>{const i=this.formulario.get(t);"string"==typeof(null==i?void 0:i.value)&&i.setValue(i.value.toUpperCase())}),this.filtro=this.formulario.value):console.log("Formulario inv\xe1lido",this.formulario.value)}resetFiltro(){this.formulario.reset(),this.filtro={}}goToBandejaEntradaRetenidos(){this.router.navigate(["/formularios/objetosRetenidos/bandeja-entrada-retenidos"])}getCompanias(){return new Promise((e,t)=>{this.companiaAereaService.getCompanias().subscribe({next:i=>{this.companias=i,e(i)},error:i=>{t(i)}})})}getPuentesEmbarque(){return new Promise((e,t)=>{this.puenteEmbarqueService.getPuentesEmbarque().subscribe({next:i=>{console.log("puentes",i),this.puentes=i,e(i)},error:i=>{t(i)}})})}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(X),o.rXU(W),o.rXU(P.K),o.rXU(x.Ix),o.rXU(s.ok))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-bandeja-entrada-traslados"]],standalone:!0,features:[o.aNF],decls:68,vars:3,consts:[[3,"title"],[1,"background"],[1,"container","mx-auto","rounded-lg"],[1,"grid","grid-cols-3","items-center","py-2","ion-padding-start"],[1,"flex","items-center"],["defaultHref","/formularios/objetosRetenidos/bandeja-entrada-retenidos"],["name","filter-outline",1,"h-6","w-6","mr-4","text-pantone-130c"],[1,"text-xl","text-nowrap","font-semibold","text-pantone-pro-black-c"],[2,"--background-color","aquamarine"],[1,"ion-padding"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-3","gap-4"],[1,"mb-4"],["for","compania",1,"block","text-sm","font-medium","text-gray-700"],["id","compania","name","compania","formControlName","companiaAerea","placeholder","Compania",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[3,"value"],["for","vuelo",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","vuelo","name","vuelo","formControlName","numeroVuelo","placeholder","Vuelo",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","puenteEmbarque",1,"block","text-sm","font-medium","text-gray-700"],["id","puenteEmbarque","name","puenteEmbarque","formControlName","puenteEmbarque",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","origen",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","origen","name","origen","formControlName","origen",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","destino",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","destino","name"," destino","formControlName","destino",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","estado",1,"block","text-sm","font-medium","text-gray-700"],["id","estado","name","estado","formControlName","estadoTraslado",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["value","2"],["value","3"],["value","4"],["value","5"],[1,"grid","grid-cols-2","gap-4"],[1,"flex","justify-end","items-center","space-x-4"],["type","button",1,"text-nowrap",2,"--background","var(--color-pantone-286c)",3,"click"],["type","submit",1,"text-nowrap",2,"--background","var(--color-pantone-286c)"],[1,"mb-0","py-2"],[1,"grid","grid-cols-2","md:grid-cols-3","items-center"],[1,"flex","items-center","ml-4"],["name","mail-unread-outline",1,"h-8","w-8","text-pantone-130c","animated-icon"],[1,"text-xl","font-semibold","text-gray-900","ml-2","text-nowrap"],[1,"hidden","md:block"],[3,"filtro"]],template:function(e,t){1&e&&(o.nrm(0,"app-navbar",0),o.j41(1,"ion-content",1)(2,"div",2)(3,"ion-card")(4,"div",3)(5,"div",4),o.nrm(6,"ion-back-button",5)(7,"ion-icon",6),o.j41(8,"h1",7),o.EFF(9,"Filtrar por Datos de Traslado"),o.k0s()(),o.nrm(10,"div",4),o.k0s()(),o.j41(11,"ion-card",8)(12,"div",9)(13,"form",10),o.bIt("ngSubmit",function(l){return t.onSubmit(l)}),o.j41(14,"div",11)(15,"div",12)(16,"label",13),o.EFF(17,"Compa\xf1ia"),o.k0s(),o.j41(18,"select",14),o.Z7z(19,Ea,2,2,"option",15,Ho),o.k0s()(),o.j41(21,"div",12)(22,"label",16),o.EFF(23,"Vuelo"),o.k0s(),o.nrm(24,"input",17),o.k0s(),o.j41(25,"div",12)(26,"label",18),o.EFF(27,"Puente Embarque"),o.k0s(),o.j41(28,"select",19),o.Z7z(29,xa,2,2,"option",15,Ho),o.k0s()()(),o.j41(31,"div",11)(32,"div",12)(33,"label",20),o.EFF(34,"Origen"),o.k0s(),o.nrm(35,"input",21),o.k0s(),o.j41(36,"div",12)(37,"label",22),o.EFF(38,"Destino"),o.k0s(),o.nrm(39,"input",23),o.k0s(),o.j41(40,"div",12)(41,"label",24),o.EFF(42,"Estado"),o.k0s(),o.j41(43,"select",25)(44,"option",26),o.EFF(45,"EN TRASLADO"),o.k0s(),o.j41(46,"option",27),o.EFF(47,"ENTREGADO"),o.k0s(),o.j41(48,"option",28),o.EFF(49,"ENTREGADO ZZ"),o.k0s(),o.j41(50,"option",29),o.EFF(51,"ANULADO"),o.k0s()()()(),o.j41(52,"div",30),o.nrm(53,"div"),o.j41(54,"div",31)(55,"ion-button",32),o.bIt("click",function(){return t.resetFiltro()}),o.EFF(56," Cancelar Filtro "),o.k0s(),o.j41(57,"ion-button",33),o.EFF(58," Buscar "),o.k0s()()()()()(),o.nrm(59,"app-divider"),o.j41(60,"ion-card",34)(61,"div",35)(62,"div",36),o.nrm(63,"ion-icon",37),o.j41(64,"h1",38),o.EFF(65,"Bandeja de Traslados"),o.k0s()(),o.nrm(66,"div",39),o.k0s()(),o.nrm(67,"app-tabla-traslados",40),o.k0s()()),2&e&&(o.Y8G("title",t.title),o.R7$(13),o.Y8G("formGroup",t.formulario),o.R7$(6),o.Dyx(t.companias),o.R7$(10),o.Dyx(t.puentes),o.R7$(38),o.Y8G("filtro",t.filtro))},dependencies:[c.el,c.W9,C.MD,s.YN,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,A.a,D.h,c.Jm,c.iq,c.b_,s.X1,s.j4,s.JD,Fa]}),n})();const ya=(r,n)=>n.id;function Ra(r,n){1&r&&(o.j41(0,"div",36),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function wa(r,n){1&r&&(o.j41(0,"div",36),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function Pa(r,n){1&r&&o.nrm(0,"ion-spinner")}function Da(r,n){1&r&&(o.j41(0,"div",36),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function Na(r,n){1&r&&(o.j41(0,"div",36),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function Va(r,n){if(1&r&&(o.j41(0,"option",32),o.EFF(1),o.k0s()),2&r){const a=n.$implicit;o.FS9("value",a.id),o.R7$(),o.JRh(a.nombre)}}function Aa(r,n){1&r&&(o.j41(0,"div",36),o.EFF(1," Este campo es obligatorio. "),o.k0s())}let Oa=(()=>{var r;class n{constructor(e,t){this.puenteEmbarqueService=e,this.siscredService=t,this.puentesEmbarques=[],this.spinnerAvsec=!1,this.ticaAvsecProv=!1}ngOnInit(){this.getPuentesEmbarques(),this.suscribirseAvsecTicaControl()}registrarHora(e){const t=(new Date).toLocaleTimeString().split(" ")[0],i=this.WformatToHHmm(t);var l;if("horaFinEscolta"===e)null===(l=this.formulario.get("horaFinEscolta"))||void 0===l||l.setValue(i);else if("horaInicioEscolta"===e){var d;null===(d=this.formulario.get("horaInicioEscolta"))||void 0===d||d.setValue(i)}else if("horaLlegadaPuente"===e){var m;null===(m=this.formulario.get("horaLlegadaPuenteEmbarque"))||void 0===m||m.setValue(i)}}WformatToHHmm(e){const t=e.split(":");return`${t[0].padStart(2,"0")}:${t[1].padStart(2,"0")}`}getPuentesEmbarques(){this.puenteEmbarqueService.getPuentesEmbarque().subscribe({next:e=>{this.puentesEmbarques=e,console.log(this.puentesEmbarques)},error:e=>{console.log(e)}})}suscribirseAvsecTicaControl(){var e;this.avsecTicaSubscription||(console.log("Suscribirse a avsecTica"),this.avsecTicaSubscription=null===(e=this.formulario.get("avsecTica"))||void 0===e?void 0:e.valueChanges.pipe((0,z.M)(()=>this.spinnerAvsec=!0),$(2e3),(0,M.F)()).subscribe(t=>{console.log("Ntica",t),null!=t&&0!==t&&this.getAvsecByNtica(t)}))}checkTicaAvsec(e){this.ticaAvsecProv=e.target.checked,console.log("Tica AVSEC company",this.ticaAvsecProv),this.ticaAvsecProv?(this.desuscribirseAvsecControl(),this.formulario.controls.avsecTicaProvisorio.setValue(!0),this.formulario.controls.avsecTica.reset(),this.formulario.controls.avsecNombre.reset(),this.formulario.controls.avsecNombre.enable(),this.formulario.controls.avsecNombre.setValidators([s.k0.required])):(this.suscribirseAvsecTicaControl(),this.formulario.controls.avsecTicaProvisorio.reset(),this.formulario.controls.avsecNombre.reset(),this.formulario.controls.avsecNombre.clearValidators()),this.formulario.controls.avsecNombre.updateValueAndValidity()}desuscribirseAvsecControl(){this.avsecTicaSubscription&&(this.spinnerAvsec=!1,this.avsecTicaSubscription.unsubscribe(),this.avsecTicaSubscription=void 0,console.log("Desuscrito de avsecTica"))}getAvsecByNtica(e){this.siscredService.getByNtica(e).subscribe({next:t=>{if(console.log("UsuarioSiscred",t),0===t.length)return k().fire({icon:"error",title:"Error",text:"No se encontr\xf3 el usuario con el n\xfamero de tica ingresado",heightAuto:!1}),void(this.spinnerAvsec=!1);this.formulario.controls.avsecNombre.setValue((t[0].usuario.nombre+" "+t[0].usuario.apellidoPaterno+" "+t[0].usuario.apellidoMaterno).toUpperCase()),console.log("formulario con avsec",this.formulario.value),this.spinnerAvsec=!1},error:t=>{console.log("Error",t),k().fire({icon:"error",title:"Error",text:"No se encontr\xf3 el usuario con el n\xfamero de tica ingresado",heightAuto:!1}),this.spinnerAvsec=!1}})}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(W),o.rXU(Z))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-avsec-escolta-traslado"]],inputs:{formulario:"formulario"},standalone:!0,features:[o.aNF],decls:68,vars:7,consts:[[3,"formGroup"],[1,"ion-padding-start","ion-padding-end"],[1,"text-lg","font-semibold","text-pantone-pro-black-c","pl-3","mt-4"],[1,"mt-3"],["size","2"],[1,""],["for","nroTica",1,"block","text-sm","font-medium","text-gray-700","required"],["type","number","id","nroTica","formControlName","avsecTica",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"mt-4"],[1,"flex","items-center"],["type","checkbox","id","avsecTicaProvisario","formControlName","avsecTicaProvisorio",1,"h-4","w-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500",3,"change"],["for","ticaProvisorio",1,"ml-2","block","text-sm","font-medium","text-gray-700"],["size","7"],[1,"pr-6"],["for","nombreAvsec",1,"block","text-sm","font-medium","text-gray-700","required"],["type","text","id","nombreAvsec","formControlName","avsecNombre",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["size","1",1,"flex","flex-col","justify-center","items-center"],["size","1"],["size","10"],[1,"grid","grid-cols-3","gap-4"],["for","horaSalida",1,"block","text-sm","font-medium","text-gray-700","required"],["id","horaSalida","formControlName","avsecTurno",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["value","1"],["value","2"],["value","3"],["value","4"],["for","horaInicioEscolta",1,"block","text-sm","font-medium","text-gray-700","required"],["type","time","id","horaInicioEscolta","formControlName","horaInicioEscolta",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[1,"pl-6"],["for","puenteEmbarque",1,"block","text-sm","font-medium","text-gray-700","required","text-nowrap"],["id","puenteEmbarque","formControlName","puenteEmbarque",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[3,"value"],[1,"flex","justify-center","items-center"],["type","button",1,"w-44","h-8","bg-pantone-312c","hover:bg-pantone-286c","text-white","rounded-lg",3,"click"],["size"," 1"],[1,"text-red-500","text-sm","mt-1"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),o.EFF(4,"AVSEC Escolta"),o.k0s()(),o.j41(5,"ion-grid",3)(6,"ion-row")(7,"ion-col",4)(8,"div",5)(9,"label",6),o.EFF(10," N\xb0 TICA"),o.k0s(),o.nrm(11,"input",7),o.DNE(12,Ra,2,0,"div",8),o.k0s()(),o.j41(13,"ion-col",4)(14,"div",9)(15,"div",10)(16,"input",11),o.bIt("change",function(l){return t.checkTicaAvsec(l)}),o.k0s(),o.j41(17,"label",12),o.EFF(18,"TICA Provisaria"),o.k0s()()()(),o.j41(19,"ion-col",13)(20,"div",14)(21,"label",15),o.EFF(22," Nombre"),o.k0s(),o.nrm(23,"input",16),o.DNE(24,wa,2,0,"div",8),o.k0s()(),o.j41(25,"ion-col",17),o.DNE(26,Pa,1,0,"ion-spinner"),o.k0s()()(),o.j41(27,"div")(28,"ion-grid")(29,"ion-row"),o.nrm(30,"ion-col",18),o.j41(31,"ion-col",19)(32,"div",20)(33,"div",14)(34,"label",21),o.EFF(35," Turno"),o.k0s(),o.j41(36,"select",22)(37,"option",23),o.EFF(38,"ALPHA"),o.k0s(),o.j41(39,"option",24),o.EFF(40,"BRAVO"),o.k0s(),o.j41(41,"option",25),o.EFF(42,"CHARLIE"),o.k0s(),o.j41(43,"option",26),o.EFF(44,"DELTA"),o.k0s()(),o.DNE(45,Da,2,0,"div",8),o.k0s(),o.j41(46,"div")(47,"label",27),o.EFF(48," Hora inicio escolta"),o.k0s(),o.nrm(49,"input",28),o.DNE(50,Na,2,0,"div",8),o.k0s(),o.j41(51,"div",29)(52,"label",30),o.EFF(53," Puente de Embarque"),o.k0s(),o.j41(54,"select",31),o.Z7z(55,Va,2,2,"option",32,ya),o.k0s(),o.DNE(57,Aa,2,0,"div",8),o.k0s()()(),o.nrm(58,"ion-col",18),o.k0s(),o.j41(59,"ion-row"),o.nrm(60,"ion-col",18),o.j41(61,"ion-col",19)(62,"div",20),o.nrm(63,"div"),o.j41(64,"div",33)(65,"button",34),o.bIt("click",function(){return t.registrarHora("horaInicioEscolta")}),o.EFF(66," Registrar hora "),o.k0s()()()(),o.nrm(67,"ion-col",35),o.k0s()()()()()),2&e&&(o.Y8G("formGroup",t.formulario),o.R7$(12),o.Y8G("ngIf",t.formulario.controls.avsecTica.invalid&&t.formulario.controls.avsecTica.touched),o.R7$(12),o.Y8G("ngIf",t.formulario.controls.avsecNombre.invalid&&t.formulario.controls.avsecNombre.touched),o.R7$(2),o.vxM(26,t.spinnerAvsec?26:-1),o.R7$(19),o.Y8G("ngIf",t.formulario.controls.avsecTurno.invalid&&t.formulario.controls.avsecTurno.touched),o.R7$(5),o.Y8G("ngIf",t.formulario.controls.horaInicioEscolta.invalid&&t.formulario.controls.horaInicioEscolta.touched),o.R7$(5),o.Dyx(t.puentesEmbarques),o.R7$(2),o.Y8G("ngIf",t.formulario.controls.puenteEmbarque.invalid&&t.formulario.controls.puenteEmbarque.touched))},dependencies:[c.w2,c.lO,s.YN,s.xH,s.y7,s.me,s.Q0,s.Zm,s.wz,s.BC,s.cb,s.X1,s.j4,s.JD,c.hU,c.ln,C.bT]}),n})();function Sa(r,n){if(1&r){const a=o.RV6();o.j41(0,"app-tabla-ticket-por-personal-aerolinea",14),o.bIt("emitirSeleccionados",function(t){o.eBV(a);const i=o.XpG();return o.Njj(i.recibirSeleccionados(t))})("totalRowsEmitter",function(t){o.eBV(a);const i=o.XpG();return o.Njj(i.recibirTotalTickets(t))}),o.k0s()}if(2&r){const a=o.XpG();o.Y8G("dataFormularios",a.dataFormularios)("datosCargados",a.datosCargados)}}let Ia=(()=>{var r;class n{constructor(e,t,i,l,d){this.router=e,this.trasladoService=t,this.fb=i,this.rutaActiva=l,this.service=d,this.evidencia=new o.bkB,this.title="Formulario de Objetos Retenidos",this.slidesEvidencia=[],this.idsFormularios=[],this.dataFormularios=[],this.ticketsSeleccionados=[],this.idsFormulariosSeleccionados=[],this.totalTicketsSeleccionados=0,this.idFormulariosSeleccionados=[],this.funcionarios=[],this.formulario=this.fb.group({companiaAerea:["",s.k0.required],vuelo:["",s.k0.required],origen:["",s.k0.required],destino:["",s.k0.required],formularios:[""],avsecTica:["",s.k0.required],avsecTicaProvisorio:[!1],avsecEvidencia:[""],avsecNombre:["",s.k0.required],horaVuelo:["",s.k0.required],avsecTurno:["",s.k0.required],horaInicioEscolta:["",s.k0.required],puenteEmbarque:["",s.k0.required]})}ngOnInit(){this.formulario.markAllAsTouched(),this.inicializarFechaYHora(),this.suscribirseARutaActiva()}suscribirseARutaActiva(){this.rutaActiva.paramMap.subscribe({next:e=>this.procesarParametrosRuta(e),error:e=>console.log(e)})}procesarParametrosRuta(e){var t=this;return(0,_.A)(function*(){const i=Number(e.get("companiaAereaId")),l=Number(e.get("numeroVuelo")),d="true"===e.get("escolta"),m=e.get("companiaAerea"),p=e.get("origen"),f=e.get("destino"),v=e.get("fechaHoraVuelo"),h=Number(e.get("puenteEmbarque"));t.dataEscolta=yield t.obtenerPendienteEscolta(i,l,h,null!=p?p:"",null!=f?f:"",null!=v?v:"",d),console.log("Data Escolta",t.dataEscolta),t.llenarControles(null!=m?m:"",l,null!=p?p:"",null!=f?f:""),t.obtenerIdFormularios(t.dataEscolta),t.obtenerDataFormularios(t.idsFormularios)})()}obtenerPendienteEscolta(e,t,i,l,d,m,p){return new Promise((f,v)=>{this.service.getTrasladoDetalle(e,t,i,l,d,p,m).subscribe({next:h=>{console.log("info getConPendiente",h),f(h)},error:h=>{console.error("Error al obtener pendiente con escolta:",h),v(h)}})})}llenarControles(e,t,i,l){this.formulario.controls.companiaAerea.setValue(e),this.formulario.controls.vuelo.setValue(t),this.formulario.controls.origen.setValue(i),this.formulario.controls.destino.setValue(l)}obtenerIdFormularios(e){console.log("obteniendo id de forms",e),e.forEach(t=>{this.idsFormularios.push(t.idFormulario)})}obtenerDataFormularios(e){const t=e.map(i=>this.service.getDataById(i).toPromise());console.log("Peticiones",t),Promise.all(t).then(i=>{this.dataFormularios=i,console.log("Todos los datos de formularios han sido cargados:",this.dataFormularios),this.datosCargados=!0}).catch(i=>{console.error("Error al obtener datos:",i)})}inicializarFechaYHora(){this.fecha=(new Date).toLocaleDateString(),this.hora=(new Date).toLocaleTimeString().split(" ")[0],setInterval(()=>{this.hora=(new Date).toLocaleTimeString().split(" ")[0]},1e3)}recibirTotalTickets(e){console.log("Total de tickets seleccionados",e),this.totalTicketsSeleccionados=e}recibirSeleccionados(e){console.log("Tickets seleccionados",e),this.ticketsSeleccionados=e}starAllIcons(){(0,F.a)({calendar:u.BJj,person:u.MVM,time:u.kBw,location:u.C5I,informationCircle:u.rxM,checkmarkCircle:u.AUS,closeCircle:u.P0k,checkmarkDoneCircle:u.kAU,checkmarkDoneCircleOutline:u.WgY,checkmarkDoneCircleSharp:u.kAU})}obtenerIdFormulariosSeleccionados(e){this.idsFormulariosSeleccionados=[],e.forEach(t=>{this.idsFormulariosSeleccionados.push(t.id)}),this.formulario.controls.formularios.setValue(this.idsFormulariosSeleccionados)}onSubmit(){if(this.obtenerIdFormulariosSeleccionados(this.ticketsSeleccionados),console.log("Personal",this.funcionarios),this.formulario.valid){console.log("Formulario v\xe1lido"),this.formulario.controls.puenteEmbarque.setValue(Number(this.formulario.controls.puenteEmbarque.value));const e=this.formulario.value;delete e.vuelo,delete e.companiaAerea,delete e.origen,delete e.destino,this.trasladoService.addTrasladoEscoltaEnTraslado(e).subscribe({next:t=>{console.log("Data traslado no escolta",t),k().fire({title:"\xa1Traslado no escolta registrado!",text:"El traslado no escolta ha sido registrado exitosamente.",icon:"success",heightAuto:!1,timer:2e3}).then(()=>{this.router.navigate(["/formularios/objetosRetenidos/bandeja-entrada-retenidos"]),this.formulario.reset()})},error:t=>{console.error("Error al enviar traslado no escolta:",t),k().fire({title:"Error al registrar traslado no escolta",text:"Ha ocurrido un error al registrar el traslado no escolta, por favor intente de nuevo.",icon:"error",heightAuto:!1})}})}else console.log("Formulario inv\xe1lido"),console.log(this.formulario.value)}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(x.Ix),o.rXU(B),o.rXU(s.ok),o.rXU(x.nX),o.rXU(P.K))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-traslados-escolta-retenidos"]],outputs:{evidencia:"evidencia"},standalone:!0,features:[o.aNF],decls:26,vars:6,consts:[[3,"title"],[1,"background"],[1,"container","mx-auto","ion-padding-start","ion-padding-end","ion-padding-bottom","rounded-lg"],[1,"ion-padding"],[3,"submit","formGroup"],[3,"formulario"],[1,"pl-1","pr-1"],[1,"mt-4"],[1,"text-lg","font-semibold","text-pantone-pro-black-c","pl-7"],[1,"mt-3"],[3,"dataFormularios","datosCargados"],[1,"-mt-2","text-sm","font-semibold","text-pantone-pro-black-c","pl-7"],[1,"pt-6","text-right","pr-9","pb-6"],["type","submit",1,"w-40","h-12","bg-pantone-312c","hover:bg-pantone-286c","text-white","rounded-lg"],[3,"emitirSeleccionados","totalRowsEmitter","dataFormularios","datosCargados"]],template:function(e,t){1&e&&(o.nrm(0,"app-navbar",0),o.j41(1,"ion-content",1)(2,"div",2),o.nrm(3,"app-title-traslado"),o.j41(4,"ion-card",3)(5,"form",4),o.bIt("submit",function(){return t.onSubmit()}),o.nrm(6,"app-datos-vuelo-traslado",5),o.j41(7,"div",6),o.nrm(8,"app-divider"),o.k0s(),o.nrm(9,"app-datos-avsec-escolta-traslado",5),o.j41(10,"div",6),o.nrm(11,"app-divider"),o.k0s(),o.j41(12,"div",7)(13,"div")(14,"h1",8),o.EFF(15,"Listado de Objetos "),o.k0s()(),o.j41(16,"div",9),o.DNE(17,Sa,1,2,"app-tabla-ticket-por-personal-aerolinea",10),o.j41(18,"div")(19,"h1",11),o.EFF(20),o.k0s()()()(),o.j41(21,"div",6),o.nrm(22,"app-divider"),o.k0s(),o.j41(23,"div",12)(24,"button",13),o.EFF(25," Guardar "),o.k0s()()()()()()),2&e&&(o.Y8G("title",t.title),o.R7$(5),o.Y8G("formGroup",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(3),o.Y8G("formulario",t.formulario),o.R7$(8),o.vxM(17,t.dataFormularios&&t.dataFormularios.length>0?17:-1),o.R7$(3),o.SpI("Tickets Seleccionados : ",t.totalTicketsSeleccionados,""))},dependencies:[c.b_,c.W9,C.MD,s.YN,s.qT,s.cb,s.X1,s.j4,A.a,D.h,qo,Xo,Oa,U],styles:["ion-content.background[_ngcontent-%COMP%]{--background: #f1f5f9}"]}),n})(),Ga=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-camera-icon"]],standalone:!0,features:[o.aNF],decls:3,vars:0,consts:[["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-800","dark:text-white"],["stroke","currentColor","stroke-linejoin","round","stroke-width","2","d","M4 18V8a1 1 0 0 1 1-1h1.5l1.707-1.707A1 1 0 0 1 8.914 5h6.172a1 1 0 0 1 .707.293L17.5 7H19a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1Z"],["stroke","currentColor","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"]],template:function(e,t){1&e&&(o.qSk(),o.j41(0,"svg",0),o.nrm(1,"path",1)(2,"path",2),o.k0s())}}),n})(),$a=(()=>{var r;class n{constructor(e){this.personalService=e}ngOnInit(){var e;console.log("tipoPersonal",this.tipoFuncionario),this.foto=null!==(e=this.personalService.getFotoTicaByTipo(this.tipoFuncionario))&&void 0!==e?e:""}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(G))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-evidencia-tica-popover"]],inputs:{tipoFuncionario:"tipoFuncionario"},standalone:!0,features:[o.aNF],decls:2,vars:1,consts:[["scrollY","false",1,"ion-padding"],["alt","",3,"src"]],template:function(e,t){1&e&&(o.j41(0,"ion-content",0),o.nrm(1,"img",1),o.k0s()),2&e&&(o.R7$(),o.FS9("src",t.foto,o.B4B))},dependencies:[c.W9]}),n})();const Ma=(r,n)=>({"bg-gray-50 border border-gray-300 text-gray-900":r,"bg-gray-200 border border-gray-700 text-gray-900":n});function Ba(r,n){1&r&&o.nrm(0,"ion-spinner")}let Ya=(()=>{var r;class n{constructor(e,t,i,l){this.fb=e,this.modalController=t,this.personalService=i,this.siscredService=l,this.isProvisoria=!1,this.spinner=!1,this.formulario=this.fb.group({tipoFuncionario:["",s.k0.required],nombre:["",s.k0.required],nroTica:["",s.k0.required],ticaProvisoria:[!1]})}ngOnInit(){var e=this;return(0,_.A)(function*(){var t;e.suscribirsenroTicaControl(),yield e.personalService.findPersonal(e.tipoFuncionario).then(i=>{e.funcionario=i}),e.formulario.controls.tipoFuncionario.setValue(e.funcionario.tipoFuncionario),null===(t=e.formulario.get("ticaProvisoria"))||void 0===t||t.valueChanges.subscribe(i=>{var l,d;i?(e.isProvisoria=!0,e.desuscribirsenroTicaControl(),null===(l=e.formulario.get("nombre"))||void 0===l||l.enable()):(e.isProvisoria=!1,e.suscribirsenroTicaControl(),null===(d=e.formulario.get("nombre"))||void 0===d||d.reset())})})()}suscribirsenroTicaControl(){var e;this.nroTicaSubscription||(console.log("Suscribirse a nroTica"),this.nroTicaSubscription=null===(e=this.formulario.get("nroTica"))||void 0===e?void 0:e.valueChanges.pipe((0,z.M)(()=>this.spinner=!0),$(2e3),(0,M.F)()).subscribe(t=>{console.log("Ntica",t),null!=t&&0!==t&&this.getPersonalByNtica(t)}))}desuscribirsenroTicaControl(){this.nroTicaSubscription&&(this.nroTicaSubscription.unsubscribe(),this.nroTicaSubscription=void 0,console.log("Desuscrito de nroTica"))}getPersonalByNtica(e){this.siscredService.getByNtica(e).subscribe({next:t=>{if(console.log("UsuarioSiscred",t),0===t.length)return k().fire({icon:"error",title:"Error",text:"No se encontr\xf3 el usuario con el n\xfamero de tica ingresado",heightAuto:!1}),void(this.spinner=!1);this.formulario.controls.nombre.setValue((t[0].usuario.nombre+" "+t[0].usuario.apellidoPaterno+" "+t[0].usuario.apellidoMaterno).toUpperCase()),this.spinner=!1},error:t=>{console.log("Error",t),k().fire({icon:"error",title:"Error",text:"No se encontr\xf3 el usuario con el n\xfamero de tica ingresado",heightAuto:!1}),this.spinner=!1}})}onSubmit(){var e=this;return(0,_.A)(function*(){if(e.formulario.valid){console.log("valido",e.formulario.value);try{e.personalService.updatePersonal(e.formulario.value),e.modalController.dismiss()}catch(t){console.error("Error",t)}}else console.log("Formulario invalido"),console.log(e.formulario.value)})()}swalFuncionarioAgregado(){k().fire({icon:"success",title:"Exito",text:"Funcionario agregado",heightAuto:!1}).then(()=>{this.modalController.dismiss()})}swalFuncionarioNoAgregado(){k().fire({icon:"error",title:"Error",text:"El funcionario ya existe",heightAuto:!1})}onDismiss(){this.modalController.dismiss()}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(s.ok),o.rXU(c.W3),o.rXU(G),o.rXU(Z))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-modal-editar-funcionario"]],inputs:{tipoFuncionario:"tipoFuncionario"},standalone:!0,features:[o.aNF],decls:38,vars:7,consts:[[1,"bg-blue-900","text-white"],[1,"text-white"],["slot","end"],["color","light",3,"click"],[1,"ion-padding"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","tipoPersonal",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["readonly","","id","tipoPersonal","formControlName","tipoFuncionario",1,"w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[1,"grid","grid-cols-2","gap-4"],["size","8"],["for","nroTica",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","nroTica","type","number","formControlName","nroTica","placeholder","N\xfamero de TICA",1,"w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["size","4",1,"flex","items-center","justify-center"],[1,"flex","items-center"],["id","ticaProvisoria","type","checkbox","formControlName","ticaProvisoria",1,"mr-2","text-blue-600","focus:ring-blue-500"],["for","ticaProvisoria",1,"text-sm","font-medium","text-gray-700"],["size","10"],["for","nombre",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","nombre","type","text","formControlName","nombre","placeholder","Nombre",1,"mt-1","block","w-full","border","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],["size","2",1,"flex","flex-col","justify-center","items-center"],[1,"text-right"],["type","submit","expand","block",1,"btn-submit",3,"disabled"]],template:function(e,t){1&e&&(o.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title",1),o.EFF(3,"Modificar funcionario"),o.k0s(),o.j41(4,"ion-buttons",2)(5,"ion-button",3),o.bIt("click",function(){return t.onDismiss()}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content",4)(8,"form",5),o.bIt("ngSubmit",function(){return t.onSubmit()}),o.j41(9,"div")(10,"label",6),o.EFF(11,"Tipo de Personal"),o.k0s(),o.nrm(12,"input",7),o.k0s(),o.nrm(13,"div",8),o.j41(14,"ion-grid")(15,"ion-row")(16,"ion-col",9)(17,"div")(18,"label",10),o.EFF(19,"N\xfamero de TICA"),o.k0s(),o.nrm(20,"input",11),o.k0s()(),o.j41(21,"ion-col",12)(22,"div",13),o.nrm(23,"input",14),o.j41(24,"label",15),o.EFF(25,"Tica Provisoria"),o.k0s()()()()(),o.j41(26,"ion-grid")(27,"ion-row")(28,"ion-col",16)(29,"div")(30,"label",17),o.EFF(31,"Nombre"),o.k0s(),o.nrm(32,"input",18),o.k0s()(),o.j41(33,"ion-col",19),o.DNE(34,Ba,1,0,"ion-spinner"),o.k0s()()(),o.j41(35,"div",20)(36,"ion-button",21),o.EFF(37," Agregar "),o.k0s()()()()),2&e&&(o.R7$(8),o.Y8G("formGroup",t.formulario),o.R7$(24),o.Y8G("ngClass",o.l_i(4,Ma,t.isProvisoria,!t.isProvisoria)),o.R7$(2),o.vxM(34,t.spinner?34:-1),o.R7$(2),o.Y8G("disabled",t.formulario.invalid))},dependencies:[c.w2,c.QW,c.hU,c.ln,c.lO,c.W9,c.eU,c.BC,c.ai,c.Jm,s.X1,s.qT,s.me,s.Q0,s.Zm,s.BC,s.cb,s.j4,s.JD,s.YN,C.YU],styles:["ion-modal{--height: 50%;--border-radius: 16px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}ion-modal::part(backdrop){background:#d1d5db;opacity:1}ion-modal ion-toolbar{--background: #003A7E;--color: white}ion-content.background{--background: #f1f5f9}ion-modal.custom-modal{--height: 30%}.btn-submit{--background: var(--color-pantone-312c)}\n"],encapsulation:2}),n})(),Ua=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-edit-person-icon"]],standalone:!0,features:[o.aNF],decls:3,vars:0,consts:[[1,"flex","justify-center","items-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-800","dark:text-white"],["stroke","currentColor","stroke-linecap","square","stroke-linejoin","round","stroke-width","2","d","M7 19H5a1 1 0 0 1-1-1v-1a3 3 0 0 1 3-3h1m4-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm7.441 1.559a1.907 1.907 0 0 1 0 2.698l-6.069 6.069L10 19l.674-3.372 6.07-6.07a1.907 1.907 0 0 1 2.697 0Z"]],template:function(e,t){1&e&&(o.j41(0,"div",0),o.qSk(),o.j41(1,"svg",1),o.nrm(2,"path",2),o.k0s()())}}),n})();var L=b(7691);function qa(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Tipo Funcionario "),o.k0s())}function Xa(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," N\xb0 TICA "),o.k0s())}function Ha(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Nombre "),o.k0s())}function Za(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Tica Provisoria "),o.k0s())}function za(r,n){if(1&r&&o.nrm(0,"ion-checkbox",11),2&r){const a=o.XpG().row;o.Y8G("checked",a.ticaProvisoria)}}function La(r,n){if(1&r&&o.DNE(0,za,1,1,"ion-checkbox",11),2&r){const a=n.row;o.vxM(0,!0===a.ticaProvisoria||!1===a.ticaProvisoria?0:-1)}}function Ja(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Acciones "),o.k0s())}function Qa(r,n){if(1&r){const a=o.RV6();o.j41(0,"div")(1,"button",15),o.bIt("click",function(t){o.eBV(a);const i=o.XpG().row,l=o.XpG();return o.Njj(l.openFotoPopover(t,i.tipoFuncionario))}),o.j41(2,"div",12),o.qSk(),o.j41(3,"svg",16),o.nrm(4,"path",17)(5,"path",18),o.k0s()()()()}}function Wa(r,n){if(1&r){const a=o.RV6();o.j41(0,"div")(1,"button",15),o.bIt("click",function(){o.eBV(a);const t=o.XpG().row,i=o.XpG();return o.Njj(i.tomarEvidenciaTica(t.tipoFuncionario))}),o.j41(2,"div",12),o.nrm(3,"app-camera-icon"),o.k0s()()()}}function Ka(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",12)(1,"div",13)(2,"div")(3,"button",14),o.bIt("click",function(){const t=o.eBV(a).row,i=o.XpG();return o.Njj(i.openEditModal(t.tipoFuncionario))}),o.j41(4,"div",12),o.nrm(5,"app-edit-person-icon"),o.k0s()()(),o.DNE(6,Qa,6,0,"div")(7,Wa,4,0),o.k0s()()}if(2&r){const a=n.row;o.R7$(6),o.vxM(6,a.fotoTica?6:7)}}let oi=(()=>{var r;class n{constructor(e,t,i){this.modalController=e,this.personalService=t,this.popoverController=i,this.ColumnMode=g.oZ,this.rows=[],this.temp=[],this.filteredRows=[],this.columns=[{prop:"tipoPersonal",name:"TipoPersonal",headerClass:"col-tipoPersonal",cellClass:"col-tipoPersonal"},{prop:"nroTica",name:"NroTica",headerClass:"col-nroTica",cellClass:"col-nroTica"},{prop:"nombre",name:"Nombre",headerClass:"col-nombre",cellClass:"col-nombre"},{prop:"ticaProvisoria",name:"ticaProvisoria",headerClass:"col-ticaProvisoria",cellClass:"col-ticaProvisoria"}]}ngOnInit(){this.startAllIcons(),this.getDataForTable()}getDataForTable(){this.personalService.getPersonal().subscribe({next:e=>{console.log("new data",e),this.loadingIndicator=!0,this.rows=[...e],this.temp=[...e],this.filteredRows=[...e],this.loadingIndicator=!1,console.log("rows",this.rows)},error:e=>{console.log(e)}})}getRowClass(e){const t=parseInt(e.nroTica,10)||0;return console.log("nroTica",t),t%2==0?"datatable-row-odd":"datatable-row-even"}startAllIcons(){(0,F.a)({filterOutline:u.PyO,trashOutline:u.P1A,create:u.vtF})}tomarEvidenciaTica(e){var t=this;return(0,_.A)(function*(){const i=yield t.fotoEvidenciaTica();try{const l=yield t.personalService.findPersonal(e);l?(l.fotoTica=i,console.log("Personal encontrado:",l),t.personalService.updatePersonal(l)):console.error("No se encontr\xf3 el tipo de personal:",e),console.log("Personal encontrado:",l)}catch(l){console.error("No se encontr\xf3 el tipo de personal:",e,l)}})()}openEditModal(e){var t=this;return(0,_.A)(function*(){return yield(yield t.modalController.create({component:Ya,componentProps:{tipoFuncionario:e}})).present()})()}openFotoPopover(e,t){var i=this;return(0,_.A)(function*(){console.log("tipoFuncionario",t);const l=yield i.popoverController.create({component:$a,event:e,side:"left",componentProps:{tipoFuncionario:t}});yield l.present();const{role:d}=yield l.onDidDismiss();console.log(`Popover dismissed with role: ${d}`)})()}resetPersonal(e){try{this.personalService.resetPersonalByTipo(e)}catch(t){console.error("Error",t)}}fotoEvidenciaTica(){return(0,_.A)(function*(){return(yield L.i7.getPhoto({quality:80,allowEditing:!1,resultType:L.LK.DataUrl,width:800,height:600})).dataUrl})()}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(c.W3),o.rXU(G),o.rXU(c.IE))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-tabla-ticas-firmas"]],standalone:!0,features:[o.aNF],decls:18,vars:16,consts:[["table",""],["size","12"],[1,"bootstrap",3,"columnMode","scrollbarH","headerHeight","footerHeight","rowHeight","loadingIndicator","limit","rows","rowClass"],["prop","tipoFuncionario",3,"width"],["ngx-datatable-header-template",""],["prop","nroTica",3,"width"],["prop","nombre",3,"width"],["prop","ticaProvisoria",3,"width"],["ngx-datatable-cell-template",""],[3,"frozenRight","width"],[1,"tableHeader"],["disabled","",3,"checked"],[1,"flex","justify-center","items-center"],[1,"grid","grid-cols-2","gap-2"],["type","button",1,"w-10","h-8","bg-pantone-130c","hover:bg-pantone-130hover","rounded-lg",3,"click"],["type","button",1,"w-10","h-8","bg-pantone-312c","hover:bg-pantone-286c","rounded-lg",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-white"],["stroke","currentColor","stroke-width","2","d","M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"],["stroke","currentColor","stroke-width","2","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"]],template:function(e,t){1&e&&(o.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",1)(3,"ion-card")(4,"ngx-datatable",2,0)(6,"ngx-datatable-column",3),o.DNE(7,qa,2,0,"ng-template",4),o.k0s(),o.j41(8,"ngx-datatable-column",5),o.DNE(9,Xa,2,0,"ng-template",4),o.k0s(),o.j41(10,"ngx-datatable-column",6),o.DNE(11,Ha,2,0,"ng-template",4),o.k0s(),o.j41(12,"ngx-datatable-column",7),o.DNE(13,Za,2,0,"ng-template",4)(14,La,1,1,"ng-template",8),o.k0s(),o.j41(15,"ngx-datatable-column",9),o.DNE(16,Ja,2,0,"ng-template",4)(17,Ka,8,1,"ng-template",8),o.k0s()()()()()()),2&e&&(o.R7$(4),o.Y8G("columnMode",t.ColumnMode.force)("scrollbarH",!0)("headerHeight",50)("footerHeight",50)("rowHeight","auto")("loadingIndicator",t.loadingIndicator)("scrollbarH",!0)("limit",7)("rows",t.rows)("rowClass",t.getRowClass),o.R7$(2),o.Y8G("width",140),o.R7$(2),o.Y8G("width",75),o.R7$(2),o.Y8G("width",120),o.R7$(2),o.Y8G("width",10),o.R7$(3),o.Y8G("frozenRight",!0)("width",75))},dependencies:[c.eY,c.hU,c.ln,c.lO,c.b_,g.Kj,g.ge,g.ed,g.V,g.QI,s.YN,Ga,Ua],styles:[".pad[_ngcontent-%COMP%]{border:1px solid #000;width:100%}ion-alert.custom-alert[_ngcontent-%COMP%]{--backdrop-opacity: .7}.custom-alert[_ngcontent-%COMP%]   .alert-button-group[_ngcontent-%COMP%]{padding:8px}button.alert-button.alert-button-confirm[_ngcontent-%COMP%]{background-color:var(--ion-color-success);color:var(--ion-color-success-contrast)}.md[_ngcontent-%COMP%]   button.alert-button.alert-button-confirm[_ngcontent-%COMP%]{border-radius:4px}.ios[_ngcontent-%COMP%]   .custom-alert[_ngcontent-%COMP%]   button.alert-button[_ngcontent-%COMP%]{border:.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0),.2)}.ios[_ngcontent-%COMP%]   button.alert-button.alert-button-cancel[_ngcontent-%COMP%]{border-right:0;border-bottom-left-radius:13px;border-top-left-radius:13px}.ios[_ngcontent-%COMP%]   button.alert-button.alert-button-confirm[_ngcontent-%COMP%]{border-bottom-right-radius:13px;border-top-right-radius:13px}.col-tipoPersonal[_ngcontent-%COMP%]{background-color:#f0f0f0;font-weight:700}.col-nombre[_ngcontent-%COMP%]{background-color:#e8f5e9;text-align:center}.col-nroTica[_ngcontent-%COMP%]{background-color:#fff3e0;font-style:italic}"]}),n})();function ei(r,n){1&r&&(o.j41(0,"div",15),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function ti(r,n){1&r&&(o.j41(0,"div",15),o.EFF(1," Este campo es obligatorio. "),o.k0s())}function ri(r,n){1&r&&(o.j41(0,"div",15),o.EFF(1," Este campo es obligatorio. "),o.k0s())}let ai=(()=>{var r;class n{constructor(){}ngOnInit(){this.formulario.markAllAsTouched()}registrarHora(e){const t=(new Date).toLocaleTimeString().split(" ")[0],i=this.WformatToHHmm(t);var l;if("horaFinEscolta"===e)null===(l=this.formulario.get("horaFinEscolta"))||void 0===l||l.setValue(i);else if("horaInicioEscolta"===e){var d;null===(d=this.formulario.get("horaInicioEscolta"))||void 0===d||d.setValue(i)}else if("horaLlegadaPuente"===e){var m;null===(m=this.formulario.get("horaLlegadaPuenteEmbarque"))||void 0===m||m.setValue(i)}}WformatToHHmm(e){const t=e.split(":");return`${t[0].padStart(2,"0")}:${t[1].padStart(2,"0")}`}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-entrega-traslado"]],inputs:{formulario:"formulario"},standalone:!0,features:[o.aNF],decls:30,vars:4,consts:[[3,"formGroup"],[1,"mt-4"],[1,"text-lg","font-semibold","text-pantone-pro-black-c","pl-7"],[1,"grid","grid-cols-3","gap-4","mt-4"],[1,"flex","flex-col","items-center"],[1,"w-full"],["for","horaLlegadaPuente",1,"block","text-sm","font-medium","text-gray-700","required","text-center","w-full","text-nowrap"],["type","time","id","horaLlegadaPuente","formControlName","horaLlegadaPuenteEmbarque",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["class","text-red-500 text-sm mt-1 text-center",4,"ngIf"],[1,"mt-2"],["type","button",1,"w-full","bg-pantone-312c","hover:bg-pantone-286c","text-white","rounded-lg","p-2",3,"click"],["for","matriculaAeronave",1,"block","text-sm","font-medium","text-gray-700","required","text-center"],["type","text","id","matriculaAeronave","formControlName","matriculaAeronave",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],["for","horaFinEscolta",1,"block","text-sm","font-medium","text-gray-700","required","text-center"],["type","time","id","horaFinEscolta","formControlName","horaFinEscolta",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[1,"text-red-500","text-sm","mt-1","text-center"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),o.EFF(4,"Datos de Entrega"),o.k0s()(),o.j41(5,"div",3)(6,"div",4)(7,"div",5)(8,"label",6),o.EFF(9," Hora llegada puente de embarque "),o.k0s(),o.nrm(10,"input",7),o.DNE(11,ei,2,0,"div",8),o.k0s(),o.j41(12,"div",9)(13,"button",10),o.bIt("click",function(){return t.registrarHora("horaLlegadaPuente")}),o.EFF(14," Registrar hora "),o.k0s()()(),o.j41(15,"div",4)(16,"div",5)(17,"label",11),o.EFF(18," Matr\xedcula de aeronave "),o.k0s(),o.nrm(19,"input",12),o.DNE(20,ti,2,0,"div",8),o.k0s()(),o.j41(21,"div",4)(22,"div",5)(23,"label",13),o.EFF(24," Hora Fin de Escolta "),o.k0s(),o.nrm(25,"input",14),o.DNE(26,ri,2,0,"div",8),o.k0s(),o.j41(27,"div",9)(28,"button",10),o.bIt("click",function(){return t.registrarHora("horaFinEscolta")}),o.EFF(29," Registrar hora "),o.k0s()()()()()()),2&e&&(o.Y8G("formGroup",t.formulario),o.R7$(11),o.Y8G("ngIf",t.formulario.controls.horaLlegadaPuenteEmbarque.invalid&&t.formulario.controls.horaLlegadaPuenteEmbarque.touched),o.R7$(9),o.Y8G("ngIf",t.formulario.controls.matriculaAeronave.invalid&&t.formulario.controls.matriculaAeronave.touched),o.R7$(6),o.Y8G("ngIf",t.formulario.controls.horaFinEscolta.invalid&&t.formulario.controls.horaFinEscolta.touched))},dependencies:[s.YN,s.me,s.BC,s.cb,s.X1,s.j4,s.JD,C.bT]}),n})(),Zo=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-avsec-escolta-traslado-entregado"]],inputs:{formulario:"formulario"},standalone:!0,features:[o.aNF],decls:30,vars:20,consts:[[3,"formGroup"],[1,"ion-padding-start","ion-padding-end"],[1,"text-lg","font-semibold","text-pantone-pro-black-c","pl-3","mt-4"],[1,"mt-3"],["size","6"],[3,"formulario","formControlName","label"],["size","3"],[1,"mt-4"],[1,"flex","items-center"],["readonly","","type","checkbox","id","avsecTicaProvisario","formControlName","avsecTicaProvisorio",1,"h-4","w-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500"],["for","ticaProvisorio",1,"ml-2","block","text-sm","font-medium","text-gray-700"],["size","1"],["size","10"],[1,"grid","grid-cols-3","gap-4"],[1,"pr-6"],[3,"formulario","formControlName","label","placeholder"],[3,"formulario","formControlName","label","placeholder","type"],[1,"pl-6"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),o.EFF(4,"AVSEC Escolta"),o.k0s()(),o.j41(5,"ion-grid",3)(6,"ion-row")(7,"ion-col",4),o.nrm(8,"app-form-input",5),o.k0s(),o.j41(9,"ion-col",6),o.nrm(10,"app-form-input",5),o.k0s(),o.j41(11,"ion-col",6)(12,"div",7)(13,"div",8),o.nrm(14,"input",9),o.j41(15,"label",10),o.EFF(16,"TICA Provisaria"),o.k0s()()()()()(),o.j41(17,"div")(18,"ion-grid")(19,"ion-row"),o.nrm(20,"ion-col",11),o.j41(21,"ion-col",12)(22,"div",13)(23,"div",14),o.nrm(24,"app-form-input",15),o.k0s(),o.j41(25,"div"),o.nrm(26,"app-form-input",16),o.k0s(),o.j41(27,"div",17),o.nrm(28,"app-form-input",15),o.k0s()()(),o.nrm(29,"ion-col",11),o.k0s()()()()()),2&e&&(o.Y8G("formGroup",t.formulario),o.R7$(8),o.Y8G("formulario",t.formulario)("formControlName","avsecNombre")("label","Nombre"),o.R7$(2),o.Y8G("formulario",t.formulario)("formControlName","avsecTica")("label","N\xb0 TICA"),o.R7$(14),o.Y8G("formulario",t.formulario)("formControlName","avsecTurno")("label","Turno")("placeholder","Turno AVSEC"),o.R7$(2),o.Y8G("formulario",t.formulario)("formControlName","horaInicioEscolta")("label","Hora de inicio escolta")("placeholder","Hora inicio escolta")("type","time"),o.R7$(2),o.Y8G("formulario",t.formulario)("formControlName","puenteEmbarque")("label","puente de Embarque")("placeholder","Puente Embarque"))},dependencies:[c.ln,c.hU,c.lO,s.YN,s.Zm,s.BC,s.cb,s.X1,s.j4,s.JD,O]}),n})();function ii(r,n){1&r&&(o.j41(0,"span",9),o.EFF(1," Ticket "),o.k0s())}function ni(r,n){1&r&&(o.j41(0,"span",9),o.EFF(1," Objetos "),o.k0s())}function si(r,n){1&r&&(o.j41(0,"span",9),o.EFF(1," Pasajero "),o.k0s())}function li(r,n){1&r&&(o.j41(0,"span",9),o.EFF(1," Formulario "),o.k0s())}function ci(r,n){if(1&r){const a=o.RV6();o.j41(0,"div",10)(1,"button",11),o.bIt("click",function(){const t=o.eBV(a).row,i=o.XpG();return o.Njj(i.goToFormulario(t.id))}),o.j41(2,"div",10),o.qSk(),o.j41(3,"svg",12),o.nrm(4,"path",13),o.k0s()()()()}}let ro=(()=>{var r;class n{constructor(e){this.router=e,this.ColumnMode=g.oZ,this.rows=[],this.temp=[],this.filteredRows=[]}ngOnInit(){this.startAllIcons(),console.log("dataFormsss",this.dataFormularios)}ngOnChanges(e){e.datosCargados&&e.datosCargados.currentValue&&(console.log("Datos cargados detectados en el hijo:",this.dataFormularios),this.dataForTable(this.dataFormularios))}dataForTable(e){console.log("new data",e),this.loadingIndicator=!0,this.rows=[...e],this.temp=[...e],this.filteredRows=[...e],this.loadingIndicator=!1,console.log("rows",this.rows)}startAllIcons(){(0,F.a)({filterOutline:u.PyO,trashOutline:u.P1A})}goToFormulario(e){console.log("ID",e),this.router.navigate([`/formularios/objetosRetenidos/form-retiro-retenidos/${e}`])}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(x.Ix))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-tabla-tickets-seleccionados"]],inputs:{dataFormularios:"dataFormularios",datosCargados:"datosCargados"},standalone:!0,features:[o.OA$,o.aNF],decls:15,vars:13,consts:[["table",""],["size","12"],[1,"bootstrap",3,"columnMode","headerHeight","footerHeight","rowHeight","loadingIndicator","scrollbarH","limit","rows"],["prop","ticket",3,"width"],["ngx-datatable-header-template",""],["prop","objetosRetenidos.length","cellClass","datatable-grid-cell",3,"width"],["prop","paxNombre","cellClass","datatable-grid-cell",3,"width"],["prop","formulario",3,"width","frozenRight"],["ngx-datatable-cell-template",""],[1,"tableHeader"],[1,"flex","justify-center","align-middle","items-center"],[1,"w-10","h-8","bg-pantone-130c","hover:bg-pantone-130hover","rounded-lg",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-800","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 12H4m12 0-4 4m4-4-4-4m3-4h2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-2"]],template:function(e,t){1&e&&(o.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",1)(3,"ion-card")(4,"ngx-datatable",2,0)(6,"ngx-datatable-column",3),o.DNE(7,ii,2,0,"ng-template",4),o.k0s(),o.j41(8,"ngx-datatable-column",5),o.DNE(9,ni,2,0,"ng-template",4),o.k0s(),o.j41(10,"ngx-datatable-column",6),o.DNE(11,si,2,0,"ng-template",4),o.k0s(),o.j41(12,"ngx-datatable-column",7),o.DNE(13,li,2,0,"ng-template",4)(14,ci,5,0,"ng-template",8),o.k0s()()()()()()),2&e&&(o.R7$(4),o.Y8G("columnMode",t.ColumnMode.force)("headerHeight",50)("footerHeight",50)("rowHeight","auto")("loadingIndicator",t.loadingIndicator)("scrollbarH",!0)("limit",10)("rows",t.rows),o.R7$(2),o.Y8G("width",1),o.R7$(2),o.Y8G("width",1),o.R7$(2),o.Y8G("width",1),o.R7$(2),o.Y8G("width",1)("frozenRight",!0))},dependencies:[c.b_,c.ln,c.hU,c.lO,g.Kj,g.ge,g.ed,g.V,g.QI]}),n})(),ao=(()=>{var r;class n{constructor(){}ngOnInit(){console.log("forms",this.formulario.value)}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-vuelo-traslado-entregado"]],inputs:{formulario:"formulario"},standalone:!0,features:[o.aNF],decls:14,vars:17,consts:[[3,"formGroup"],[1,"text-lg","font-semibold","text-pantone-pro-black-c","pl-7","mt-4"],[1,"grid","grid-cols-5","gap-4","mt-4"],[1,"pl-6"],[3,"formulario","formControlName","label","placeholder"],[3,"formulario","formControlName","label"],[1,"pr-6"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div")(2,"h1",1),o.EFF(3,"Datos de Vuelo"),o.k0s()(),o.j41(4,"div",2)(5,"div",3),o.nrm(6,"app-form-input",4),o.k0s(),o.j41(7,"div"),o.nrm(8,"app-form-input",5),o.k0s(),o.j41(9,"div"),o.nrm(10,"app-form-input",5),o.k0s(),o.nrm(11,"app-form-input",5),o.j41(12,"div",6),o.nrm(13,"app-form-input",5),o.k0s()()()),2&e&&(o.Y8G("formGroup",t.formulario),o.R7$(6),o.Y8G("formulario",t.formulario)("formControlName","companiaAerea")("label","Compa\xf1ia")("placeholder","companiaAerea"),o.R7$(2),o.Y8G("formulario",t.formulario)("formControlName","vuelo")("label","Vuelo"),o.R7$(2),o.Y8G("formulario",t.formulario)("formControlName","origen")("label","Origen"),o.R7$(),o.Y8G("formulario",t.formulario)("formControlName","destino")("label","Destino"),o.R7$(2),o.Y8G("formulario",t.formulario)("formControlName","horaVuelo")("label","Hora Salida"))},dependencies:[O,s.YN,s.BC,s.cb,s.X1,s.j4,s.JD]}),n})();var io=b(7468),di=b(6697);function ui(r,n){if(1&r&&o.nrm(0,"app-tabla-tickets-seleccionados",10),2&r){const a=o.XpG();o.Y8G("datosCargados",a.datosCargados)("dataFormularios",a.dataFormularios)}}function mi(r,n){if(1&r){const a=o.RV6();o.j41(0,"app-swiper",24),o.bIt("deleteSlideEvent",function(t){o.eBV(a);const i=o.XpG();return o.Njj(i.onDeleteSlide(t))}),o.k0s()}if(2&r){const a=o.XpG();o.Y8G("slides",a.slidesEvidencia)}}function pi(r,n){1&r&&(o.j41(0,"div",25)(1,"p",26),o.EFF(2,"No hay evidencia"),o.k0s()())}let fi=(()=>{var r;class n{constructor(e,t,i,l,d,m){this.personalService=e,this.trasladoService=t,this.fb=i,this.rutaActiva=l,this.service=d,this.router=m,this.evidencia=new o.bkB,this.title="Formulario de Objetos Retenidos en Traslado",this.observacionPredeterminada="Se entregan objetos retenidos sin novedades.",this.dataFormularios=[],this.trasladoResumido=[],this.trasladoCompleto=[],this.idFormularios=[],this.slidesEvidencia=[],this.totalTicketsSeleccionados=0,this.formulario=this.fb.group({companiaAerea:[""],vuelo:[""],origen:[""],destino:[""],formularios:[""],avsecTica:[""],avsecTicaProvisorio:[{value:"",disabled:!0}],avsecEvidencia:[""],avsecNombre:[""],horaVuelo:[""],avsecTurno:[""],horaInicioEscolta:[""],puenteEmbarque:[""],horaFinEscolta:["",s.k0.required],horaLlegadaPuenteEmbarque:["",s.k0.required],usroCompTica:["",s.k0.required],usroCompNombre:[""],usroCompTicaProvisorio:[""],usroCompEvidencia:[""],receptorZZTica:["",s.k0.required],receptorZZNombre:[""],receptorZZTicaProvisorio:[""],receptorZZEvidencia:[""],cotTica:["",s.k0.required],cotNombre:[""],cotTicaProvisorio:[""],cotEvidencia:[""],bodegaTica:["",s.k0.required],bodegaNombre:[""],bodegaTicaProvisorio:[""],bodegaEvidencia:[""],observacion:[""],requiereEscolta:[""],fechaHora:[""],fechaHoraCreacion:[""],matriculaAeronave:["",s.k0.required]})}ngOnInit(){this.formulario.markAllAsTouched(),this.suscribirseARutaActiva()}onSubmit(){if(this.obtenerDatosFuncionarios(),this.asignarDatosFuncionariosAlFormulario(this.funcionarios),this.formulario.valid){console.log("Formulario valido"),console.log(this.formulario.value);const e=this.formulario.value;e.id=this.idTraslado,this.slidesEvidencia.length>0&&(e.evidencias=this.slidesEvidencia.map(t=>t.dataUrl)),console.log("Traslado:",e.evidencias),delete e.formularios,delete e.vuelo,delete e.companiaAerea,delete e.origen,delete e.destino,delete e.horaVuelo,delete e.puenteEmbarque,delete e.requiereEscolta,delete e.horaInicioEscolta,delete e.avsecEvidencia,delete e.avsecTica,delete e.avsecTicaProvisorio,delete e.avsecNombre,delete e.avsecTurno,delete e.fechaHoraCreacion,delete e.fechaHora,console.log("TrasladoFinal:",e),this.trasladoService.finalizarTrasladoEscolta(e).subscribe({next:t=>{console.log(t),k().fire({title:"Traslado finalizado",text:"El traslado ha sido finalizado con \xe9xito",icon:"success",confirmButtonText:"Aceptar",heightAuto:!1}).then(()=>{this.router.navigate(["/formularios/objetosRetenidos/bandeja-entrada-traslados"])}),this.emitirEvidenia()},error:t=>console.error(t)})}else console.log("Formulario invalido"),console.log(this.formulario.value)}suscribirseARutaActiva(){this.rutaActiva.paramMap.subscribe({next:e=>this.obtenerParams(e),error:e=>console.error(e)})}obtenerParams(e){var t=this;return(0,_.A)(function*(){const i=e.get("id");t.idTraslado=Number(i),yield t.obtenerDataTraslado(i),t.obtenerIdFormulario(),t.obtenerDataFormularios(t.idFormularios),t.llenarControles()})()}obtenerDataTraslado(e){return new Promise((t,i)=>{(0,io.p)([this.trasladoService.getTrasladoById(e),this.service.getTrasladoById(e)]).subscribe({next:([l,d])=>{console.log("Data traslado",l),console.log("Data traslado",d),this.trasladoCompleto=l,this.trasladoResumido=d,t()},error:l=>{console.error(l),i()}})})}obtenerIdFormulario(){console.log(this.trasladoResumido),console.log(this.trasladoCompleto),this.idFormularios=this.trasladoResumido.map(e=>e.idFormulario),console.log(this.idFormularios)}obtenerDataFormularios(e){const t=e.map(i=>this.service.getDataById(i).toPromise());console.log("Peticiones",t),Promise.all(t).then(i=>{this.dataFormularios=i,console.log("Todos los datos de formularios han sido cargados:",this.dataFormularios),this.datosCargados=!0}).catch(i=>{console.error("Error al obtener datos:",i)})}llenarControles(){this.formulario.controls.companiaAerea.setValue(this.trasladoResumido[0].companiaVuelo.companiaAereaData.nombre),this.formulario.controls.vuelo.setValue(this.trasladoResumido[0].companiaVuelo.numeroVuelo),this.formulario.controls.origen.setValue(this.trasladoResumido[0].origen),this.formulario.controls.destino.setValue(this.trasladoResumido[0].destino),this.formulario.controls.horaVuelo.setValue(this.trasladoResumido[0].fechaHoraVuelo.split("T")[1]),this.formulario.controls.avsecTica.setValue(this.trasladoCompleto.avsecTica),this.formulario.controls.avsecTicaProvisorio.setValue(this.trasladoCompleto.avsecTicaProvisorio),this.trasladoCompleto.avsecNombre&&this.formulario.controls.avsecNombre.setValue(this.trasladoCompleto.avsecNombre),this.formulario.controls.avsecTurno.setValue(this.trasladoCompleto.avsecTurno),this.formulario.controls.horaInicioEscolta.setValue(this.trasladoCompleto.horaInicioEscolta),this.formulario.controls.puenteEmbarque.setValue(this.trasladoCompleto.puenteEmbarque.nombre),this.formulario.controls.observacion.setValue(this.observacionPredeterminada)}obtenerDatosFuncionarios(){return this.personalService.personal$.pipe((0,di.s)(1)).subscribe({next:e=>{console.log("Datos cargados detectados en el hijo:",e),this.funcionarios=e},error:e=>console.error(e)})}asignarDatosFuncionariosAlFormulario(e){var t,i,l,d,m,p,f,v,h,y,R,E,V,w,S,j,T,no,so,lo,co,uo,mo,po,fo,go,bo,ho,vo,_o,Co,To;this.formulario.controls.usroCompTica.setValue(null!==(t=null===(i=e[0])||void 0===i?void 0:i.nroTica)&&void 0!==t?t:""),this.formulario.controls.usroCompTicaProvisorio.setValue(null!==(l=null===(d=e[0])||void 0===d?void 0:d.ticaProvisoria)&&void 0!==l&&l),this.formulario.controls.usroCompNombre.setValue(null!==(m=null===(p=e[0])||void 0===p?void 0:p.nombre)&&void 0!==m?m:""),this.formulario.controls.usroCompEvidencia.setValue(null!==(f=null===(v=e[0])||void 0===v?void 0:v.fotoTica)&&void 0!==f?f:""),this.formulario.controls.receptorZZTica.setValue(null!==(h=null===(y=e[1])||void 0===y?void 0:y.nroTica)&&void 0!==h?h:""),this.formulario.controls.receptorZZTicaProvisorio.setValue(null!==(R=null===(E=e[1])||void 0===E?void 0:E.ticaProvisoria)&&void 0!==R&&R),this.formulario.controls.receptorZZNombre.setValue(null!==(V=null===(w=e[1])||void 0===w?void 0:w.nombre)&&void 0!==V?V:""),this.formulario.controls.receptorZZEvidencia.setValue(null!==(S=null===(j=e[1])||void 0===j?void 0:j.fotoTica)&&void 0!==S?S:""),this.formulario.controls.cotTica.setValue(null!==(T=null===(no=e[2])||void 0===no?void 0:no.nroTica)&&void 0!==T?T:""),this.formulario.controls.cotTicaProvisorio.setValue(null!==(so=null===(lo=e[2])||void 0===lo?void 0:lo.ticaProvisoria)&&void 0!==so&&so),this.formulario.controls.cotNombre.setValue(null!==(co=null===(uo=e[2])||void 0===uo?void 0:uo.nombre)&&void 0!==co?co:""),this.formulario.controls.cotEvidencia.setValue(null!==(mo=null===(po=e[2])||void 0===po?void 0:po.fotoTica)&&void 0!==mo?mo:""),this.formulario.controls.bodegaTica.setValue(null!==(fo=null===(go=e[3])||void 0===go?void 0:go.nroTica)&&void 0!==fo?fo:""),this.formulario.controls.bodegaTicaProvisorio.setValue(null!==(bo=null===(ho=e[3])||void 0===ho?void 0:ho.ticaProvisoria)&&void 0!==bo&&bo),this.formulario.controls.bodegaNombre.setValue(null!==(vo=null===(_o=e[3])||void 0===_o?void 0:_o.nombre)&&void 0!==vo?vo:""),this.formulario.controls.bodegaEvidencia.setValue(null!==(Co=null===(To=e[3])||void 0===To?void 0:To.fotoTica)&&void 0!==Co?Co:"")}takePicture(){var e=this;return(0,_.A)(function*(){const t=yield L.i7.getPhoto({quality:80,allowEditing:!1,resultType:L.LK.DataUrl,width:800,height:600}),l={id:Date.now().toString()+Math.random().toString(36).substring(2),dataUrl:t.dataUrl};console.log(l),e.slidesEvidencia.push(l)})()}onDeleteSlide(e){console.log(e),this.slidesEvidencia=this.slidesEvidencia.filter(t=>t.id!==e),console.log(this.slidesEvidencia)}emitirEvidenia(){this.evidencia.emit(this.slidesEvidencia)}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(G),o.rXU(B),o.rXU(s.ok),o.rXU(x.nX),o.rXU(P.K),o.rXU(x.Ix))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-traslados-escolta-retenidos-en-traslado"]],outputs:{evidencia:"evidencia"},standalone:!0,features:[o.aNF],decls:52,vars:8,consts:[[3,"title"],[1,"background"],[1,"container","mx-auto","ion-padding-start","ion-padding-end","ion-padding-bottom","rounded-lg"],[1,"ion-padding"],[3,"submit","formGroup"],[3,"formulario"],[1,"pl-1","pr-1"],[1,"mt-4"],[1,"text-lg","font-semibold","text-pantone-pro-black-c","pl-7"],[1,"mt-3"],[3,"datosCargados","dataFormularios"],[1,"grid","grid-cols-2","mt-6"],[1,"text-right"],["vertical","end","horizontal","end","slot","fixed"],["type","button",3,"click"],["name","camera",1,"text-slate-200"],[1,"mt-8","mb-4"],[3,"slides"],[1,"grid","grid-cols-1","md:grid-cols-1","pl-6","pr-6","mt-3"],[1,"text-lg","font-semibold","text-pantone-pro-black-c"],["for","numTel",1,"block","text-sm","font-medium","text-gray-700"],["placeholder","Detalle","onresize","false","formControlName","observacion","name","","id","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500",3,"value"],[1,"pt-6","text-right","pr-9","pb-6"],["type","submit",1,"w-40","h-12","bg-pantone-312c","hover:bg-pantone-286c","text-white","rounded-lg"],[3,"deleteSlideEvent","slides"],[1,"flex","justify-center","items-center"],[1,"text-gray-500"]],template:function(e,t){1&e&&(o.nrm(0,"app-navbar",0),o.j41(1,"ion-content",1)(2,"div",2),o.nrm(3,"app-title-traslado"),o.j41(4,"ion-card",3)(5,"form",4),o.bIt("submit",function(){return t.onSubmit()}),o.nrm(6,"app-datos-vuelo-traslado-entregado",5),o.j41(7,"div",6),o.nrm(8,"app-divider"),o.k0s(),o.nrm(9,"app-datos-avsec-escolta-traslado-entregado",5),o.j41(10,"div",6),o.nrm(11,"app-divider"),o.k0s(),o.j41(12,"div",7)(13,"div")(14,"h1",8),o.EFF(15,"Listado de Objeto (s)"),o.k0s()(),o.j41(16,"div",9),o.DNE(17,ui,1,2,"app-tabla-tickets-seleccionados",10),o.k0s()(),o.j41(18,"div",6),o.nrm(19,"app-divider"),o.k0s(),o.j41(20,"div",7)(21,"div")(22,"h1",8),o.EFF(23,"Datos del Personal"),o.k0s()(),o.j41(24,"div",9),o.nrm(25,"app-tabla-ticas-firmas"),o.k0s()(),o.j41(26,"div",6),o.nrm(27,"app-divider"),o.k0s(),o.nrm(28,"app-datos-entrega-traslado",5),o.j41(29,"div",6),o.nrm(30,"app-divider"),o.k0s(),o.j41(31,"div",11)(32,"div")(33,"h1",8),o.EFF(34,"Evidencia ZZ"),o.k0s()(),o.j41(35,"div",12)(36,"ion-fab",13)(37,"ion-fab-button",14),o.bIt("click",function(){return t.takePicture()}),o.nrm(38,"ion-icon",15),o.k0s()()()(),o.j41(39,"div",16),o.DNE(40,mi,1,1,"app-swiper",17)(41,pi,3,0),o.k0s(),o.j41(42,"div",18)(43,"div")(44,"h1",19),o.EFF(45,"Observaciones"),o.k0s()(),o.j41(46,"label",20),o.EFF(47,"Observaciones"),o.k0s(),o.nrm(48,"textarea",21),o.k0s(),o.j41(49,"div",22)(50,"button",23),o.EFF(51," Guardar "),o.k0s()()()()()()),2&e&&(o.Y8G("title",t.title),o.R7$(5),o.Y8G("formGroup",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(3),o.Y8G("formulario",t.formulario),o.R7$(8),o.vxM(17,t.dataFormularios&&t.dataFormularios.length>0?17:-1),o.R7$(11),o.Y8G("formulario",t.formulario),o.R7$(12),o.vxM(40,t.slidesEvidencia.length>0?40:41),o.R7$(8),o.Y8G("value",t.observacionPredeterminada))},dependencies:[c.b_,c.iq,c.YW,c.Q8,c.W9,C.MD,s.YN,s.qT,s.me,s.BC,s.cb,A.a,s.X1,s.j4,s.JD,D.h,oi,eo,ai,ao,Zo,ro,U]}),n})(),gi=(()=>{var r;class n{constructor(){this.disabled=!0}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-retiro-traslados-no-escolta-entregados"]],inputs:{firmaUsroComp:"firmaUsroComp",firmaAvsec:"firmaAvsec",formulario:"formulario"},standalone:!0,features:[o.aNF],decls:44,vars:12,consts:[[1,"centrado"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-8","mt-4"],[1,"items-center"],["for","usroCompTica",1,"block","text-sm","font-medium","text-gray-700","w-full"],["size","6",1,"flex","flex-col","justify-center"],[3,"formulario","formControlName"],["size","6",1,"flex","justify-center","items-center"],[1,"flex","items-center"],["readonly","","type","checkbox","formControlName","usroCompTicaProvisorio",3,"disabled"],["for","usroCompTicaProvisorio",1,"ml-2","text-sm","font-medium","text-gray-700"],[1,"mt-4"],[1,"block","text-sm","font-medium","text-gray-700","w-full"],["for","avsecTica",1,"block","text-sm","font-medium","text-gray-700","w-full"],["readonly","","type","checkbox","formControlName","avsecTicaProvisorio"],["for","avsecTicaProvisorio",1,"ml-2","text-sm","font-medium","text-gray-700"],[1,"grid","grid-cols-2","gap-8","mt-8"],[1,"flex","justify-center","items-center"],["alt","Firma Usuario de Compa\xf1\xeda",1,"h-32","w-32","object-contain",3,"src"],["alt","Firma AVSEC",1,"h-32","w-32","object-contain",3,"src"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"ion-grid")(5,"ion-row",3)(6,"label",4),o.EFF(7," Nro\xb0 TICA de usuario de compa\xf1\xeda "),o.k0s(),o.j41(8,"ion-col",5),o.nrm(9,"app-form-input",6),o.k0s(),o.j41(10,"ion-col",7)(11,"div",8),o.nrm(12,"input",9),o.j41(13,"label",10),o.EFF(14," TICA Provisoria "),o.k0s()()()()(),o.j41(15,"div",11)(16,"label",12),o.EFF(17," Nombre del funcionario "),o.k0s(),o.nrm(18,"app-form-input",6),o.k0s()(),o.j41(19,"div")(20,"ion-grid")(21,"ion-row",3)(22,"label",13),o.EFF(23," Nro\xb0 TICA AVSEC que Entrega "),o.k0s(),o.j41(24,"ion-col",5),o.nrm(25,"app-form-input",6),o.k0s(),o.j41(26,"ion-col",7)(27,"div",8),o.nrm(28,"input",14),o.j41(29,"label",15),o.EFF(30," TICA Provisoria "),o.k0s()()()()(),o.j41(31,"div",11)(32,"label",12),o.EFF(33," Nombre del funcionario "),o.k0s(),o.nrm(34,"app-form-input",6),o.k0s()()(),o.j41(35,"div",16)(36,"div")(37,"ion-card")(38,"div",17),o.nrm(39,"img",18),o.k0s()()(),o.j41(40,"div")(41,"ion-card")(42,"div",17),o.nrm(43,"img",19),o.k0s()()()()()()),2&e&&(o.R7$(),o.Y8G("formGroup",t.formulario),o.R7$(8),o.Y8G("formulario",t.formulario)("formControlName","usroCompTica"),o.R7$(3),o.Y8G("disabled",t.disabled),o.R7$(6),o.Y8G("formulario",t.formulario)("formControlName","usroCompNombre"),o.R7$(7),o.Y8G("formulario",t.formulario)("formControlName","avsecTica"),o.R7$(9),o.Y8G("formulario",t.formulario)("formControlName","avsecNombre"),o.R7$(5),o.Y8G("src",t.firmaUsroComp,o.B4B),o.R7$(4),o.Y8G("src",t.firmaAvsec,o.B4B))},dependencies:[c.b_,c.hU,c.ln,c.lO,s.YN,s.Zm,s.BC,s.cb,s.X1,s.j4,s.JD,O]}),n})();function bi(r,n){if(1&r&&o.nrm(0,"app-tabla-tickets-seleccionados",10),2&r){const a=o.XpG();o.Y8G("dataFormularios",a.dataFormularios)("datosCargados",a.datosCargados)}}let hi=(()=>{var r;class n{constructor(e,t,i,l){this.rutaActiva=e,this.fb=t,this.service=i,this.trasladoService=l,this.title="Fomulario de Objetos Retenidos",this.trasladoResumido=[],this.trasladoCompleto=[],this.idFormularios=[],this.dataFormularios=[],this.formulario=this.fb.group({companiaAerea:[""],vuelo:[""],origen:[""],destino:[""],horaVuelo:[""],formularios:[""],usroCompTica:[""],usroCompTicaProvisorio:[{value:"",disabled:!0}],usroCompNombre:[""],usroCompEvidencia:[""],avsecTica:[""],avsecTicaProvisorio:[{value:"",disabled:!0}],avsecNombre:[""],avsecEvidencia:[""]})}ngOnInit(){this.suscribirseARutaActiva()}suscribirseARutaActiva(){var e=this;return(0,_.A)(function*(){try{const t=yield e.obtenerParametrosRuta();e.idFormulario=Number(t.get("id")),yield e.obtenerTrasladoPorId(e.idFormulario),e.obtenerIdFormulario(),e.obtenerDataFormularios(e.idFormularios)}catch(t){console.log(t)}})()}obtenerParametrosRuta(){return new Promise((e,t)=>{this.rutaActiva.paramMap.subscribe({next:i=>e(i),error:i=>t(i)})})}obtenerTrasladoPorId(e){return new Promise((t,i)=>{(0,io.p)([this.service.getTrasladoById(e),this.trasladoService.getTrasladoById(e)]).subscribe({next:([l,d])=>{console.log("Data  con escolta",l),console.log("Data sin escolta",d),this.trasladoResumido=l,this.trasladoCompleto=d,this.llenarControles(),t()},error(l){console.error(l),i(l)}})})}obtenerIdFormulario(){console.log(this.trasladoResumido),this.idFormularios=this.trasladoResumido.map(e=>e.idFormulario),console.log(this.idFormularios)}obtenerDataFormularios(e){const t=e.map(i=>this.service.getDataById(i).toPromise());console.log("Peticiones",t),Promise.all(t).then(i=>{this.dataFormularios=i,console.log("Todos los datos de formularios han sido cargados:",this.dataFormularios),this.datosCargados=!0}).catch(i=>{console.error("Error al obtener datos:",i)})}llenarControles(){this.formulario.controls.companiaAerea.setValue(this.trasladoResumido[0].companiaVuelo.companiaAereaData.nombre),this.formulario.controls.vuelo.setValue(this.trasladoResumido[0].companiaVuelo.numeroVuelo),this.formulario.controls.origen.setValue(this.trasladoResumido[0].origen),this.formulario.controls.destino.setValue(this.trasladoResumido[0].destino),this.formulario.controls.horaVuelo.setValue(this.trasladoResumido[0].fechaHoraVuelo.split("T")[1]),this.formulario.controls.usroCompTica.setValue(this.trasladoCompleto.usroCompTica),this.formulario.controls.usroCompTicaProvisorio.setValue(this.trasladoCompleto.usroCompTicaProvisorio),this.formulario.controls.usroCompNombre.setValue(this.trasladoCompleto.usroCompNombre),this.firmaUsroComp=this.trasladoCompleto.usroCompEvidencia,this.formulario.controls.avsecTica.setValue(this.trasladoCompleto.avsecTica),this.formulario.controls.avsecTicaProvisorio.setValue(this.trasladoCompleto.avsecTicaProvisorio),this.formulario.controls.avsecNombre.setValue(this.trasladoCompleto.avsecNombre),this.firmaAvsec=this.trasladoCompleto.avsecEvidencia}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(x.nX),o.rXU(s.ok),o.rXU(P.K),o.rXU(B))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-traslados-retenidos-entregados"]],standalone:!0,features:[o.aNF],decls:31,vars:6,consts:[[3,"title"],[1,"background"],[1,"container","mx-auto","ion-padding-start","ion-padding-end","ion-padding-bottom","rounded-lg"],[1,"ion-padding"],["action",""],[3,"formulario"],[1,"pl-1","pr-1"],[1,"mt-4"],[1,"text-lg","font-semibold","text-pantone-pro-black-c","pl-7"],[1,"mt-3"],[3,"dataFormularios","datosCargados"],["size","1"],["size","10"],[3,"formulario","firmaUsroComp","firmaAvsec"],[1,"grid","grid-cols-3"],[1,"relative","bottom-6","right-6"]],template:function(e,t){1&e&&(o.nrm(0,"app-navbar",0),o.j41(1,"ion-content",1)(2,"div",2),o.nrm(3,"app-title-traslado"),o.j41(4,"ion-card",3)(5,"form",4),o.nrm(6,"app-datos-vuelo-traslado-entregado",5),o.j41(7,"div",6),o.nrm(8,"app-divider"),o.k0s(),o.j41(9,"div",7)(10,"div")(11,"h1",8),o.EFF(12,"Listado de Objeto (s)"),o.k0s()(),o.j41(13,"div",9),o.DNE(14,bi,1,2,"app-tabla-tickets-seleccionados",10),o.k0s()(),o.j41(15,"div",6),o.nrm(16,"app-divider"),o.k0s(),o.j41(17,"div")(18,"h1",8),o.EFF(19,"Datos de Usuario de Compa\xf1ia y AVSEC que Entrega"),o.k0s()(),o.j41(20,"ion-grid")(21,"ion-row"),o.nrm(22,"ion-col",11),o.j41(23,"ion-col",12),o.nrm(24,"app-datos-retiro-traslados-no-escolta-entregados",13),o.k0s(),o.nrm(25,"ion-col",11),o.k0s()(),o.j41(26,"div",14),o.nrm(27,"div")(28,"div"),o.j41(29,"div",15),o.nrm(30,"app-stamp"),o.k0s()()()()()()),2&e&&(o.Y8G("title",t.title),o.R7$(6),o.Y8G("formulario",t.formulario),o.R7$(8),o.vxM(14,t.dataFormularios&&t.dataFormularios.length>0?14:-1),o.R7$(10),o.Y8G("formulario",t.formulario)("firmaUsroComp",t.firmaUsroComp)("firmaAvsec",t.firmaAvsec))},dependencies:[c.b_,c.lO,c.ln,c.hU,c.W9,C.MD,s.YN,s.qT,s.cb,s.cV,A.a,D.h,ao,ro,gi,oo.r,U],styles:["ion-content.background[_ngcontent-%COMP%]{--background: #f1f5f9}"]}),n})(),vi=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-datos-entrega-traslado-entregado"]],inputs:{formulario:"formulario"},standalone:!0,features:[o.aNF],decls:12,vars:12,consts:[[3,"formGroup"],[1,"mt-4"],[1,"text-lg","font-semibold","text-pantone-pro-black-c","pl-7"],[1,"grid","grid-cols-3","gap-4","mt-4"],[1,"pl-6"],[3,"formulario","formControlName","label"],[3,"formulario","formControlName","label","placeholder"],[1,"pr-6"]],template:function(e,t){1&e&&(o.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),o.EFF(4,"Datos de Entrega"),o.k0s()(),o.j41(5,"div",3)(6,"div",4),o.nrm(7,"app-form-input",5),o.k0s(),o.j41(8,"div"),o.nrm(9,"app-form-input",6),o.k0s(),o.j41(10,"div",7),o.nrm(11,"app-form-input",6),o.k0s()()()()),2&e&&(o.Y8G("formGroup",t.formulario),o.R7$(7),o.Y8G("formulario",t.formulario)("formControlName","horaLlegadaPuenteEmbarque")("label","Hora llegada al puente"),o.R7$(2),o.Y8G("formulario",t.formulario)("formControlName","matriculaAeronave")("label","Matr\xedcula de aeronave")("placeholder","Matr\xedcula de aeronave"),o.R7$(2),o.Y8G("formulario",t.formulario)("formControlName","horaFinEscolta")("label","Hora Fin de Escolta")("placeholder","Hora fin de escolta"))},dependencies:[O,s.YN,s.BC,s.cb,s.X1,s.j4,s.JD]}),n})(),_i=(()=>{var r;class n{constructor(){}ngOnInit(){}}return(r=n).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-evidencia-tica-popover-entregado"]],inputs:{foto:"foto"},standalone:!0,features:[o.aNF],decls:2,vars:1,consts:[["scrollY","false",1,"ion-padding"],["alt","",3,"src"]],template:function(e,t){1&e&&(o.j41(0,"ion-content",0),o.nrm(1,"img",1),o.k0s()),2&e&&(o.R7$(),o.FS9("src",t.foto,o.B4B))},dependencies:[c.W9]}),n})();function Ci(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Tipo Funcionario "),o.k0s())}function Ti(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Numero de tica "),o.k0s())}function ki(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Nombre "),o.k0s())}function Fi(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Tica Provisoria "),o.k0s())}function Ei(r,n){if(1&r&&o.nrm(0,"ion-checkbox",11),2&r){const a=o.XpG().row;o.Y8G("checked",a.ticaProvisoria)}}function xi(r,n){if(1&r&&o.DNE(0,Ei,1,1,"ion-checkbox",11),2&r){const a=n.row;o.vxM(0,!0===a.ticaProvisoria||!1===a.ticaProvisoria?0:-1)}}function ji(r,n){1&r&&(o.j41(0,"span",10),o.EFF(1," Acciones "),o.k0s())}function yi(r,n){if(1&r){const a=o.RV6();o.j41(0,"div")(1,"button",13),o.bIt("click",function(t){o.eBV(a);const i=o.XpG().row,l=o.XpG();return o.Njj(l.openFotoPopover(t,i.evidencia))}),o.j41(2,"div",12),o.qSk(),o.j41(3,"svg",14),o.nrm(4,"path",15)(5,"path",16),o.k0s()()()()}}function Ri(r,n){if(1&r&&(o.j41(0,"div",12),o.DNE(1,yi,6,0,"div"),o.k0s()),2&r){const a=n.row;o.R7$(),o.vxM(1,"No disponible"!=a.evidencia?1:-1)}}let wi=(()=>{var r;class n{constructor(e,t,i){this.modalController=e,this.personalService=t,this.popoverController=i,this.ColumnMode=g.oZ,this.rows=[],this.temp=[],this.filteredRows=[]}ngOnInit(){}ngOnChanges(e){this.funcionarios&&Array.isArray(this.funcionarios)?this.getDataForTable(this.funcionarios):(console.warn("funcionarios no es un array o est\xe1 indefinido",this.funcionarios),this.getDataForTable([]))}getDataForTable(e){this.rows=e,this.temp=[...this.rows],this.loadingIndicator=!1}openFotoPopover(e,t){var i=this;return(0,_.A)(function*(){console.log("evidencia",t);const l=yield i.popoverController.create({component:_i,event:e,side:"left",componentProps:{foto:t}});yield l.present();const{role:d}=yield l.onDidDismiss();console.log(`Popover dismissed with role: ${d}`)})()}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(c.W3),o.rXU(G),o.rXU(c.IE))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-tabla-ticas-firmas-entregado"]],inputs:{formulario:"formulario",funcionarios:"funcionarios"},standalone:!0,features:[o.OA$,o.aNF],decls:18,vars:14,consts:[["table",""],["size","12"],[1,"bootstrap",3,"columnMode","headerHeight","footerHeight","rowHeight","loadingIndicator","scrollbarH","limit","rows"],["prop","tipoFuncionario",3,"width"],["ngx-datatable-header-template",""],["prop","nroTica",3,"width"],["prop","nombre",3,"width"],["prop","ticaProvisoria",3,"width"],["ngx-datatable-cell-template",""],[3,"frozenRight","width"],[1,"tableHeader"],["disabled","",3,"checked"],[1,"flex","justify-center","items-center"],["type","button",1,"w-10","h-8","bg-pantone-312c","hover:bg-pantone-286c","rounded-lg",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-white"],["stroke","currentColor","stroke-width","2","d","M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"],["stroke","currentColor","stroke-width","2","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"]],template:function(e,t){1&e&&(o.j41(0,"ion-grid")(1,"ion-row")(2,"ion-col",1)(3,"ion-card")(4,"ngx-datatable",2,0)(6,"ngx-datatable-column",3),o.DNE(7,Ci,2,0,"ng-template",4),o.k0s(),o.j41(8,"ngx-datatable-column",5),o.DNE(9,Ti,2,0,"ng-template",4),o.k0s(),o.j41(10,"ngx-datatable-column",6),o.DNE(11,ki,2,0,"ng-template",4),o.k0s(),o.j41(12,"ngx-datatable-column",7),o.DNE(13,Fi,2,0,"ng-template",4)(14,xi,1,1,"ng-template",8),o.k0s(),o.j41(15,"ngx-datatable-column",9),o.DNE(16,ji,2,0,"ng-template",4)(17,Ri,2,1,"ng-template",8),o.k0s()()()()()()),2&e&&(o.R7$(4),o.Y8G("columnMode",t.ColumnMode.force)("headerHeight",50)("footerHeight",50)("rowHeight","auto")("loadingIndicator",t.loadingIndicator)("scrollbarH",!0)("limit",7)("rows",t.rows),o.R7$(2),o.Y8G("width",140),o.R7$(2),o.Y8G("width",120),o.R7$(2),o.Y8G("width",120),o.R7$(2),o.Y8G("width",20),o.R7$(3),o.Y8G("frozenRight",!0)("width",70))},dependencies:[c.eY,c.b_,c.ln,c.hU,c.lO,g.Kj,g.ge,g.ed,g.V,g.QI]}),n})();function Pi(r,n){if(1&r&&o.nrm(0,"app-tabla-tickets-seleccionados",10),2&r){const a=o.XpG();o.Y8G("datosCargados",a.datosCargados)("dataFormularios",a.dataFormularios)}}function Di(r,n){if(1&r&&o.nrm(0,"app-swiper",14),2&r){const a=o.XpG();o.Y8G("slides",a.slidesEvidencia)}}function Ni(r,n){1&r&&(o.j41(0,"div",21)(1,"p",22),o.EFF(2,"No hay evidencia"),o.k0s()())}const Vi=[{path:"",component:xo},{path:"bandeja-entrada-retenidos",component:xo},{path:"form-retenidos",component:Xt},{path:"form-retiro-retenidos/:id",resolve:{obj:Uo},component:nr},{path:"detalle-retenido/:id",resolve:{obj:Uo},component:Fr},{path:"obj-table",component:K},{path:"bandeja-entrada-traslados",component:ja},{path:"traslados-retenidos/:companiaAereaId/:numeroVuelo/:puenteEmbarque/:escolta/:companiaAerea/:origen/:destino/:fechaHoraVuelo",component:zr},{path:"traslados-retenidos-entregados/:id",component:hi},{path:"traslados-escolta-retenidos/:companiaAereaId/:numeroVuelo/:puenteEmbarque/:escolta/:companiaAerea/:origen/:destino/:fechaHoraVuelo",component:Ia},{path:"traslados-escolta-retenidos-en-traslado/:id",component:fi},{path:"traslado-escolta-retenido-entregado/:id",component:(()=>{var r;class n{constructor(e,t,i,l){this.fb=e,this.rutaActiva=t,this.trasladoService=i,this.service=l,this.title="Formulario de Objetos Retenidos Entregado",this.trasladoResumido=[],this.trasladoCompleto=[],this.idFormularios=[],this.dataFormularios=[],this.slidesEvidencia=[],this.formulario=this.fb.group({companiaAerea:[""],vuelo:[""],origen:[""],destino:[""],formularios:[""],avsecTica:[""],avsecTicaProvisorio:[""],avsecEvidencia:[""],avsecNombre:[""],horaVuelo:[""],avsecTurno:[""],horaInicioEscolta:[""],puenteEmbarque:[""],horaFinEscolta:["",s.k0.required],horaLlegadaPuenteEmbarque:["",s.k0.required],usroCompTica:["",s.k0.required],usroCompNombre:[""],usroCompTicaProvisorio:[""],usroCompEvidencia:[""],receptorZZTica:["",s.k0.required],receptorZZNombre:[""],receptorZZTicaProvisorio:[""],receptorZZEvidencia:[""],cotTica:["",s.k0.required],cotNombre:[""],cotTicaProvisorio:[""],cotEvidencia:[""],bodegaTica:["",s.k0.required],bodegaNombre:[""],bodegaTicaProvisorio:[""],bodegaEvidencia:[""],observacion:[""],requiereEscolta:[""],fechaHora:[""],fechaHoraCreacion:[""],matriculaAeronave:["",s.k0.required]})}ngOnInit(){this.suscribirseARutaActiva()}suscribirseARutaActiva(){this.rutaActiva.paramMap.subscribe({next:e=>this.obtenerParams(e),error:e=>console.error(e)})}obtenerParams(e){var t=this;return(0,_.A)(function*(){const i=e.get("id");t.idTraslado=Number(i),yield t.obtenerDataTraslado(i),t.obtenerIdFormulario(),t.obtenerDataFormularios(t.idFormularios),t.llenarControles(),console.log(t.funcionarios)})()}obtenerDataTraslado(e){return new Promise((t,i)=>{(0,io.p)([this.trasladoService.getTrasladoById(e),this.service.getTrasladoById(e)]).subscribe({next:([l,d])=>{console.log("Data traslado",l),console.log("Data traslado",d),this.trasladoCompleto=l,this.trasladoResumido=d,t()},error:l=>{console.error(l),i()}})})}llenarControles(){this.formulario.controls.companiaAerea.setValue(this.trasladoResumido[0].companiaVuelo.companiaAereaData.nombre),this.formulario.controls.vuelo.setValue(this.trasladoResumido[0].companiaVuelo.numeroVuelo),this.formulario.controls.origen.setValue(this.trasladoResumido[0].origen),this.formulario.controls.destino.setValue(this.trasladoResumido[0].destino),this.formulario.controls.horaVuelo.setValue(this.trasladoResumido[0].fechaHoraVuelo.split("T")[1]),this.formulario.controls.avsecTica.setValue(this.trasladoCompleto.avsecTica),this.formulario.controls.avsecTicaProvisorio.setValue(this.trasladoCompleto.avsecTicaProvisorio),this.trasladoCompleto.avsecNombre&&this.formulario.controls.avsecNombre.setValue(this.trasladoCompleto.avsecNombre),this.formulario.controls.avsecTurno.setValue(this.trasladoCompleto.avsecTurno),this.formulario.controls.horaInicioEscolta.setValue(this.trasladoCompleto.horaInicioEscolta),this.formulario.controls.puenteEmbarque.setValue(this.trasladoCompleto.puenteEmbarque.nombre),this.formulario.controls.observacion.setValue(this.trasladoCompleto.observacion),this.formulario.controls.horaFinEscolta.setValue(this.trasladoCompleto.horaFinEscolta),this.formulario.controls.horaLlegadaPuenteEmbarque.setValue(this.trasladoCompleto.horaLlegadaPuenteEmbarque),this.formulario.controls.matriculaAeronave.setValue(this.trasladoCompleto.matriculaAeronave),this.formulario.controls.usroCompNombre.setValue(this.trasladoCompleto.usroCompNombre?this.trasladoCompleto.usroCompNombre:"No disponible"),this.formulario.controls.usroCompTica.setValue(this.trasladoCompleto.usroCompTica),this.formulario.controls.usroCompTicaProvisorio.setValue(this.trasladoCompleto.usroCompTicaProvisorio),this.formulario.controls.usroCompEvidencia.setValue(this.trasladoCompleto.usroCompEvidencia?this.trasladoCompleto.usroCompEvidencia:"No disponible"),this.formulario.controls.receptorZZNombre.setValue(this.trasladoCompleto.receptorZZNombre?this.trasladoCompleto.receptorZZNombre:"No disponible"),this.formulario.controls.receptorZZTica.setValue(this.trasladoCompleto.receptorZZTica),this.formulario.controls.receptorZZTicaProvisorio.setValue(this.trasladoCompleto.receptorZZTicaProvisorio),this.formulario.controls.receptorZZEvidencia.setValue(this.trasladoCompleto.receptorZZEvidencia?this.trasladoCompleto.receptorZZEvidencia:"No disponible"),this.formulario.controls.cotNombre.setValue(this.trasladoCompleto.cotNombre?this.trasladoCompleto.cotNombre:"No disponible"),this.formulario.controls.cotTica.setValue(this.trasladoCompleto.cotTica),this.formulario.controls.cotTicaProvisorio.setValue(this.trasladoCompleto.cotTicaProvisorio),this.formulario.controls.cotEvidencia.setValue(this.trasladoCompleto.cotEvidencia?this.trasladoCompleto.cotEvidencia:"No disponible"),this.formulario.controls.bodegaNombre.setValue(this.trasladoCompleto.bodegaNombre?this.trasladoCompleto.bodegaNombre:"No disponible"),this.formulario.controls.bodegaTica.setValue(this.trasladoCompleto.bodegaTica),this.formulario.controls.bodegaTicaProvisorio.setValue(this.trasladoCompleto.bodegaTicaProvisorio),this.formulario.controls.bodegaEvidencia.setValue(this.trasladoCompleto.bodegaEvidencia?this.trasladoCompleto.bodegaEvidencia:"No disponible"),this.funcionarios=this.crearArrayFuncionarios()}obtenerIdFormulario(){console.log(this.trasladoResumido),this.idFormularios=this.trasladoResumido.map(e=>e.idFormulario),console.log(this.idFormularios)}obtenerDataFormularios(e){const t=e.map(i=>this.service.getDataById(i).toPromise());console.log("Peticiones",t),Promise.all(t).then(i=>{this.dataFormularios=i,console.log("Todos los datos de formularios han sido cargados:",this.dataFormularios),this.datosCargados=!0}).catch(i=>{console.error("Error al obtener datos:",i)})}crearArrayFuncionarios(){let e=[];return e.push({tipoFuncionario:"Personal que retira ZZ",nroTica:this.formulario.controls.usroCompTica.value,nombre:this.formulario.controls.usroCompNombre.value,ticaProvisoria:this.formulario.controls.usroCompTicaProvisorio.value,evidencia:this.formulario.controls.usroCompEvidencia.value}),e.push({tipoFuncionario:"Personal que recibe ZZ",nroTica:this.formulario.controls.receptorZZTica.value,nombre:this.formulario.controls.receptorZZNombre.value,ticaProvisoria:this.formulario.controls.receptorZZTicaProvisorio.value,evidencia:this.formulario.controls.receptorZZEvidencia.value}),e.push({tipoFuncionario:"COT",nroTica:this.formulario.controls.cotTica.value,nombre:this.formulario.controls.cotNombre.value,ticaProvisoria:this.formulario.controls.cotTicaProvisorio.value,evidencia:this.formulario.controls.cotEvidencia.value}),e.push({tipoFuncionario:"Personal en bodega",nroTica:this.formulario.controls.bodegaTica.value,nombre:this.formulario.controls.bodegaNombre.value,ticaProvisoria:this.formulario.controls.bodegaTicaProvisorio.value,evidencia:this.formulario.controls.bodegaEvidencia.value}),e}}return(r=n).\u0275fac=function(e){return new(e||r)(o.rXU(s.ok),o.rXU(x.nX),o.rXU(B),o.rXU(P.K))},r.\u0275cmp=o.VBU({type:r,selectors:[["app-traslado-escolta-retenido-entregado"]],standalone:!0,features:[o.aNF],decls:50,vars:9,consts:[[3,"title"],[1,"background"],[1,"container","mx-auto","ion-padding-start","ion-padding-end","ion-padding-bottom","rounded-lg"],[1,"ion-padding"],[3,"formGroup"],[3,"formulario"],[1,"pl-1","pr-1"],[1,"mt-4"],[1,"text-lg","font-semibold","text-pantone-pro-black-c","pl-7"],[1,"mt-3"],[3,"datosCargados","dataFormularios"],[3,"formulario","funcionarios"],[1,"grid","grid-cols-2","mt-6"],[1,"mt-8","mb-4"],[3,"slides"],[1,"grid","grid-cols-1","md:grid-cols-1","pl-6","pr-6","mt-3"],[1,"text-lg","font-semibold","text-pantone-pro-black-c"],["for","numTel",1,"block","text-sm","font-medium","text-gray-700"],["placeholder","Detalle","onresize","false","formControlName","observacion","name","","id","",1,"mt-1","block","w-full","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","p-2","focus:ring-blue-500","focus:border-blue-500"],[1,"grid","grid-cols-3"],[1,"relative","bottom-6","right-6"],[1,"flex","justify-center","items-center"],[1,"text-gray-500"]],template:function(e,t){1&e&&(o.nrm(0,"app-navbar",0),o.j41(1,"ion-content",1)(2,"div",2),o.nrm(3,"app-title-traslado"),o.j41(4,"ion-card",3)(5,"form",4),o.nrm(6,"app-datos-vuelo-traslado-entregado",5),o.j41(7,"div",6),o.nrm(8,"app-divider"),o.k0s(),o.nrm(9,"app-datos-avsec-escolta-traslado-entregado",5),o.j41(10,"div",6),o.nrm(11,"app-divider"),o.k0s(),o.j41(12,"div",7)(13,"div")(14,"h1",8),o.EFF(15,"Listado de Objetos (s)"),o.k0s()(),o.j41(16,"div",9),o.DNE(17,Pi,1,2,"app-tabla-tickets-seleccionados",10),o.k0s()(),o.j41(18,"div",6),o.nrm(19,"app-divider"),o.k0s(),o.j41(20,"div",7)(21,"div")(22,"h1",8),o.EFF(23,"Datos del Personal"),o.k0s()(),o.j41(24,"div",9),o.nrm(25,"app-tabla-ticas-firmas-entregado",11),o.k0s()(),o.j41(26,"div",6),o.nrm(27,"app-divider"),o.k0s(),o.nrm(28,"app-datos-entrega-traslado-entregado",5),o.j41(29,"div",6),o.nrm(30,"app-divider"),o.k0s(),o.j41(31,"div",12)(32,"div")(33,"h1",8),o.EFF(34,"Evidencia ZZ"),o.k0s()()(),o.j41(35,"div",13),o.DNE(36,Di,1,1,"app-swiper",14)(37,Ni,3,0),o.k0s(),o.j41(38,"div",15)(39,"div")(40,"h1",16),o.EFF(41,"Observaciones"),o.k0s()(),o.j41(42,"label",17),o.EFF(43,"Observaciones"),o.k0s(),o.nrm(44,"textarea",18),o.k0s(),o.j41(45,"div",19),o.nrm(46,"div")(47,"div"),o.j41(48,"div",20),o.nrm(49,"app-stamp"),o.k0s()()()()()()),2&e&&(o.Y8G("title",t.title),o.R7$(5),o.Y8G("formGroup",t.formulario),o.R7$(),o.Y8G("formulario",t.formulario),o.R7$(3),o.Y8G("formulario",t.formulario),o.R7$(8),o.vxM(17,t.dataFormularios&&t.dataFormularios.length>0?17:-1),o.R7$(8),o.Y8G("formulario",t.formulario)("funcionarios",t.funcionarios),o.R7$(3),o.Y8G("formulario",t.formulario),o.R7$(8),o.vxM(36,t.slidesEvidencia.length>0?36:37))},dependencies:[c.b_,c.W9,C.MD,s.YN,s.qT,s.me,s.BC,s.cb,s.X1,s.j4,s.JD,A.a,ao,D.h,Zo,ro,eo,vi,oo.r,wi,U]}),n})()}]}}]);